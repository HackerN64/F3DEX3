<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>F3DEX3: Performance Results</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript" src="darkmode_toggle.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">F3DEX3
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('performance.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Performance Results</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md32"></a>
Philosophy</h1>
<p>The base version of F3DEX3 was created for RDP bound games like OoT, where new visual effects are desired and increasing the RSP time a bit does not affect the overall performance. If your game is RSP bound, using the base version of F3DEX3 will make it slower.</p>
<p>Conversely, F3DEX3_LVP_NOC was created with the goal of matching the RSP performance of F3DEX2 on all critical paths in the microcode: command dispatch, vertex processing, and triangle processing. Then, the RDP and memory traffic performance improvements of F3DEX3&ndash;56 vertex buffer, auto-batched rendering, etc.&ndash;should improve performance from there. This means that F3DEX3_LVP_NOC can improve performance regardless of whether your game is RSP bound or RDP bound.</p>
<p>Note that F3DEX3_LVP_NOC is still slightly slower than F3DEX2 for various other tasks&ndash;for example, the one-time setup when loading vertices, outside the loop over vertices, is a little slower.</p>
<h1><a class="anchor" id="autotoc_md33"></a>
Performance Results</h1>
<p>These are cycle counts for all the critical paths in the microcode. Lower is better. The timings are hand-counted taking into account all pipeline stalls and all dual-issue conditions. Instruction alignment is sometimes taken into account, otherwise assumed to be optimal.</p>
<p>Vertex / lighting numbers assume no special features (texgen, packed normals, etc.) <a class="el" href="structTri.html">Tri</a> numbers assume texture, shade, and Z. All numbers assume default profiling configuration. Empty cells are "not measured yet".</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone"></th><th class="markdownTableHeadNone">F3DEX2   </th><th class="markdownTableHeadNone">F3DEX3_LVP_NOC   </th><th class="markdownTableHeadNone">F3DEX3_LVP   </th><th class="markdownTableHeadNone">F3DEX3_NOC   </th><th class="markdownTableHeadNone">F3DEX3    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="unionVtx.html">Vtx</a> pair, no lighting   </td><td class="markdownTableBodyNone">54   </td><td class="markdownTableBodyNone">54   </td><td class="markdownTableBodyNone">81   </td><td class="markdownTableBodyNone">79   </td><td class="markdownTableBodyNone">98    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="unionVtx.html">Vtx</a> pair, 0 dir lts   </td><td class="markdownTableBodyNone">Can't   </td><td class="markdownTableBodyNone">64   </td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="unionVtx.html">Vtx</a> pair, 1 dir lt   </td><td class="markdownTableBodyNone">73   </td><td class="markdownTableBodyNone">70   </td><td class="markdownTableBodyNone">96   </td><td class="markdownTableBodyNone">182   </td><td class="markdownTableBodyNone">201    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="unionVtx.html">Vtx</a> pair, 2 dir lts   </td><td class="markdownTableBodyNone">76   </td><td class="markdownTableBodyNone">77   </td><td class="markdownTableBodyNone">103   </td><td class="markdownTableBodyNone">211   </td><td class="markdownTableBodyNone">230    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="unionVtx.html">Vtx</a> pair, 3 dir lts   </td><td class="markdownTableBodyNone">88   </td><td class="markdownTableBodyNone">84   </td><td class="markdownTableBodyNone">110   </td><td class="markdownTableBodyNone">240   </td><td class="markdownTableBodyNone">259    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="unionVtx.html">Vtx</a> pair, 4 dir lts   </td><td class="markdownTableBodyNone">91   </td><td class="markdownTableBodyNone">91   </td><td class="markdownTableBodyNone">117   </td><td class="markdownTableBodyNone">269   </td><td class="markdownTableBodyNone">288    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="unionVtx.html">Vtx</a> pair, 5 dir lts   </td><td class="markdownTableBodyNone">103   </td><td class="markdownTableBodyNone">98   </td><td class="markdownTableBodyNone">124   </td><td class="markdownTableBodyNone">298   </td><td class="markdownTableBodyNone">317    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="unionVtx.html">Vtx</a> pair, 6 dir lts   </td><td class="markdownTableBodyNone">106   </td><td class="markdownTableBodyNone">105   </td><td class="markdownTableBodyNone">131   </td><td class="markdownTableBodyNone">327   </td><td class="markdownTableBodyNone">346    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="unionVtx.html">Vtx</a> pair, 7 dir lts   </td><td class="markdownTableBodyNone">118   </td><td class="markdownTableBodyNone">112   </td><td class="markdownTableBodyNone">138   </td><td class="markdownTableBodyNone">356   </td><td class="markdownTableBodyNone">375    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="unionVtx.html">Vtx</a> pair, 8 dir lts   </td><td class="markdownTableBodyNone">Can't   </td><td class="markdownTableBodyNone">119   </td><td class="markdownTableBodyNone">145   </td><td class="markdownTableBodyNone">385   </td><td class="markdownTableBodyNone">404    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="unionVtx.html">Vtx</a> pair, 9 dir lts   </td><td class="markdownTableBodyNone">Can't   </td><td class="markdownTableBodyNone">126   </td><td class="markdownTableBodyNone">152   </td><td class="markdownTableBodyNone">414   </td><td class="markdownTableBodyNone">433    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Command dispatch   </td><td class="markdownTableBodyNone">12   </td><td class="markdownTableBodyNone" colspan="4">12    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Only/2nd tri to offscreen   </td><td class="markdownTableBodyNone">27   </td><td class="markdownTableBodyNone" colspan="4">29    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">1st tri to offscreen   </td><td class="markdownTableBodyNone">28   </td><td class="markdownTableBodyNone" colspan="4">29    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Only/2nd tri to clip   </td><td class="markdownTableBodyNone">32   </td><td class="markdownTableBodyNone" colspan="4">31    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">1st tri to clip   </td><td class="markdownTableBodyNone">33   </td><td class="markdownTableBodyNone" colspan="4">31    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Only/2nd tri to backface   </td><td class="markdownTableBodyNone">38   </td><td class="markdownTableBodyNone" colspan="4">40    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">1st tri to backface   </td><td class="markdownTableBodyNone">39   </td><td class="markdownTableBodyNone" colspan="4">40    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Only/2nd tri to degenerate   </td><td class="markdownTableBodyNone">42   </td><td class="markdownTableBodyNone" colspan="4">42    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">1st tri to degenerate   </td><td class="markdownTableBodyNone">43   </td><td class="markdownTableBodyNone" colspan="4">42    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Only/2nd tri to occluded   </td><td class="markdownTableBodyNone">Can't   </td><td class="markdownTableBodyNone">Can't   </td><td class="markdownTableBodyNone">49   </td><td class="markdownTableBodyNone">Can't   </td><td class="markdownTableBodyNone">49    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">1st tri to occluded   </td><td class="markdownTableBodyNone">Can't   </td><td class="markdownTableBodyNone">Can't   </td><td class="markdownTableBodyNone">49   </td><td class="markdownTableBodyNone">Can't   </td><td class="markdownTableBodyNone">49    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Only/2nd tri to draw   </td><td class="markdownTableBodyNone">172   </td><td class="markdownTableBodyNone">170   </td><td class="markdownTableBodyNone">171   </td><td class="markdownTableBodyNone">170   </td><td class="markdownTableBodyNone">171    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">1st tri to draw   </td><td class="markdownTableBodyNone">173   </td><td class="markdownTableBodyNone">170   </td><td class="markdownTableBodyNone">171   </td><td class="markdownTableBodyNone">170   </td><td class="markdownTableBodyNone">171   </td></tr>
</table>
<p><a class="el" href="structTri.html">Tri</a> numbers are measured from the first cycle of the command handler inclusive, to the first cycle of whatever is after the return exclusive. This is in order to capture the extra mfc0 to mfc0 stall due to return_routine in F3DEX2.</p>
<p>Vertex processing time as reported by the performance counter in the <code>PA</code> configuration.</p><ul>
<li>Scene 1: Kakariko, adult day, from DMT entrance</li>
<li>Scene 2: Custom empty scene with Suzanne monkey head with 1 dir light</li>
<li>Scene 3: Same but Suzanne has vertex colors instead of lighting (Link is still on screen and has lighting)</li>
</ul>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Microcode   </th><th class="markdownTableHeadNone">Scene 1   </th><th class="markdownTableHeadNone">Scene 2   </th><th class="markdownTableHeadNone">Scene 3    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">F3DEX3   </td><td class="markdownTableBodyNone">7.64ms   </td><td class="markdownTableBodyNone">3.13ms   </td><td class="markdownTableBodyNone">2.37ms    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">F3DEX3_NOC   </td><td class="markdownTableBodyNone">7.07ms   </td><td class="markdownTableBodyNone">2.89ms   </td><td class="markdownTableBodyNone">2.14ms    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">F3DEX3_LVP   </td><td class="markdownTableBodyNone">4.57ms   </td><td class="markdownTableBodyNone">1.77ms   </td><td class="markdownTableBodyNone">1.67ms    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">F3DEX3_LVP_NOC   </td><td class="markdownTableBodyNone">Outdated   </td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">F3DEX2   </td><td class="markdownTableBodyNone">No*   </td><td class="markdownTableBodyNone">No*   </td><td class="markdownTableBodyNone">No*    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Vertex count   </td><td class="markdownTableBodyNone">3664   </td><td class="markdownTableBodyNone">1608   </td><td class="markdownTableBodyNone">1608   </td></tr>
</table>
<p>*F3DEX2 does not contain performance counters, so the portion of the RSP time taken for vertex processing cannot be measured. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="md_docs_2documentation.html">Documentation</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0 </li>
  </ul>
</div>
</body>
</html>
