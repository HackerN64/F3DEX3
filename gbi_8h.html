<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>F3DEX3: gbi.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript" src="darkmode_toggle.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">F3DEX3
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('gbi_8h.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a>  </div>
  <div class="headertitle"><div class="title">gbi.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Modded GBI for use with F3DEX3 custom microcode.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;ultra64/mbi.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for gbi.h:</div>
<div class="dyncontent">
<div class="center"><img src="gbi_8h__incl.png" border="0" usemap="#agbi_8h" alt=""/></div>
<map name="agbi_8h" id="agbi_8h">
<area shape="rect" title="Modded GBI for use with F3DEX3 custom microcode." alt="" coords="33,5,87,31"/>
<area shape="rect" title=" " alt="" coords="5,79,115,104"/>
<area shape="poly" title=" " alt="" coords="63,31,63,65,57,65,57,31"/>
</map>
</div>
</div>
<p><a href="gbi_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structVtx__t.html">Vtx_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structVtx__tn.html">Vtx_tn</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">union &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unionVtx.html">Vtx</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structTri.html">Tri</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structVp__t.html">Vp_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structLight__t.html">Light_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structPointLight__t.html">PointLight_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAmbient__t.html">Ambient_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structGdma.html">Gdma</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structGdma2.html">Gdma2</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structGmovewd.html">Gmovewd</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structGmovemem.html">Gmovemem</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structGtri.html">Gtri</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structGsetimg.html">Gsetimg</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structTexRect.html">TexRect</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structGwords.html">Gwords</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">union &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unionGfx.html">Gfx</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a4c9589710f911ec2c38104f51a68a8aa" id="r_a4c9589710f911ec2c38104f51a68a8aa"><td class="memItemLeft" align="right" valign="top"><a id="a4c9589710f911ec2c38104f51a68a8aa" name="a4c9589710f911ec2c38104f51a68a8aa"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>G_MTX_MODELVIEW</b>&#160;&#160;&#160;0x00    /* matrix types */</td></tr>
<tr class="memdesc:a4c9589710f911ec2c38104f51a68a8aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">specifies whether the matrix operation will be performed on the projection or the model view matrix. <br /></td></tr>
<tr class="separator:a4c9589710f911ec2c38104f51a68a8aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a158b3a6e36924769f7dff7f188b46b63" id="r_a158b3a6e36924769f7dff7f188b46b63"><td class="memItemLeft" align="right" valign="top"><a id="a158b3a6e36924769f7dff7f188b46b63" name="a158b3a6e36924769f7dff7f188b46b63"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>G_MTX_PROJECTION</b>&#160;&#160;&#160;0x04</td></tr>
<tr class="memdesc:a158b3a6e36924769f7dff7f188b46b63"><td class="mdescLeft">&#160;</td><td class="mdescRight">specifies whether the matrix operation will be performed on the projection or the model view matrix.    <br /></td></tr>
<tr class="separator:a158b3a6e36924769f7dff7f188b46b63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47a812d4ce6705e0dee289707f18f693" id="r_a47a812d4ce6705e0dee289707f18f693"><td class="memItemLeft" align="right" valign="top"><a id="a47a812d4ce6705e0dee289707f18f693" name="a47a812d4ce6705e0dee289707f18f693"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>G_MTX_MUL</b>&#160;&#160;&#160;0x00    /* concat or load */</td></tr>
<tr class="memdesc:a47a812d4ce6705e0dee289707f18f693"><td class="mdescLeft">&#160;</td><td class="mdescRight">concatenates the matrix (m) with the top of the matrix stack. <br /></td></tr>
<tr class="separator:a47a812d4ce6705e0dee289707f18f693"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fbb8b7e0e1a66c5399ad158d7a219cd" id="r_a9fbb8b7e0e1a66c5399ad158d7a219cd"><td class="memItemLeft" align="right" valign="top"><a id="a9fbb8b7e0e1a66c5399ad158d7a219cd" name="a9fbb8b7e0e1a66c5399ad158d7a219cd"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>G_MTX_LOAD</b>&#160;&#160;&#160;0x02</td></tr>
<tr class="memdesc:a9fbb8b7e0e1a66c5399ad158d7a219cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">loads the matrix (m) onto the top of the matrix stack. <br /></td></tr>
<tr class="separator:a9fbb8b7e0e1a66c5399ad158d7a219cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a063f7fcd1dfe2d7c199dad97eea7cc97" id="r_a063f7fcd1dfe2d7c199dad97eea7cc97"><td class="memItemLeft" align="right" valign="top"><a id="a063f7fcd1dfe2d7c199dad97eea7cc97" name="a063f7fcd1dfe2d7c199dad97eea7cc97"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>G_MTX_NOPUSH</b>&#160;&#160;&#160;0x00    /* push or not */</td></tr>
<tr class="memdesc:a063f7fcd1dfe2d7c199dad97eea7cc97"><td class="mdescLeft">&#160;</td><td class="mdescRight">specifies do not push the matrix stack prior to matrix operations <br /></td></tr>
<tr class="separator:a063f7fcd1dfe2d7c199dad97eea7cc97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af260746aec061e8a35a297e2a0e90eaa" id="r_af260746aec061e8a35a297e2a0e90eaa"><td class="memItemLeft" align="right" valign="top"><a id="af260746aec061e8a35a297e2a0e90eaa" name="af260746aec061e8a35a297e2a0e90eaa"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>G_MTX_PUSH</b>&#160;&#160;&#160;0x01</td></tr>
<tr class="memdesc:af260746aec061e8a35a297e2a0e90eaa"><td class="mdescLeft">&#160;</td><td class="mdescRight">specifies push the matrix stack prior to matrix operations <br /></td></tr>
<tr class="separator:af260746aec061e8a35a297e2a0e90eaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8752a0103acc58beebadbd52c5694dc" id="r_ac8752a0103acc58beebadbd52c5694dc"><td class="memItemLeft" align="right" valign="top"><a id="ac8752a0103acc58beebadbd52c5694dc" name="ac8752a0103acc58beebadbd52c5694dc"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>G_MWO_POINT_RGBA</b>&#160;&#160;&#160;0x10</td></tr>
<tr class="memdesc:ac8752a0103acc58beebadbd52c5694dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">changes the color of the vertex. The val parameter is interpreted as 4 bytes: red (high byte), green, blue, and alpha (low byte). <br /></td></tr>
<tr class="separator:ac8752a0103acc58beebadbd52c5694dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb84e8da2787a5cf8ca385335a850d5c" id="r_afb84e8da2787a5cf8ca385335a850d5c"><td class="memItemLeft" align="right" valign="top"><a id="afb84e8da2787a5cf8ca385335a850d5c" name="afb84e8da2787a5cf8ca385335a850d5c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>G_MWO_POINT_ST</b>&#160;&#160;&#160;0x14</td></tr>
<tr class="memdesc:afb84e8da2787a5cf8ca385335a850d5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">changes the S and T values (texture coordinates of the vertex). The high 16 bits of val specify the S coordinate, and the low 16 bits specify the T coordinate. Each coordinate is an S10.5 number. <br /></td></tr>
<tr class="separator:afb84e8da2787a5cf8ca385335a850d5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6de43c88b8f3a2f32a17c5e3a94ede9" id="r_ae6de43c88b8f3a2f32a17c5e3a94ede9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae6de43c88b8f3a2f32a17c5e3a94ede9">G_MWO_POINT_XYSCREEN</a>&#160;&#160;&#160;0x18</td></tr>
<tr class="memdesc:ae6de43c88b8f3a2f32a17c5e3a94ede9"><td class="mdescLeft">&#160;</td><td class="mdescRight">change the screen coordinates of the vertex. The high 16 bits of val specify the X coordinate and the low 16 bits specify the Y coordinate. Both coordinates are S13.2 numbers with 0,0 being the upper-left of the screen, positive X going right, and positive Y going down.  <br /></td></tr>
<tr class="separator:ae6de43c88b8f3a2f32a17c5e3a94ede9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39681fea3ef91be9ce5d51b87eb93fbb" id="r_a39681fea3ef91be9ce5d51b87eb93fbb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a39681fea3ef91be9ce5d51b87eb93fbb">G_MWO_POINT_ZSCREEN</a>&#160;&#160;&#160;0x1C</td></tr>
<tr class="memdesc:a39681fea3ef91be9ce5d51b87eb93fbb"><td class="mdescLeft">&#160;</td><td class="mdescRight">changes the screen Z coordinate of the vertex. The entire 32-bit val is taken as the new screen Z value. It is a 16.16 number in the range 0x00000000 to 0x03ff0000.  <br /></td></tr>
<tr class="separator:a39681fea3ef91be9ce5d51b87eb93fbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af30b2f070b5412738477c6fe5ad25e25" id="r_af30b2f070b5412738477c6fe5ad25e25"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af30b2f070b5412738477c6fe5ad25e25">G_MAXZ</a>&#160;&#160;&#160;Error_please_update_viewport_Z_and_Y_see_GBI</td></tr>
<tr class="separator:af30b2f070b5412738477c6fe5ad25e25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60f53f20d851e8d5b3108369057cb705" id="r_a60f53f20d851e8d5b3108369057cb705"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a60f53f20d851e8d5b3108369057cb705">G_NEW_MAXZ</a>&#160;&#160;&#160;0x7FFF</td></tr>
<tr class="separator:a60f53f20d851e8d5b3108369057cb705"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa103cc77360e990a7474fb541fd8b225" id="r_aa103cc77360e990a7474fb541fd8b225"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa103cc77360e990a7474fb541fd8b225">gSPMatrix</a>(pkt,  m,  p)&#160;&#160;&#160;        gDma2p((pkt),G_MTX, (m), sizeof(Mtx), (p) ^ <a class="el" href="#af260746aec061e8a35a297e2a0e90eaa">G_MTX_PUSH</a>, 0)</td></tr>
<tr class="memdesc:aa103cc77360e990a7474fb541fd8b225"><td class="mdescLeft">&#160;</td><td class="mdescRight">macro which inserts a matrix operation at the end display list.  <br /></td></tr>
<tr class="separator:aa103cc77360e990a7474fb541fd8b225"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee3588cfbd5b017041757eed414c5a40" id="r_aee3588cfbd5b017041757eed414c5a40"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aee3588cfbd5b017041757eed414c5a40">gsSPMatrix</a>(m,  p)&#160;&#160;&#160;        gsDma2p(     G_MTX, (m), sizeof(Mtx), (p) ^ <a class="el" href="#af260746aec061e8a35a297e2a0e90eaa">G_MTX_PUSH</a>, 0)</td></tr>
<tr class="memdesc:aee3588cfbd5b017041757eed414c5a40"><td class="mdescLeft">&#160;</td><td class="mdescRight">macro which inserts a matrix operation in a static display list.  <br /></td></tr>
<tr class="separator:aee3588cfbd5b017041757eed414c5a40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4dab5f2297069e397664e3b62a7a0bb" id="r_ae4dab5f2297069e397664e3b62a7a0bb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae4dab5f2297069e397664e3b62a7a0bb">gSPPopMatrixN</a>(pkt,  n,  num)&#160;&#160;&#160;gDma2p((pkt), G_POPMTX, (num) * 64, 64, 2, 0)</td></tr>
<tr class="memdesc:ae4dab5f2297069e397664e3b62a7a0bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">macro which pops one of the matrix stacks at the end display list.  <br /></td></tr>
<tr class="separator:ae4dab5f2297069e397664e3b62a7a0bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53728a24461a0b5181c5805aaaff3680" id="r_a53728a24461a0b5181c5805aaaff3680"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a53728a24461a0b5181c5805aaaff3680">gsSPPopMatrixN</a>(n,  num)&#160;&#160;&#160;gsDma2p(      G_POPMTX, (num) * 64, 64, 2, 0)</td></tr>
<tr class="memdesc:a53728a24461a0b5181c5805aaaff3680"><td class="mdescLeft">&#160;</td><td class="mdescRight">macro which pops one of the matrix stacks in a static display list.  <br /></td></tr>
<tr class="separator:a53728a24461a0b5181c5805aaaff3680"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3ce7d020b9fc77124fc2849ca3c0e9a" id="r_ab3ce7d020b9fc77124fc2849ca3c0e9a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab3ce7d020b9fc77124fc2849ca3c0e9a">gSPPopMatrix</a>(pkt,  n)&#160;&#160;&#160;<a class="el" href="#ae4dab5f2297069e397664e3b62a7a0bb">gSPPopMatrixN</a>((pkt), (n), 1)</td></tr>
<tr class="memdesc:ab3ce7d020b9fc77124fc2849ca3c0e9a"><td class="mdescLeft">&#160;</td><td class="mdescRight">macro which pops one of the matrix stacks at the end display list.  <br /></td></tr>
<tr class="separator:ab3ce7d020b9fc77124fc2849ca3c0e9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a339832407a1bdb6c873761c61d5caa33" id="r_a339832407a1bdb6c873761c61d5caa33"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a339832407a1bdb6c873761c61d5caa33">gsSPPopMatrix</a>(n)&#160;&#160;&#160;<a class="el" href="#a53728a24461a0b5181c5805aaaff3680">gsSPPopMatrixN</a>(      (n), 1)</td></tr>
<tr class="memdesc:a339832407a1bdb6c873761c61d5caa33"><td class="mdescLeft">&#160;</td><td class="mdescRight">macro which pops one of the matrix stacks in a static display list.  <br /></td></tr>
<tr class="separator:a339832407a1bdb6c873761c61d5caa33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa10b6a6fa88381b34eb4325034230024" id="r_aa10b6a6fa88381b34eb4325034230024"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa10b6a6fa88381b34eb4325034230024">gSPVertex</a>(pkt,  v,  n,  v0)</td></tr>
<tr class="memdesc:aa10b6a6fa88381b34eb4325034230024"><td class="mdescLeft">&#160;</td><td class="mdescRight">macro which loads an internal vertex buffer in the RSP with points that are used by <a class="el" href="#afe0d779cf45ef43bbffd47bbaea0e390">gSP1Triangle</a> macros to generate polygons at the end display list.  <br /></td></tr>
<tr class="separator:aa10b6a6fa88381b34eb4325034230024"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57debef2e9c1dfcd0c711f8d6bb0c0e5" id="r_a57debef2e9c1dfcd0c711f8d6bb0c0e5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a57debef2e9c1dfcd0c711f8d6bb0c0e5">gsSPVertex</a>(v,  n,  v0)</td></tr>
<tr class="memdesc:a57debef2e9c1dfcd0c711f8d6bb0c0e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">macro which loads an internal vertex buffer in the RSP with points that are used by gSP1Triangle macros to generate polygons in a static display list.  <br /></td></tr>
<tr class="separator:a57debef2e9c1dfcd0c711f8d6bb0c0e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8ec02cb12125afc48f5af1bb14e717f" id="r_ae8ec02cb12125afc48f5af1bb14e717f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae8ec02cb12125afc48f5af1bb14e717f">gSPDisplayListHint</a>(pkt,  dl,  count)&#160;&#160;&#160;_gSPDisplayListRaw(pkt, dl, _DLHINTVALUE(count))</td></tr>
<tr class="separator:ae8ec02cb12125afc48f5af1bb14e717f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a226e1d6b5d9506d43a8b8d0d11925ca1" id="r_a226e1d6b5d9506d43a8b8d0d11925ca1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a226e1d6b5d9506d43a8b8d0d11925ca1">gsSPDisplayListHint</a>( dl,  count)&#160;&#160;&#160;_gsSPDisplayListRaw(    dl, _DLHINTVALUE(count))</td></tr>
<tr class="separator:a226e1d6b5d9506d43a8b8d0d11925ca1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae17e340e3895b6b80326c27f4729ddde" id="r_ae17e340e3895b6b80326c27f4729ddde"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae17e340e3895b6b80326c27f4729ddde">gSPBranchListHint</a>(pkt,  dl,  count)&#160;&#160;&#160;_gSPBranchListRaw( pkt, dl, _DLHINTVALUE(count))</td></tr>
<tr class="separator:ae17e340e3895b6b80326c27f4729ddde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ac7f8e97e2688f578b356531cdf1acd" id="r_a3ac7f8e97e2688f578b356531cdf1acd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3ac7f8e97e2688f578b356531cdf1acd">gsSPBranchListHint</a>( dl,  count)&#160;&#160;&#160;_gsSPBranchListRaw(     dl, _DLHINTVALUE(count))</td></tr>
<tr class="separator:a3ac7f8e97e2688f578b356531cdf1acd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adabc7b3482de5371ab883604139c4af8" id="r_adabc7b3482de5371ab883604139c4af8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adabc7b3482de5371ab883604139c4af8">gSPEndDisplayListHint</a>(pkt,  count)&#160;&#160;&#160;_gSPEndDisplayListRaw( pkt, _DLHINTVALUE(count))</td></tr>
<tr class="separator:adabc7b3482de5371ab883604139c4af8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98f27dcc9519a0034c83bffae2f5b858" id="r_a98f27dcc9519a0034c83bffae2f5b858"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a98f27dcc9519a0034c83bffae2f5b858">gsSPEndDisplayListHint</a>( count)&#160;&#160;&#160;_gsSPEndDisplayListRaw(     _DLHINTVALUE(count))</td></tr>
<tr class="separator:a98f27dcc9519a0034c83bffae2f5b858"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59f9f765ea9a6d5dda795f6ba7ec119d" id="r_a59f9f765ea9a6d5dda795f6ba7ec119d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a59f9f765ea9a6d5dda795f6ba7ec119d">gSPDisplayList</a>(pkt,  dl)&#160;&#160;&#160;_gSPDisplayListRaw(pkt, dl, 0)</td></tr>
<tr class="separator:a59f9f765ea9a6d5dda795f6ba7ec119d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2eb66004b66df2fa226251e0f8574377" id="r_a2eb66004b66df2fa226251e0f8574377"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2eb66004b66df2fa226251e0f8574377">gsSPDisplayList</a>( dl)&#160;&#160;&#160;_gsSPDisplayListRaw(    dl, 0)</td></tr>
<tr class="separator:a2eb66004b66df2fa226251e0f8574377"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7283f67fa62b98e7dc6ab51fc78f8f9" id="r_ae7283f67fa62b98e7dc6ab51fc78f8f9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae7283f67fa62b98e7dc6ab51fc78f8f9">gSPBranchList</a>(pkt,  dl)&#160;&#160;&#160;_gSPBranchListRaw( pkt, dl, 0)</td></tr>
<tr class="separator:ae7283f67fa62b98e7dc6ab51fc78f8f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0cb7f1fc1c355cee8b65db2dce06620" id="r_ab0cb7f1fc1c355cee8b65db2dce06620"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab0cb7f1fc1c355cee8b65db2dce06620">gsSPBranchList</a>( dl)&#160;&#160;&#160;_gsSPBranchListRaw(     dl, 0)</td></tr>
<tr class="separator:ab0cb7f1fc1c355cee8b65db2dce06620"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29752b79c2158f4a35de81b69ec1d8c6" id="r_a29752b79c2158f4a35de81b69ec1d8c6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a29752b79c2158f4a35de81b69ec1d8c6">gSPEndDisplayList</a>(pkt)&#160;&#160;&#160;_gSPEndDisplayListRaw( pkt, 0)</td></tr>
<tr class="separator:a29752b79c2158f4a35de81b69ec1d8c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a329728753706d9e1b763d6d536ca719d" id="r_a329728753706d9e1b763d6d536ca719d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a329728753706d9e1b763d6d536ca719d">gsSPEndDisplayList</a>()&#160;&#160;&#160;_gsSPEndDisplayListRaw(     0)</td></tr>
<tr class="separator:a329728753706d9e1b763d6d536ca719d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb9ef2dc02fce82c00effbffa8444e7b" id="r_aeb9ef2dc02fce82c00effbffa8444e7b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeb9ef2dc02fce82c00effbffa8444e7b">gSPLoadUcodeEx</a>(pkt,  uc_start,  uc_dstart,  uc_dsize)</td></tr>
<tr class="separator:aeb9ef2dc02fce82c00effbffa8444e7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05e18436bd68e4a2388544341cc48718" id="r_a05e18436bd68e4a2388544341cc48718"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a05e18436bd68e4a2388544341cc48718">gsSPLoadUcodeEx</a>(uc_start,  uc_dstart,  uc_dsize)</td></tr>
<tr class="separator:a05e18436bd68e4a2388544341cc48718"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a512ac6346c6efcf144fb60c0101df5b6" id="r_a512ac6346c6efcf144fb60c0101df5b6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a512ac6346c6efcf144fb60c0101df5b6">gSPDma_io</a>(pkt,  flag,  dmem,  dram,  size)</td></tr>
<tr class="separator:a512ac6346c6efcf144fb60c0101df5b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c29df941d85f1b92c20a6a668e39047" id="r_a8c29df941d85f1b92c20a6a668e39047"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8c29df941d85f1b92c20a6a668e39047">gsSPDma_io</a>(flag,  dmem,  dram,  size)</td></tr>
<tr class="separator:a8c29df941d85f1b92c20a6a668e39047"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48bee06f620e9930c1af1d7e1d7550d4" id="r_a48bee06f620e9930c1af1d7e1d7550d4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a48bee06f620e9930c1af1d7e1d7550d4">gSPMemset</a>(pkt,  dram,  value,  size)</td></tr>
<tr class="separator:a48bee06f620e9930c1af1d7e1d7550d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a100dc628b1b8952e0f3bb2e4e9ddd7e4" id="r_a100dc628b1b8952e0f3bb2e4e9ddd7e4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a100dc628b1b8952e0f3bb2e4e9ddd7e4">gsSPMemset</a>(pkt,  dram,  value,  size)</td></tr>
<tr class="separator:a100dc628b1b8952e0f3bb2e4e9ddd7e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a702a60836e516af74b6af9abb8e5c31f" id="r_a702a60836e516af74b6af9abb8e5c31f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a702a60836e516af74b6af9abb8e5c31f">gImmp0</a>(pkt,  c)</td></tr>
<tr class="separator:a702a60836e516af74b6af9abb8e5c31f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60c27d98cb1f0e602dbc5d3cd3841eab" id="r_a60c27d98cb1f0e602dbc5d3cd3841eab"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a60c27d98cb1f0e602dbc5d3cd3841eab">gsImmp0</a>(c)</td></tr>
<tr class="separator:a60c27d98cb1f0e602dbc5d3cd3841eab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe0d779cf45ef43bbffd47bbaea0e390" id="r_afe0d779cf45ef43bbffd47bbaea0e390"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afe0d779cf45ef43bbffd47bbaea0e390">gSP1Triangle</a>(pkt,  v0,  v1,  v2,  flag)</td></tr>
<tr class="separator:afe0d779cf45ef43bbffd47bbaea0e390"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa187a694b91e928b8454cf4720f6898" id="r_afa187a694b91e928b8454cf4720f6898"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afa187a694b91e928b8454cf4720f6898">gsSP1Triangle</a>(v0,  v1,  v2,  flag)</td></tr>
<tr class="separator:afa187a694b91e928b8454cf4720f6898"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a423cc35c28537bd28c2f0cde9c520121" id="r_a423cc35c28537bd28c2f0cde9c520121"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a423cc35c28537bd28c2f0cde9c520121">gSP1Quadrangle</a>(pkt,  v0,  v1,  v2,  v3,  flag)</td></tr>
<tr class="separator:a423cc35c28537bd28c2f0cde9c520121"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15ad2f9f5460582656c9429927c9b0a8" id="r_a15ad2f9f5460582656c9429927c9b0a8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a15ad2f9f5460582656c9429927c9b0a8">gsSP1Quadrangle</a>(v0,  v1,  v2,  v3,  flag)</td></tr>
<tr class="separator:a15ad2f9f5460582656c9429927c9b0a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee80adda08faf28c431e1eff5a1e0506" id="r_aee80adda08faf28c431e1eff5a1e0506"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aee80adda08faf28c431e1eff5a1e0506">gSP2Triangles</a>(pkt,  v00,  v01,  v02,  flag0,  v10,  v11,  v12,  flag1)</td></tr>
<tr class="separator:aee80adda08faf28c431e1eff5a1e0506"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93367f1570c767f0a883b39e87dbdbeb" id="r_a93367f1570c767f0a883b39e87dbdbeb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a93367f1570c767f0a883b39e87dbdbeb">gsSP2Triangles</a>(v00,  v01,  v02,  flag0,  v10,  v11,  v12,  flag1)</td></tr>
<tr class="separator:a93367f1570c767f0a883b39e87dbdbeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabcbc5ce71956855291dc22646dec21f" id="r_aabcbc5ce71956855291dc22646dec21f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aabcbc5ce71956855291dc22646dec21f">gSPTriStrip</a>(pkt,  v1,  v2,  v3,  v4,  v5,  v6,  v7)&#160;&#160;&#160;    _gSP5Triangles(pkt, G_TRISTRIP, v1, v2, v3, v4, v5, v6, v7)</td></tr>
<tr class="separator:aabcbc5ce71956855291dc22646dec21f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ce5938563a7b529ef58fc2719c1a019" id="r_a4ce5938563a7b529ef58fc2719c1a019"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4ce5938563a7b529ef58fc2719c1a019">gsSPTriStrip</a>(v1,  v2,  v3,  v4,  v5,  v6,  v7)&#160;&#160;&#160;    _gsSP5Triangles(G_TRISTRIP, v1, v2, v3, v4, v5, v6, v7)</td></tr>
<tr class="separator:a4ce5938563a7b529ef58fc2719c1a019"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6425176902ef66d72ec08772309a82e9" id="r_a6425176902ef66d72ec08772309a82e9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6425176902ef66d72ec08772309a82e9">gSPTriFan</a>(pkt,  v1,  v2,  v3,  v4,  v5,  v6,  v7)&#160;&#160;&#160;    _gSP5Triangles(pkt, G_TRIFAN, v1, v2, v3, v4, v5, v6, v7)</td></tr>
<tr class="separator:a6425176902ef66d72ec08772309a82e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac103f222729a278441c02d4ab3fdbcf6" id="r_ac103f222729a278441c02d4ab3fdbcf6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac103f222729a278441c02d4ab3fdbcf6">gsSPTriFan</a>(v1,  v2,  v3,  v4,  v5,  v6,  v7)&#160;&#160;&#160;    _gsSP5Triangles(G_TRIFAN, v1, v2, v3, v4, v5, v6, v7)</td></tr>
<tr class="separator:ac103f222729a278441c02d4ab3fdbcf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4faba958de641c244d3260ba3dda8d1e" id="r_a4faba958de641c244d3260ba3dda8d1e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4faba958de641c244d3260ba3dda8d1e">gSPClipRatio</a>(pkt,  r)&#160;&#160;&#160;gSPNoOp(pkt)</td></tr>
<tr class="memdesc:a4faba958de641c244d3260ba3dda8d1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clipping Macros.  <br /></td></tr>
<tr class="separator:a4faba958de641c244d3260ba3dda8d1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9403e754757b97fe80719d6b39b76990" id="r_a9403e754757b97fe80719d6b39b76990"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9403e754757b97fe80719d6b39b76990">gsSPClipRatio</a>(r)&#160;&#160;&#160;gsSPNoOp()</td></tr>
<tr class="memdesc:a9403e754757b97fe80719d6b39b76990"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clipping Macros.     <br /></td></tr>
<tr class="separator:a9403e754757b97fe80719d6b39b76990"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7972da9c60a073b09af13b082b79b3d4" id="r_a7972da9c60a073b09af13b082b79b3d4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7972da9c60a073b09af13b082b79b3d4">gSPForceMatrix</a>(pkt,  mptr)&#160;&#160;&#160;gSPNoOp(pkt)</td></tr>
<tr class="memdesc:a7972da9c60a073b09af13b082b79b3d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load new MVP matrix directly.  <br /></td></tr>
<tr class="separator:a7972da9c60a073b09af13b082b79b3d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad491d787312f2db8106fbf61c8eac60e" id="r_ad491d787312f2db8106fbf61c8eac60e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad491d787312f2db8106fbf61c8eac60e">gsSPForceMatrix</a>(mptr)&#160;&#160;&#160;gsSPNoOp()</td></tr>
<tr class="memdesc:ad491d787312f2db8106fbf61c8eac60e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load new MVP matrix directly.  <br /></td></tr>
<tr class="separator:ad491d787312f2db8106fbf61c8eac60e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b7eddef6aa29f88dcb2ac59e6149142" id="r_a3b7eddef6aa29f88dcb2ac59e6149142"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3b7eddef6aa29f88dcb2ac59e6149142">gSPAmbOcclusionAmb</a>(pkt,  amb)&#160;&#160;&#160;gMoveHalfwd(pkt, G_MW_FX, G_MWO_AO_AMBIENT, amb)</td></tr>
<tr class="separator:a3b7eddef6aa29f88dcb2ac59e6149142"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c0bf85705e10d9e676c5ffe9dc0f1c8" id="r_a5c0bf85705e10d9e676c5ffe9dc0f1c8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5c0bf85705e10d9e676c5ffe9dc0f1c8">gsSPAmbOcclusionAmb</a>(amb)&#160;&#160;&#160;gsMoveHalfwd(     G_MW_FX, G_MWO_AO_AMBIENT, amb)</td></tr>
<tr class="separator:a5c0bf85705e10d9e676c5ffe9dc0f1c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae78c3409b532904cedadca2d3ddf4a76" id="r_ae78c3409b532904cedadca2d3ddf4a76"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae78c3409b532904cedadca2d3ddf4a76">gSPAmbOcclusionDir</a>(pkt,  dir)&#160;&#160;&#160;gMoveHalfwd(pkt, G_MW_FX, G_MWO_AO_DIRECTIONAL, dir)</td></tr>
<tr class="separator:ae78c3409b532904cedadca2d3ddf4a76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a936b274be861db783d06fce6ef06e69c" id="r_a936b274be861db783d06fce6ef06e69c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a936b274be861db783d06fce6ef06e69c">gsSPAmbOcclusionDir</a>(dir)&#160;&#160;&#160;gsMoveHalfwd(     G_MW_FX, G_MWO_AO_DIRECTIONAL, dir)</td></tr>
<tr class="separator:a936b274be861db783d06fce6ef06e69c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acea5a8a0f106d51c1cb7dfc11cc16ff2" id="r_acea5a8a0f106d51c1cb7dfc11cc16ff2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acea5a8a0f106d51c1cb7dfc11cc16ff2">gSPAmbOcclusionPoint</a>(pkt,  point)&#160;&#160;&#160;gMoveHalfwd(pkt, G_MW_FX, G_MWO_AO_POINT, point)</td></tr>
<tr class="separator:acea5a8a0f106d51c1cb7dfc11cc16ff2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ae5e9a1fd55b979d66ea08f905946f0" id="r_a2ae5e9a1fd55b979d66ea08f905946f0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2ae5e9a1fd55b979d66ea08f905946f0">gsSPAmbOcclusionPoint</a>(point)&#160;&#160;&#160;gsMoveHalfwd(     G_MW_FX, G_MWO_AO_POINT, point)</td></tr>
<tr class="separator:a2ae5e9a1fd55b979d66ea08f905946f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4a032c633b09c2a1c16e84ba49c7a69" id="r_af4a032c633b09c2a1c16e84ba49c7a69"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af4a032c633b09c2a1c16e84ba49c7a69">gSPFresnelScale</a>(pkt,  scale)&#160;&#160;&#160;    gMoveHalfwd(pkt, G_MW_FX, G_MWO_FRESNEL_SCALE, scale)</td></tr>
<tr class="separator:af4a032c633b09c2a1c16e84ba49c7a69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6e9df5968dae318157670d875674bbc" id="r_ab6e9df5968dae318157670d875674bbc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab6e9df5968dae318157670d875674bbc">gsSPFresnelScale</a>(scale)&#160;&#160;&#160;    gsMoveHalfwd(G_MW_FX, G_MWO_FRESNEL_SCALE, scale)</td></tr>
<tr class="separator:ab6e9df5968dae318157670d875674bbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab252f51695c9e0280f405744c267a5cc" id="r_ab252f51695c9e0280f405744c267a5cc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab252f51695c9e0280f405744c267a5cc">gSPFresnelOffset</a>(pkt,  offset)&#160;&#160;&#160;    gMoveHalfwd(pkt, G_MW_FX, G_MWO_FRESNEL_OFFSET, offset)</td></tr>
<tr class="separator:ab252f51695c9e0280f405744c267a5cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50b9b45b1249d8549bd7bc48ac252698" id="r_a50b9b45b1249d8549bd7bc48ac252698"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a50b9b45b1249d8549bd7bc48ac252698">gsSPFresnelOffset</a>(offset)&#160;&#160;&#160;    gsMoveHalfwd(G_MW_FX, G_MWO_FRESNEL_OFFSET, offset)</td></tr>
<tr class="separator:a50b9b45b1249d8549bd7bc48ac252698"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30a8bc1f6c37e434a61b36675c7a1a08" id="r_a30a8bc1f6c37e434a61b36675c7a1a08"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a30a8bc1f6c37e434a61b36675c7a1a08">gSPFresnel</a>(pkt,  scale,  offset)</td></tr>
<tr class="separator:a30a8bc1f6c37e434a61b36675c7a1a08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7589a9c64442bf5c3f14fb77031b0721" id="r_a7589a9c64442bf5c3f14fb77031b0721"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7589a9c64442bf5c3f14fb77031b0721">gsSPFresnel</a>(scale,  offset)</td></tr>
<tr class="separator:a7589a9c64442bf5c3f14fb77031b0721"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a764fcaed96c474a0aee0ef7d99e9bb84" id="r_a764fcaed96c474a0aee0ef7d99e9bb84"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a764fcaed96c474a0aee0ef7d99e9bb84">gSPAttrOffsetST</a>(pkt,  s,  t)</td></tr>
<tr class="separator:a764fcaed96c474a0aee0ef7d99e9bb84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad168dd48f40b98df4287000df7b106ab" id="r_ad168dd48f40b98df4287000df7b106ab"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad168dd48f40b98df4287000df7b106ab">gsSPAttrOffsetST</a>(s,  t)</td></tr>
<tr class="separator:ad168dd48f40b98df4287000df7b106ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a546c9fb2c9c29bffe417b65f033e6a43" id="r_a546c9fb2c9c29bffe417b65f033e6a43"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a546c9fb2c9c29bffe417b65f033e6a43">gSPAlphaCompareCull</a>(pkt,  mode,  thresh)</td></tr>
<tr class="separator:a546c9fb2c9c29bffe417b65f033e6a43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94e3aeef86ca318217a47514191e8942" id="r_a94e3aeef86ca318217a47514191e8942"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a94e3aeef86ca318217a47514191e8942">gsSPAlphaCompareCull</a>(mode,  thresh)</td></tr>
<tr class="separator:a94e3aeef86ca318217a47514191e8942"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed9d00bf80064e72af62c89a895c792d" id="r_aed9d00bf80064e72af62c89a895c792d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aed9d00bf80064e72af62c89a895c792d">gSPNormalsMode</a>(pkt,  mode)&#160;&#160;&#160;    gMoveHalfwd(pkt, G_MW_FX, G_MWO_NORMALS_MODE, (mode) &amp; 0xFF)</td></tr>
<tr class="separator:aed9d00bf80064e72af62c89a895c792d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f28956eea7abd6c804d228e2ab2da8d" id="r_a7f28956eea7abd6c804d228e2ab2da8d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7f28956eea7abd6c804d228e2ab2da8d">gsSPNormalsMode</a>(mode)&#160;&#160;&#160;    gsMoveHalfwd(G_MW_FX, G_MWO_NORMALS_MODE, (mode) &amp; 0xFF)</td></tr>
<tr class="separator:a7f28956eea7abd6c804d228e2ab2da8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2069e57bde4b09cbbdd1110e10617793" id="r_a2069e57bde4b09cbbdd1110e10617793"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2069e57bde4b09cbbdd1110e10617793">gSPDontSkipTexLoadsAcross</a>(pkt)&#160;&#160;&#160;    gMoveWd(pkt, G_MW_FX, G_MWO_LAST_MAT_DL_ADDR, 0xFFFFFFFF)</td></tr>
<tr class="separator:a2069e57bde4b09cbbdd1110e10617793"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06ed1458dbefbadfb146e0b296de8961" id="r_a06ed1458dbefbadfb146e0b296de8961"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a06ed1458dbefbadfb146e0b296de8961">gsSPDontSkipTexLoadsAcross</a>()&#160;&#160;&#160;    gsMoveWd(G_MW_FX, G_MWO_LAST_MAT_DL_ADDR, 0xFFFFFFFF)</td></tr>
<tr class="separator:a06ed1458dbefbadfb146e0b296de8961"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ba89786d7632337a9e31f3240d849e4" id="r_a1ba89786d7632337a9e31f3240d849e4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1ba89786d7632337a9e31f3240d849e4">gSPMITMatrix</a>(pkt,  mit)&#160;&#160;&#160;        gDma2p((pkt), G_MOVEMEM, (mit), sizeof(MITMtx), G_MV_MMTX, 0x80)</td></tr>
<tr class="separator:a1ba89786d7632337a9e31f3240d849e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2ae0e0fe29b05d0f62ff6b14a94c1cd" id="r_ae2ae0e0fe29b05d0f62ff6b14a94c1cd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae2ae0e0fe29b05d0f62ff6b14a94c1cd">gsSPMITMatrix</a>(mtx)&#160;&#160;&#160;        gsDma2p(      G_MOVEMEM, (mit), sizeof(MITMtx), G_MV_MMTX, 0x80)</td></tr>
<tr class="separator:ae2ae0e0fe29b05d0f62ff6b14a94c1cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc12c0642acde2394639e9f9e247dde9" id="r_abc12c0642acde2394639e9f9e247dde9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abc12c0642acde2394639e9f9e247dde9">gSPModifyVertex</a>(pkt,  vtx,  where,  val)</td></tr>
<tr class="memdesc:abc12c0642acde2394639e9f9e247dde9"><td class="mdescLeft">&#160;</td><td class="mdescRight">You can use this macro to modify certain sections of a vertex after it has been sent to the RSP (by the gSPVertex macro).  <br /></td></tr>
<tr class="separator:abc12c0642acde2394639e9f9e247dde9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa7f692f104a3fca8d37ab59708148bc" id="r_afa7f692f104a3fca8d37ab59708148bc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afa7f692f104a3fca8d37ab59708148bc">gsSPModifyVertex</a>(vtx,  where,  val)</td></tr>
<tr class="memdesc:afa7f692f104a3fca8d37ab59708148bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">You can use this macro to modify certain sections of a vertex after it has been sent to the RSP (by the gSPVertex macro).  <br /></td></tr>
<tr class="separator:afa7f692f104a3fca8d37ab59708148bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c94d605a0bba70cbe65a7279a2715b4" id="r_a6c94d605a0bba70cbe65a7279a2715b4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6c94d605a0bba70cbe65a7279a2715b4">gSPCullDisplayList</a>(pkt,  vstart,  vend)</td></tr>
<tr class="separator:a6c94d605a0bba70cbe65a7279a2715b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03cc9c604214665956b29bfa636e1da6" id="r_a03cc9c604214665956b29bfa636e1da6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a03cc9c604214665956b29bfa636e1da6">gsSPCullDisplayList</a>(vstart,  vend)</td></tr>
<tr class="separator:a03cc9c604214665956b29bfa636e1da6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa471654bbbfc858eb2777314ea91cde2" id="r_aa471654bbbfc858eb2777314ea91cde2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa471654bbbfc858eb2777314ea91cde2">gSPBranchLessZraw</a>(pkt,  dl,  vtx,  zval)</td></tr>
<tr class="separator:aa471654bbbfc858eb2777314ea91cde2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5191eb7ddaa9cfc364f371fed44d9aea" id="r_a5191eb7ddaa9cfc364f371fed44d9aea"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5191eb7ddaa9cfc364f371fed44d9aea">gsSPBranchLessZraw</a>(dl,  vtx,  zval)</td></tr>
<tr class="separator:a5191eb7ddaa9cfc364f371fed44d9aea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8f015c1cc457925f5209025fcd71c0e" id="r_ad8f015c1cc457925f5209025fcd71c0e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad8f015c1cc457925f5209025fcd71c0e">gSPNumLights</a>(pkt,  n)&#160;&#160;&#160;    gMoveWd(pkt, G_MW_NUMLIGHT, G_MWO_NUMLIGHT, NUML(n))</td></tr>
<tr class="separator:ad8f015c1cc457925f5209025fcd71c0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05cbbc5a54641419bc1258390f3d6710" id="r_a05cbbc5a54641419bc1258390f3d6710"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a05cbbc5a54641419bc1258390f3d6710">gsSPNumLights</a>(n)&#160;&#160;&#160;    gsMoveWd(    G_MW_NUMLIGHT, G_MWO_NUMLIGHT, NUML(n))</td></tr>
<tr class="separator:a05cbbc5a54641419bc1258390f3d6710"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9a7a2c04649474b92e1220df5f3ed64" id="r_af9a7a2c04649474b92e1220df5f3ed64"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af9a7a2c04649474b92e1220df5f3ed64">gSPLight</a>(pkt,  l,  n)&#160;&#160;&#160;    gDma2p((pkt), G_MOVEMEM, (l), sizeof(Light), G_MV_LIGHT, _LIGHT_TO_OFFSET(n))</td></tr>
<tr class="separator:af9a7a2c04649474b92e1220df5f3ed64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc11222c30b753c7743f9fbcdbca3fdf" id="r_adc11222c30b753c7743f9fbcdbca3fdf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adc11222c30b753c7743f9fbcdbca3fdf">gsSPLight</a>(l,  n)&#160;&#160;&#160;    gsDma2p(      G_MOVEMEM, (l), sizeof(Light), G_MV_LIGHT, _LIGHT_TO_OFFSET(n))</td></tr>
<tr class="separator:adc11222c30b753c7743f9fbcdbca3fdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4275ecdac6237c0511c31751a08ed11c" id="r_a4275ecdac6237c0511c31751a08ed11c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4275ecdac6237c0511c31751a08ed11c">gSPAmbient</a>(pkt,  l,  n)&#160;&#160;&#160;    gDma2p((pkt), G_MOVEMEM, (l), sizeof(Ambient), G_MV_LIGHT, _LIGHT_TO_OFFSET(n))</td></tr>
<tr class="separator:a4275ecdac6237c0511c31751a08ed11c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5db5f35a0d315d9a9fcdc71ebe520d8d" id="r_a5db5f35a0d315d9a9fcdc71ebe520d8d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5db5f35a0d315d9a9fcdc71ebe520d8d">gsSPAmbient</a>(l,  n)&#160;&#160;&#160;    gsDma2p(      G_MOVEMEM, (l), sizeof(Ambient), G_MV_LIGHT, _LIGHT_TO_OFFSET(n))</td></tr>
<tr class="separator:a5db5f35a0d315d9a9fcdc71ebe520d8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1a1cc52419896bfec423f023fba723b" id="r_ac1a1cc52419896bfec423f023fba723b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac1a1cc52419896bfec423f023fba723b">gSPLightColor</a>(pkt,  n,  col)</td></tr>
<tr class="separator:ac1a1cc52419896bfec423f023fba723b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fe448d7217dfca0e567ff69c9a7bf94" id="r_a0fe448d7217dfca0e567ff69c9a7bf94"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0fe448d7217dfca0e567ff69c9a7bf94">gsSPLightColor</a>(n,  col)</td></tr>
<tr class="separator:a0fe448d7217dfca0e567ff69c9a7bf94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a248672b75808e9e14d617cdf60edbbfa" id="r_a248672b75808e9e14d617cdf60edbbfa"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a248672b75808e9e14d617cdf60edbbfa">gSPSetLights</a>(pkt,  n,  name)</td></tr>
<tr class="separator:a248672b75808e9e14d617cdf60edbbfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf15e5e8939a99813136386c513b13da" id="r_aaf15e5e8939a99813136386c513b13da"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaf15e5e8939a99813136386c513b13da">gsSPSetLights</a>(n,  name)</td></tr>
<tr class="separator:aaf15e5e8939a99813136386c513b13da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e4561c2f7df92599ffddef962a863b5" id="r_a3e4561c2f7df92599ffddef962a863b5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3e4561c2f7df92599ffddef962a863b5">gSPCameraWorld</a>(pkt,  cam)&#160;&#160;&#160;    gDma2p((pkt), G_MOVEMEM, (cam), sizeof(PlainVtx), G_MV_LIGHT, 0)</td></tr>
<tr class="separator:a3e4561c2f7df92599ffddef962a863b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42195dcbbd795d8751531e0eff3beb47" id="r_a42195dcbbd795d8751531e0eff3beb47"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a42195dcbbd795d8751531e0eff3beb47">gsSPCameraWorld</a>(cam)&#160;&#160;&#160;    gsDma2p(      G_MOVEMEM, (cam), sizeof(PlainVtx), G_MV_LIGHT, 0)</td></tr>
<tr class="separator:a42195dcbbd795d8751531e0eff3beb47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb2cda6fbb8588a0b8da4ea66701aae8" id="r_acb2cda6fbb8588a0b8da4ea66701aae8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acb2cda6fbb8588a0b8da4ea66701aae8">gSPLookAt</a>(pkt,  la)&#160;&#160;&#160;    gDma2p((pkt), G_MOVEMEM, (la), sizeof(LookAt), G_MV_LIGHT, 8)</td></tr>
<tr class="separator:acb2cda6fbb8588a0b8da4ea66701aae8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2c36fed7b56ce97723c56f3dc763d83" id="r_ad2c36fed7b56ce97723c56f3dc763d83"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad2c36fed7b56ce97723c56f3dc763d83">gsSPLookAt</a>(la)&#160;&#160;&#160;    gsDma2p(      G_MOVEMEM, (la), sizeof(LookAt), G_MV_LIGHT, 8)</td></tr>
<tr class="separator:ad2c36fed7b56ce97723c56f3dc763d83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fe6a790f9e280be6bc5ab75494d062e" id="r_a5fe6a790f9e280be6bc5ab75494d062e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5fe6a790f9e280be6bc5ab75494d062e">gSPLookAtX</a>(pkt,  l)&#160;&#160;&#160;<a class="el" href="#acb2cda6fbb8588a0b8da4ea66701aae8">gSPLookAt</a>(pkt, l)</td></tr>
<tr class="separator:a5fe6a790f9e280be6bc5ab75494d062e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50d2a6fb30a49e45e3ae5b96ec5972df" id="r_a50d2a6fb30a49e45e3ae5b96ec5972df"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a50d2a6fb30a49e45e3ae5b96ec5972df">gsSPLookAtX</a>(l)&#160;&#160;&#160;<a class="el" href="#ad2c36fed7b56ce97723c56f3dc763d83">gsSPLookAt</a>(l)</td></tr>
<tr class="separator:a50d2a6fb30a49e45e3ae5b96ec5972df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b20ab18252bce4d46225fcc50700845" id="r_a1b20ab18252bce4d46225fcc50700845"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1b20ab18252bce4d46225fcc50700845">gSPLookAtY</a>(pkt,  l)&#160;&#160;&#160;gSPNoOp(pkt)</td></tr>
<tr class="separator:a1b20ab18252bce4d46225fcc50700845"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7340785bc6142704ca8fa39fa5e1e680" id="r_a7340785bc6142704ca8fa39fa5e1e680"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7340785bc6142704ca8fa39fa5e1e680">gsSPLookAtY</a>(l)&#160;&#160;&#160;gsSPNoOp()</td></tr>
<tr class="separator:a7340785bc6142704ca8fa39fa5e1e680"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefd887b7fc9a1b5b44075b090f6cfad9" id="r_aefd887b7fc9a1b5b44075b090f6cfad9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aefd887b7fc9a1b5b44075b090f6cfad9">gSPOcclusionPlane</a>(pkt,  o)</td></tr>
<tr class="separator:aefd887b7fc9a1b5b44075b090f6cfad9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8213489140603f848ee4e9535e31c63e" id="r_a8213489140603f848ee4e9535e31c63e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8213489140603f848ee4e9535e31c63e">gsSPOcclusionPlane</a>(o)</td></tr>
<tr class="separator:a8213489140603f848ee4e9535e31c63e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7be3a9b95e9f25cf6a77c357c4237f9d" id="r_a7be3a9b95e9f25cf6a77c357c4237f9d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7be3a9b95e9f25cf6a77c357c4237f9d">gSPFogFactor</a>(pkt,  fm,  fo)</td></tr>
<tr class="separator:a7be3a9b95e9f25cf6a77c357c4237f9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad71caddcceec419f1f1f64c65c26619a" id="r_ad71caddcceec419f1f1f64c65c26619a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad71caddcceec419f1f1f64c65c26619a">gsSPFogFactor</a>(fm,  fo)</td></tr>
<tr class="separator:ad71caddcceec419f1f1f64c65c26619a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80d19c11fb825f8f1421ddd1bc012ec8" id="r_a80d19c11fb825f8f1421ddd1bc012ec8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a80d19c11fb825f8f1421ddd1bc012ec8">gSPTexture</a>(pkt,  s,  t,  level,  tile,  on)</td></tr>
<tr class="separator:a80d19c11fb825f8f1421ddd1bc012ec8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85bff29e95fbcd0bae09f90af66dbfee" id="r_a85bff29e95fbcd0bae09f90af66dbfee"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a85bff29e95fbcd0bae09f90af66dbfee">gsSPTexture</a>(s,  t,  level,  tile,  on)</td></tr>
<tr class="separator:a85bff29e95fbcd0bae09f90af66dbfee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3303bc2d4018b14405c1d67a646b796" id="r_aa3303bc2d4018b14405c1d67a646b796"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa3303bc2d4018b14405c1d67a646b796">gSPTextureL</a>(pkt,  s,  t,  level,  bowtie,  tile,  on)&#160;&#160;&#160;    <a class="el" href="#a80d19c11fb825f8f1421ddd1bc012ec8">gSPTexture</a>(pkt, s, t, level, tile, on)</td></tr>
<tr class="separator:aa3303bc2d4018b14405c1d67a646b796"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57d574019d54e8ea4f1e409ab9a65d31" id="r_a57d574019d54e8ea4f1e409ab9a65d31"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a57d574019d54e8ea4f1e409ab9a65d31">gsSPTextureL</a>(s,  t,  level,  bowtie,  tile,  on)&#160;&#160;&#160;    <a class="el" href="#a85bff29e95fbcd0bae09f90af66dbfee">gsSPTexture</a>(s, t, level, tile, on)</td></tr>
<tr class="separator:a57d574019d54e8ea4f1e409ab9a65d31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a326b58e27fb82e340cf1a720d50b0dc3" id="r_a326b58e27fb82e340cf1a720d50b0dc3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a326b58e27fb82e340cf1a720d50b0dc3">gSPGeometryMode</a>(pkt,  c,  s)</td></tr>
<tr class="separator:a326b58e27fb82e340cf1a720d50b0dc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a917acaef848eb70f3eacaaafbd802ea7" id="r_a917acaef848eb70f3eacaaafbd802ea7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a917acaef848eb70f3eacaaafbd802ea7">gsSPGeometryMode</a>(c,  s)</td></tr>
<tr class="separator:a917acaef848eb70f3eacaaafbd802ea7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2551b0dea81813c769054610ded8835" id="r_aa2551b0dea81813c769054610ded8835"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa2551b0dea81813c769054610ded8835">gDPPipelineMode</a>(pkt,  mode)&#160;&#160;&#160;    gSPSetOtherMode(pkt, G_SETOTHERMODE_H, G_MDSFT_PIPELINE, 1, mode)</td></tr>
<tr class="separator:aa2551b0dea81813c769054610ded8835"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a315bb8e9688de03a28da20c43076603d" id="r_a315bb8e9688de03a28da20c43076603d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a315bb8e9688de03a28da20c43076603d">gsDPPipelineMode</a>(mode)&#160;&#160;&#160;    gsSPSetOtherMode(    G_SETOTHERMODE_H, G_MDSFT_PIPELINE, 1, mode)</td></tr>
<tr class="separator:a315bb8e9688de03a28da20c43076603d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f96d69170d7be2f77c67b94d5188043" id="r_a3f96d69170d7be2f77c67b94d5188043"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3f96d69170d7be2f77c67b94d5188043">gDPSetBlendMask</a>(pkt,  mask)&#160;&#160;&#160;gSPNoOp(pkt)</td></tr>
<tr class="separator:a3f96d69170d7be2f77c67b94d5188043"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbb3418065ed5c3bdd077df847345c60" id="r_acbb3418065ed5c3bdd077df847345c60"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acbb3418065ed5c3bdd077df847345c60">gsDPSetBlendMask</a>(mask)&#160;&#160;&#160;gsSPNoOp()</td></tr>
<tr class="separator:acbb3418065ed5c3bdd077df847345c60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f7fc8cb129d01c1e8dfbe8d523557f0" id="r_a7f7fc8cb129d01c1e8dfbe8d523557f0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7f7fc8cb129d01c1e8dfbe8d523557f0">gDPSetCombineMode</a>(pkt,  a,  b)&#160;&#160;&#160;gDPSetCombineLERP(pkt, a, b)</td></tr>
<tr class="separator:a7f7fc8cb129d01c1e8dfbe8d523557f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cd188eb89e7f24c8ab73ceef56ae315" id="r_a8cd188eb89e7f24c8ab73ceef56ae315"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8cd188eb89e7f24c8ab73ceef56ae315">gsDPSetCombineMode</a>(a,  b)&#160;&#160;&#160;gsDPSetCombineLERP(    a, b)</td></tr>
<tr class="separator:a8cd188eb89e7f24c8ab73ceef56ae315"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3189fad73e9bb56774b91af9795d0b5c" id="r_a3189fad73e9bb56774b91af9795d0b5c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3189fad73e9bb56774b91af9795d0b5c">gSPLightToRDP</a>(pkt,  light,  alpha,  word0)</td></tr>
<tr class="separator:a3189fad73e9bb56774b91af9795d0b5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a806b38ea9c786e6028c6b4bffb910105" id="r_a806b38ea9c786e6028c6b4bffb910105"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a806b38ea9c786e6028c6b4bffb910105">gsSPLightToRDP</a>(light,  alpha,  word0)</td></tr>
<tr class="separator:a806b38ea9c786e6028c6b4bffb910105"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3264496f9b6d03ea021eec53d41e4e2c" id="r_a3264496f9b6d03ea021eec53d41e4e2c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3264496f9b6d03ea021eec53d41e4e2c">gDPSetOtherMode</a>(pkt,  mode0,  mode1)</td></tr>
<tr class="separator:a3264496f9b6d03ea021eec53d41e4e2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f954026a3a02a28f0aaf5b61b3bec52" id="r_a9f954026a3a02a28f0aaf5b61b3bec52"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9f954026a3a02a28f0aaf5b61b3bec52">gsDPSetOtherMode</a>(mode0,  mode1)</td></tr>
<tr class="separator:a9f954026a3a02a28f0aaf5b61b3bec52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf66b5555c89fbbc55ecaec4e130ae7d" id="r_adf66b5555c89fbbc55ecaec4e130ae7d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adf66b5555c89fbbc55ecaec4e130ae7d">gDPLoadMultiBlockS</a>(pkt,  timg,  tmem,  rtile,  fmt,  siz,  width,  height,  pal,  cms,  cmt,  masks,  maskt,  shifts,  shiftt)</td></tr>
<tr class="separator:adf66b5555c89fbbc55ecaec4e130ae7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81de7938afecb370d755ca517760508f" id="r_a81de7938afecb370d755ca517760508f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a81de7938afecb370d755ca517760508f">gDPLoadMultiBlock</a>(pkt,  timg,  tmem,  rtile,  fmt,  siz,  width,  height,  pal,  cms,  cmt,  masks,  maskt,  shifts,  shiftt)</td></tr>
<tr class="separator:a81de7938afecb370d755ca517760508f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4b353f37138f2917ade03a0ab17e6b3" id="r_ac4b353f37138f2917ade03a0ab17e6b3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac4b353f37138f2917ade03a0ab17e6b3">gsDPLoadMultiBlock</a>(timg,  tmem,  rtile,  fmt,  siz,  width,  height,  pal,  cms,  cmt,  masks,  maskt,  shifts,  shiftt)</td></tr>
<tr class="separator:ac4b353f37138f2917ade03a0ab17e6b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a888036b6f303ec918d607e4a9fc4d1e9" id="r_a888036b6f303ec918d607e4a9fc4d1e9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a888036b6f303ec918d607e4a9fc4d1e9">gsDPLoadMultiBlockS</a>(timg,  tmem,  rtile,  fmt,  siz,  width,  height,  pal,  cms,  cmt,  masks,  maskt,  shifts,  shiftt)</td></tr>
<tr class="separator:a888036b6f303ec918d607e4a9fc4d1e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdbc08619262059a808d5cf0e1723f60" id="r_acdbc08619262059a808d5cf0e1723f60"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acdbc08619262059a808d5cf0e1723f60">gDPLoadMultiBlock_4b</a>(pkt,  timg,  tmem,  rtile,  fmt,  width,  height,  pal,  cms,  cmt,  masks,  maskt,  shifts,  shiftt)</td></tr>
<tr class="separator:acdbc08619262059a808d5cf0e1723f60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a376c74195d33043bad9e8f1a25595465" id="r_a376c74195d33043bad9e8f1a25595465"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a376c74195d33043bad9e8f1a25595465">gDPLoadMultiBlock_4bS</a>(pkt,  timg,  tmem,  rtile,  fmt,  width,  height,  pal,  cms,  cmt,  masks,  maskt,  shifts,  shiftt)</td></tr>
<tr class="separator:a376c74195d33043bad9e8f1a25595465"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef564fb31542ad5e11322c2a67b0993d" id="r_aef564fb31542ad5e11322c2a67b0993d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aef564fb31542ad5e11322c2a67b0993d">gsDPLoadMultiBlock_4b</a>(timg,  tmem,  rtile,  fmt,  width,  height,  pal,  cms,  cmt,  masks,  maskt,  shifts,  shiftt)</td></tr>
<tr class="separator:aef564fb31542ad5e11322c2a67b0993d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adeb7d32fee03996d9f47380768468471" id="r_adeb7d32fee03996d9f47380768468471"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adeb7d32fee03996d9f47380768468471">gsDPLoadMultiBlock_4bS</a>(timg,  tmem,  rtile,  fmt,  width,  height,  pal,  cms,  cmt,  masks,  maskt,  shifts,  shiftt)</td></tr>
<tr class="separator:adeb7d32fee03996d9f47380768468471"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8701edf5112011fb92f1237e95196b12" id="r_a8701edf5112011fb92f1237e95196b12"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8701edf5112011fb92f1237e95196b12">gDPLoadMultiTile</a>(pkt,  timg,  tmem,  rtile,  fmt,  siz,  width,  height,  uls,  ult,  lrs,  lrt,  pal,  cms,  cmt,  masks,  maskt,  shifts,  shiftt)</td></tr>
<tr class="separator:a8701edf5112011fb92f1237e95196b12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35998642ab60b52e787cedfd86a4a7b7" id="r_a35998642ab60b52e787cedfd86a4a7b7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a35998642ab60b52e787cedfd86a4a7b7">gsDPLoadMultiTile</a>(timg,  tmem,  rtile,  fmt,  siz,  width,  height,  uls,  ult,  lrs,  lrt,  pal,  cms,  cmt,  masks,  maskt,  shifts,  shiftt)</td></tr>
<tr class="separator:a35998642ab60b52e787cedfd86a4a7b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bb5120bb2701a961c05f5bc348b5bb4" id="r_a0bb5120bb2701a961c05f5bc348b5bb4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0bb5120bb2701a961c05f5bc348b5bb4">gDPLoadMultiTile_4b</a>(pkt,  timg,  tmem,  rtile,  fmt,  width,  height,  uls,  ult,  lrs,  lrt,  pal,  cms,  cmt,  masks,  maskt,  shifts,  shiftt)</td></tr>
<tr class="separator:a0bb5120bb2701a961c05f5bc348b5bb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75d25f9ccfc4faf5ae84cb5af682ffbc" id="r_a75d25f9ccfc4faf5ae84cb5af682ffbc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a75d25f9ccfc4faf5ae84cb5af682ffbc">gsDPLoadMultiTile_4b</a>(timg,  tmem,  rtile,  fmt,  width,  height,  uls,  ult,  lrs,  lrt,  pal,  cms,  cmt,  masks,  maskt,  shifts,  shiftt)</td></tr>
<tr class="separator:a75d25f9ccfc4faf5ae84cb5af682ffbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cb8d5b933382c4035aed4fc6e7b8bef" id="r_a8cb8d5b933382c4035aed4fc6e7b8bef"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8cb8d5b933382c4035aed4fc6e7b8bef">gDPLoadTLUT_pal16</a>(pkt,  pal,  dram)</td></tr>
<tr class="separator:a8cb8d5b933382c4035aed4fc6e7b8bef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83adad091ac53dbb5bde5a301916f22c" id="r_a83adad091ac53dbb5bde5a301916f22c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a83adad091ac53dbb5bde5a301916f22c">gsDPLoadTLUT_pal16</a>(pal,  dram)</td></tr>
<tr class="separator:a83adad091ac53dbb5bde5a301916f22c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e2b36b6089718a66446d90af49ad3bf" id="r_a9e2b36b6089718a66446d90af49ad3bf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9e2b36b6089718a66446d90af49ad3bf">gDPLoadTLUT_pal256</a>(pkt,  dram)</td></tr>
<tr class="separator:a9e2b36b6089718a66446d90af49ad3bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf7ed39be0e3ca9364cd99f41aeec58b" id="r_acf7ed39be0e3ca9364cd99f41aeec58b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acf7ed39be0e3ca9364cd99f41aeec58b">gsDPLoadTLUT_pal256</a>(dram)</td></tr>
<tr class="separator:acf7ed39be0e3ca9364cd99f41aeec58b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a893dbe684cf887f611ee6f9951913225" id="r_a893dbe684cf887f611ee6f9951913225"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a893dbe684cf887f611ee6f9951913225">gsDPTextureRectangle</a>(xl,  yl,  xh,  yh,  tile,  s,  t,  dsdx,  dtdy)</td></tr>
<tr class="separator:a893dbe684cf887f611ee6f9951913225"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad43bb31267b11ea7d8e3c0009fa9e3de" id="r_ad43bb31267b11ea7d8e3c0009fa9e3de"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad43bb31267b11ea7d8e3c0009fa9e3de">gDPTextureRectangle</a>(pkt,  xl,  yl,  xh,  yh,  tile,  s,  t,  dsdx,  dtdy)</td></tr>
<tr class="separator:ad43bb31267b11ea7d8e3c0009fa9e3de"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a337d3271dded333fc80aa798bf36efe3" id="r_a337d3271dded333fc80aa798bf36efe3"><td class="memItemLeft" align="right" valign="top">typedef long int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a337d3271dded333fc80aa798bf36efe3">Mtx_t</a>[4][4]</td></tr>
<tr class="separator:a337d3271dded333fc80aa798bf36efe3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Modded GBI for use with F3DEX3 custom microcode. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="af30b2f070b5412738477c6fe5ad25e25" name="af30b2f070b5412738477c6fe5ad25e25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af30b2f070b5412738477c6fe5ad25e25">&#9670;&#160;</a></span>G_MAXZ</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define G_MAXZ&#160;&#160;&#160;Error_please_update_viewport_Z_and_Y_see_GBI</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>There have been two breaking changes made to the F3DEX3 viewport relative to F3DEX2 and all previous F3D microcodes.</p><ul>
<li>Max Z value changed from 0x03FF to 0x7FFF</li>
<li>Y scale is negated (offset is not negated)</li>
</ul>
<p>The reason for these changes is as follows. Apparently, SGI initially intended the actual range of Z values in RDP triangle commands to be 0x03FF (integer, plus 16 fractional bits). So this was set up in the GBI and games were initially made this way. The actual range is 0x7FFF (plus 16 frac), at least for RCP HW V2 (retail). So, instead of updating the value in the GBI, SGI just added a scale up by 0x20 at the very end of the triangle processing when writing out the Z coefficients to the RDP. Because of the way this writing was implemented, there did not appear to be any performance penalty to this scaling, so it just worked.</p>
<p>F3DEX3 moves this scale up to the viewport affine transformation step at the end of the vertex processing, which allows an extra 5 bits of Z precision to be retained during some intermediate calculations for the attributes in the triangle write. In EX2, precision is sometimes lost in these calculations, leading to Z fighting. In addition, F3DEX3 optimizes the Z writing, saving a few cycles per written tri.</p>
<p>As far as the Y scale being negated, F3DEX2 did this at the cost of 3 instructions, but doing this on the CPU when creating the viewport is effectively free.</p>
<p>Both of these changes were made together&ndash;and this macro was changed to an error instead of just being changed to the new value&ndash;in order to maximize the chances the developer actually changes their viewport. Some game codebases might have the value derived from G_MAXZ hardcoded, so they might miss this change and start getting weird Z buffer issues. But they won't miss their game being upside down. </p>

</div>
</div>
<a id="ae6de43c88b8f3a2f32a17c5e3a94ede9" name="ae6de43c88b8f3a2f32a17c5e3a94ede9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6de43c88b8f3a2f32a17c5e3a94ede9">&#9670;&#160;</a></span>G_MWO_POINT_XYSCREEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define G_MWO_POINT_XYSCREEN&#160;&#160;&#160;0x18</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>change the screen coordinates of the vertex. The high 16 bits of val specify the X coordinate and the low 16 bits specify the Y coordinate. Both coordinates are S13.2 numbers with 0,0 being the upper-left of the screen, positive X going right, and positive Y going down. </p>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000001">Deprecated</a></b></dt><dd>to use, won't work if the tri gets clipped. </dd></dl>

</div>
</div>
<a id="a39681fea3ef91be9ce5d51b87eb93fbb" name="a39681fea3ef91be9ce5d51b87eb93fbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39681fea3ef91be9ce5d51b87eb93fbb">&#9670;&#160;</a></span>G_MWO_POINT_ZSCREEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define G_MWO_POINT_ZSCREEN&#160;&#160;&#160;0x1C</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>changes the screen Z coordinate of the vertex. The entire 32-bit val is taken as the new screen Z value. It is a 16.16 number in the range 0x00000000 to 0x03ff0000. </p>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000002">Deprecated</a></b></dt><dd>to use, won't work if the tri gets clipped. </dd></dl>

</div>
</div>
<a id="a60f53f20d851e8d5b3108369057cb705" name="a60f53f20d851e8d5b3108369057cb705"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60f53f20d851e8d5b3108369057cb705">&#9670;&#160;</a></span>G_NEW_MAXZ</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define G_NEW_MAXZ&#160;&#160;&#160;0x7FFF</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>New max Z value for viewport. </p>

</div>
</div>
<a id="a81de7938afecb370d755ca517760508f" name="a81de7938afecb370d755ca517760508f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81de7938afecb370d755ca517760508f">&#9670;&#160;</a></span>gDPLoadMultiBlock</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gDPLoadMultiBlock</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>timg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>tmem</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>rtile</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>fmt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>siz</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>width</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>height</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pal</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>cms</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>cmt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>masks</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>maskt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>shifts</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>shiftt</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">_DW({                                                                           \</div>
<div class="line">    gDPSetTextureImage(pkt, fmt, siz##_LOAD_BLOCK, 1, timg);                    \</div>
<div class="line">    gDPSetTile(pkt, fmt, siz##_LOAD_BLOCK, 0, tmem, _G_TEXLOADTILE(rtile),      \</div>
<div class="line">        0, cmt, maskt, shiftt, cms, masks, shifts);                             \</div>
<div class="line">    gDPLoadSyncInTexLoad(pkt);                                                  \</div>
<div class="line">    gDPLoadBlock(pkt, _G_TEXLOADTILE(rtile), 0, 0,                              \</div>
<div class="line">        (((width) * (height) + siz##_INCR) &gt;&gt; siz##_SHIFT) - 1,                 \</div>
<div class="line">        CALC_DXT(width, siz##_BYTES));                                          \</div>
<div class="line">    gDPPipeSyncInTexLoad(pkt);                                                  \</div>
<div class="line">    gDPSetTile(pkt, fmt, siz,                                                   \</div>
<div class="line">        (((width) * siz##_LINE_BYTES) + 7) &gt;&gt; 3, tmem,                          \</div>
<div class="line">        rtile, pal, cmt, maskt, shiftt, cms, masks, shifts);                    \</div>
<div class="line">    gDPSetTileSize(pkt, rtile, 0, 0,                                            \</div>
<div class="line">        ((width)  - 1) &lt;&lt; G_TEXTURE_IMAGE_FRAC,                                 \</div>
<div class="line">        ((height) - 1) &lt;&lt; G_TEXTURE_IMAGE_FRAC);                                \</div>
<div class="line">})</div>
</div><!-- fragment --><p>allows tmem address and render tile to be specified </p>

</div>
</div>
<a id="acdbc08619262059a808d5cf0e1723f60" name="acdbc08619262059a808d5cf0e1723f60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdbc08619262059a808d5cf0e1723f60">&#9670;&#160;</a></span>gDPLoadMultiBlock_4b</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gDPLoadMultiBlock_4b</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>timg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>tmem</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>rtile</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>fmt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>width</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>height</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pal</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>cms</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>cmt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>masks</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>maskt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>shifts</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>shiftt</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">_DW({                                                                           \</div>
<div class="line">    gDPSetTextureImage(pkt, fmt, G_IM_SIZ_16b, 1, timg);                        \</div>
<div class="line">    gDPSetTile(pkt, fmt, G_IM_SIZ_16b, 0, tmem, _G_TEXLOADTILE(rtile),          \</div>
<div class="line">        0, cmt, maskt, shiftt, cms, masks, shifts);                             \</div>
<div class="line">    gDPLoadSyncInTexLoad(pkt);                                                  \</div>
<div class="line">    gDPLoadBlock(pkt, _G_TEXLOADTILE(rtile), 0, 0,                              \</div>
<div class="line">        (((width) * (height) + 3) &gt;&gt; 2) - 1,                                    \</div>
<div class="line">        CALC_DXT_4b(width));                                                    \</div>
<div class="line">    gDPPipeSyncInTexLoad(pkt);                                                  \</div>
<div class="line">    gDPSetTile(pkt, fmt, G_IM_SIZ_4b,                                           \</div>
<div class="line">        ((((width) &gt;&gt; 1) + 7) &gt;&gt; 3), tmem,                                      \</div>
<div class="line">        rtile, pal, cmt, maskt, shiftt, cms, masks, shifts);                    \</div>
<div class="line">    gDPSetTileSize(pkt, rtile, 0, 0,                                            \</div>
<div class="line">        ((width)  - 1) &lt;&lt; G_TEXTURE_IMAGE_FRAC,                                 \</div>
<div class="line">        ((height) - 1) &lt;&lt; G_TEXTURE_IMAGE_FRAC);                                \</div>
<div class="line">})</div>
</div><!-- fragment --><p>4-bit load block. Useful when loading multiple tiles </p>

</div>
</div>
<a id="a376c74195d33043bad9e8f1a25595465" name="a376c74195d33043bad9e8f1a25595465"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a376c74195d33043bad9e8f1a25595465">&#9670;&#160;</a></span>gDPLoadMultiBlock_4bS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gDPLoadMultiBlock_4bS</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>timg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>tmem</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>rtile</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>fmt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>width</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>height</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pal</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>cms</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>cmt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>masks</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>maskt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>shifts</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>shiftt</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">_DW({                                                                           \</div>
<div class="line">    gDPSetTextureImage(pkt, fmt, G_IM_SIZ_16b, 1, timg);                        \</div>
<div class="line">    gDPSetTile(pkt, fmt, G_IM_SIZ_16b, 0, tmem, _G_TEXLOADTILE(rtile),          \</div>
<div class="line">        0, cmt, maskt, shiftt, cms, masks, shifts);                             \</div>
<div class="line">    gDPLoadSyncInTexLoad(pkt);                                                  \</div>
<div class="line">    gDPLoadBlock(pkt, _G_TEXLOADTILE(rtile), 0, 0,                              \</div>
<div class="line">        (((width) * (height) + 3) &gt;&gt; 2) - 1,                                    \</div>
<div class="line">        0);                                                                     \</div>
<div class="line">    gDPPipeSyncInTexLoad(pkt);                                                  \</div>
<div class="line">    gDPSetTile(pkt, fmt, G_IM_SIZ_4b,                                           \</div>
<div class="line">        ((((width) &gt;&gt; 1) + 7) &gt;&gt; 3), tmem,                                      \</div>
<div class="line">        rtile, pal, cmt, maskt, shiftt, cms, masks, shifts);                    \</div>
<div class="line">    gDPSetTileSize(pkt, rtile, 0, 0,                                            \</div>
<div class="line">        ((width)  - 1) &lt;&lt; G_TEXTURE_IMAGE_FRAC,                                 \</div>
<div class="line">        ((height) - 1) &lt;&lt; G_TEXTURE_IMAGE_FRAC);                                \</div>
<div class="line">})</div>
</div><!-- fragment --><p>4-bit load block. Allows tmem and render tile to be specified. Useful when loading multiple tiles. The S means odd lines are already word swapped. </p>

</div>
</div>
<a id="adf66b5555c89fbbc55ecaec4e130ae7d" name="adf66b5555c89fbbc55ecaec4e130ae7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf66b5555c89fbbc55ecaec4e130ae7d">&#9670;&#160;</a></span>gDPLoadMultiBlockS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gDPLoadMultiBlockS</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>timg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>tmem</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>rtile</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>fmt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>siz</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>width</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>height</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pal</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>cms</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>cmt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>masks</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>maskt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>shifts</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>shiftt</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">_DW({                                                                               \</div>
<div class="line">    gDPSetTextureImage(pkt, fmt, siz##_LOAD_BLOCK, 1, timg);                        \</div>
<div class="line">    gDPSetTile(pkt, fmt, siz##_LOAD_BLOCK, 0, tmem, _G_TEXLOADTILE(rtile),          \</div>
<div class="line">        0, cmt, maskt, shiftt, cms, masks, shifts);                                 \</div>
<div class="line">    gDPLoadSyncInTexLoad(pkt);                                                      \</div>
<div class="line">    gDPLoadBlock(pkt, _G_TEXLOADTILE(rtile), 0, 0,                                  \</div>
<div class="line">        (((width) * (height) + siz##_INCR) &gt;&gt; siz##_SHIFT) - 1,0);                  \</div>
<div class="line">    gDPPipeSyncInTexLoad(pkt);                                                      \</div>
<div class="line">    gDPSetTile(pkt, fmt, siz,                                                       \</div>
<div class="line">        (((width) * siz##_LINE_BYTES) + 7) &gt;&gt; 3, tmem,                              \</div>
<div class="line">        rtile, pal, cmt, maskt, shiftt, cms, masks,                                 \</div>
<div class="line">        shifts);                                                                    \</div>
<div class="line">    gDPSetTileSize(pkt, rtile, 0, 0,                                                \</div>
<div class="line">        ((width)  - 1) &lt;&lt; G_TEXTURE_IMAGE_FRAC,                                     \</div>
<div class="line">        ((height) - 1) &lt;&lt; G_TEXTURE_IMAGE_FRAC);                                    \</div>
<div class="line">})</div>
</div><!-- fragment --><p>Allow tmem address and render tile to be specified. The S at the end means odd lines are already word Swapped </p>

</div>
</div>
<a id="a8701edf5112011fb92f1237e95196b12" name="a8701edf5112011fb92f1237e95196b12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8701edf5112011fb92f1237e95196b12">&#9670;&#160;</a></span>gDPLoadMultiTile</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gDPLoadMultiTile</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>timg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>tmem</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>rtile</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>fmt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>siz</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>width</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>height</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>uls</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>ult</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>lrs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>lrt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pal</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>cms</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>cmt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>masks</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>maskt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>shifts</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>shiftt</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">_DW({                                                                       \</div>
<div class="line">    gDPSetTextureImage(pkt, fmt, siz, width, timg);                         \</div>
<div class="line">    gDPSetTile(pkt, fmt, siz,                                               \</div>
<div class="line">        (((((lrs) - (uls) + 1) * siz##_TILE_BYTES) + 7) &gt;&gt; 3), tmem,        \</div>
<div class="line">        _G_TEXLOADTILE(rtile), 0, cmt, maskt, shiftt, cms, masks, shifts);  \</div>
<div class="line">    gDPLoadSyncInTexLoad(pkt);                                              \</div>
<div class="line">    gDPLoadTile(pkt, _G_TEXLOADTILE(rtile),                                 \</div>
<div class="line">        (uls) &lt;&lt; G_TEXTURE_IMAGE_FRAC,                                      \</div>
<div class="line">        (ult) &lt;&lt; G_TEXTURE_IMAGE_FRAC,                                      \</div>
<div class="line">        (lrs) &lt;&lt; G_TEXTURE_IMAGE_FRAC,                                      \</div>
<div class="line">        (lrt) &lt;&lt; G_TEXTURE_IMAGE_FRAC);                                     \</div>
<div class="line">    gDPPipeSyncInTexLoad(pkt);                                              \</div>
<div class="line">    gDPSetTile(pkt, fmt, siz,                                               \</div>
<div class="line">        (((((lrs) - (uls) + 1) * siz##_LINE_BYTES) + 7) &gt;&gt; 3), tmem,        \</div>
<div class="line">        rtile, pal, cmt, maskt, shiftt, cms, masks, shifts);                \</div>
<div class="line">    gDPSetTileSize(pkt, rtile,                                              \</div>
<div class="line">        (uls) &lt;&lt; G_TEXTURE_IMAGE_FRAC,                                      \</div>
<div class="line">        (ult) &lt;&lt; G_TEXTURE_IMAGE_FRAC,                                      \</div>
<div class="line">        (lrs) &lt;&lt; G_TEXTURE_IMAGE_FRAC,                                      \</div>
<div class="line">        (lrt) &lt;&lt; G_TEXTURE_IMAGE_FRAC);                                     \</div>
<div class="line">})</div>
</div><!-- fragment --><p>Load texture tile. Allows tmem address and render tile to be specified. Useful for loading multiple tiles. </p>

</div>
</div>
<a id="a0bb5120bb2701a961c05f5bc348b5bb4" name="a0bb5120bb2701a961c05f5bc348b5bb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bb5120bb2701a961c05f5bc348b5bb4">&#9670;&#160;</a></span>gDPLoadMultiTile_4b</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gDPLoadMultiTile_4b</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>timg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>tmem</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>rtile</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>fmt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>width</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>height</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>uls</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>ult</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>lrs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>lrt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pal</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>cms</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>cmt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>masks</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>maskt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>shifts</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>shiftt</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">_DW({                                                                       \</div>
<div class="line">    gDPSetTextureImage(pkt, fmt, G_IM_SIZ_8b, ((width) &gt;&gt; 1), timg);        \</div>
<div class="line">    gDPSetTile(pkt, fmt, G_IM_SIZ_8b,                                       \</div>
<div class="line">        (((((lrs) - (uls) + 1) &gt;&gt; 1) + 7) &gt;&gt; 3), tmem,                      \</div>
<div class="line">        _G_TEXLOADTILE(rtile), 0, cmt, maskt, shiftt, cms, masks, shifts);  \</div>
<div class="line">    gDPLoadSyncInTexLoad(pkt);                                              \</div>
<div class="line">    gDPLoadTile(pkt, _G_TEXLOADTILE(rtile),                                 \</div>
<div class="line">        (uls) &lt;&lt; (G_TEXTURE_IMAGE_FRAC - 1),                                \</div>
<div class="line">        (ult) &lt;&lt; (G_TEXTURE_IMAGE_FRAC),                                    \</div>
<div class="line">        (lrs) &lt;&lt; (G_TEXTURE_IMAGE_FRAC - 1),                                \</div>
<div class="line">        (lrt) &lt;&lt; (G_TEXTURE_IMAGE_FRAC));                                   \</div>
<div class="line">    gDPPipeSyncInTexLoad(pkt);                                              \</div>
<div class="line">    gDPSetTile(pkt, fmt, G_IM_SIZ_4b,                                       \</div>
<div class="line">        (((((lrs) - (uls) + 1) &gt;&gt; 1) + 7) &gt;&gt; 3), tmem,                      \</div>
<div class="line">        rtile, pal, cmt, maskt, shiftt, cms, masks, shifts);                \</div>
<div class="line">    gDPSetTileSize(pkt, rtile,                                              \</div>
<div class="line">        (uls) &lt;&lt; G_TEXTURE_IMAGE_FRAC,                                      \</div>
<div class="line">        (ult) &lt;&lt; G_TEXTURE_IMAGE_FRAC,                                      \</div>
<div class="line">        (lrs) &lt;&lt; G_TEXTURE_IMAGE_FRAC,                                      \</div>
<div class="line">        (lrt) &lt;&lt; G_TEXTURE_IMAGE_FRAC);                                     \</div>
<div class="line">})</div>
</div><!-- fragment --><p>Load texture tile. Allows tmem address and render tile to be specified. Useful for loading multiple tiles. </p>

</div>
</div>
<a id="a8cb8d5b933382c4035aed4fc6e7b8bef" name="a8cb8d5b933382c4035aed4fc6e7b8bef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cb8d5b933382c4035aed4fc6e7b8bef">&#9670;&#160;</a></span>gDPLoadTLUT_pal16</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gDPLoadTLUT_pal16</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pal</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>dram</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">_DW({                                                                \</div>
<div class="line">    gDPSetTextureImage(pkt, G_IM_FMT_RGBA, G_IM_SIZ_16b, 1, dram);   \</div>
<div class="line">    gDPTileSyncInTexLoad(pkt);                                       \</div>
<div class="line">    gDPSetTile(pkt, 0, 0, 0, (256 + (((pal) &amp; 0xF) * 16)),           \</div>
<div class="line">                    _G_PALLOADTILE((pal) &amp; 1), 0, 0, 0, 0, 0, 0, 0); \</div>
<div class="line">    gDPLoadSyncInTexLoad(pkt);                                       \</div>
<div class="line">    gDPLoadTLUTCmd(pkt, _G_PALLOADTILE((pal) &amp; 1), 15);              \</div>
<div class="line">    gDPPipeSyncInTexLoad(pkt);                                       \</div>
<div class="line">})</div>
</div><!-- fragment --><p>Load a 16-entry palette (for 4-bit CI textures) Assumes a 16 entry tlut is being loaded, palette # is 0-15 With NO_SYNCS_IN_TEXTURE_LOADS: assumes that palette 0 is for multitexture texture 0 and palette 1 is for texture 1 (uses load tiles 5 and 4) </p>

</div>
</div>
<a id="a9e2b36b6089718a66446d90af49ad3bf" name="a9e2b36b6089718a66446d90af49ad3bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e2b36b6089718a66446d90af49ad3bf">&#9670;&#160;</a></span>gDPLoadTLUT_pal256</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gDPLoadTLUT_pal256</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>dram</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">_DW({                                                                   \</div>
<div class="line">    gDPSetTextureImage(pkt, G_IM_FMT_RGBA, G_IM_SIZ_16b, 1, dram);      \</div>
<div class="line">    gDPTileSyncInTexLoad(pkt);                                          \</div>
<div class="line">    gDPSetTile(pkt, 0, 0, 0, 256,                                       \</div>
<div class="line">                    _G_PALLOADTILE(0), 0, 0, 0, 0, 0, 0, 0);            \</div>
<div class="line">    gDPLoadSyncInTexLoad(pkt);                                          \</div>
<div class="line">    gDPLoadTLUTCmd(pkt, _G_PALLOADTILE(0), 255);                        \</div>
<div class="line">    gDPPipeSyncInTexLoad(pkt);                                          \</div>
<div class="line">})</div>
</div><!-- fragment --><p>Load a 256-entry palette (for 8-bit CI textures) Assumes a 256 entry tlut is being loaded, palette # is not used </p>

</div>
</div>
<a id="aa2551b0dea81813c769054610ded8835" name="aa2551b0dea81813c769054610ded8835"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2551b0dea81813c769054610ded8835">&#9670;&#160;</a></span>gDPPipelineMode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gDPPipelineMode</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>mode</em></span>&#160;)&#160;&#160;&#160;    gSPSetOtherMode(pkt, G_SETOTHERMODE_H, G_MDSFT_PIPELINE, 1, mode)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>RDP setothermode register commands - register shadowed in RSP </p>

</div>
</div>
<a id="a3f96d69170d7be2f77c67b94d5188043" name="a3f96d69170d7be2f77c67b94d5188043"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f96d69170d7be2f77c67b94d5188043">&#9670;&#160;</a></span>gDPSetBlendMask</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gDPSetBlendMask</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>mask</em></span>&#160;)&#160;&#160;&#160;gSPNoOp(pkt)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>'blendmask' is not supported anymore. The bits are reserved for future use. Fri May 26 13:45:55 PDT 1995 </p><dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000007">Deprecated</a></b></dt><dd></dd></dl>

</div>
</div>
<a id="a7f7fc8cb129d01c1e8dfbe8d523557f0" name="a7f7fc8cb129d01c1e8dfbe8d523557f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f7fc8cb129d01c1e8dfbe8d523557f0">&#9670;&#160;</a></span>gDPSetCombineMode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gDPSetCombineMode</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>a</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>b</em></span>&#160;)&#160;&#160;&#160;gDPSetCombineLERP(pkt, a, b)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>SetCombineMode macros are NOT redunant. It allow the C preprocessor to substitute single parameter which includes commas in the token and rescan for higher parameter count macro substitution.</p>
<p>eg. <a class="el" href="#a8cd188eb89e7f24c8ab73ceef56ae315">gsDPSetCombineMode(G_CC_MODULATE, G_CC_MODULATE)</a> turns into gsDPSetCombineLERP(TEXEL0, 0, SHADE, 0, TEXEL0, 0, SHADE, 0,
     TEXEL0, 0, SHADE, 0, TEXEL0, 0, SHADE, 0) </p>

</div>
</div>
<a id="a3264496f9b6d03ea021eec53d41e4e2c" name="a3264496f9b6d03ea021eec53d41e4e2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3264496f9b6d03ea021eec53d41e4e2c">&#9670;&#160;</a></span>gDPSetOtherMode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gDPSetOtherMode</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>mode0</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>mode1</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">_DW({                                                   \</div>
<div class="line">    <a class="code hl_union" href="unionGfx.html">Gfx</a> *_g = (<a class="code hl_union" href="unionGfx.html">Gfx</a> *)(pkt);                             \</div>
<div class="line">                                                        \</div>
<div class="line">    _g-&gt;words.w0 = (_SHIFTL(G_RDPSETOTHERMODE, 24, 8) | \</div>
<div class="line">                    _SHIFTL(mode0, 0, 24));             \</div>
<div class="line">    _g-&gt;words.w1 = (<span class="keywordtype">unsigned</span> int)(mode1);               \</div>
<div class="line">})</div>
<div class="ttc" id="aunionGfx_html"><div class="ttname"><a href="unionGfx.html">Gfx</a></div><div class="ttdef"><b>Definition</b> gbi.h:1988</div></div>
</div><!-- fragment --><p>gDPSetOtherMode (This is for expert user.)</p>
<p>This command makes all othermode parameters set. Do not use this command in the same DL with another g*SPSetOtherMode DLs.</p>
<p>[Usage] <a class="el" href="#a3264496f9b6d03ea021eec53d41e4e2c">gDPSetOtherMode(pkt, modeA, modeB)</a> </p><pre class="fragment">'modeA' is described all parameters of GroupA GBI command.
'modeB' is also described all parameters of GroupB GBI command.
</pre><p> GroupA: gDPPipelineMode, gDPSetCycleType, gSPSetTexturePersp, gDPSetTextureDetail, gDPSetTextureLOD, gDPSetTextureLUT, gDPSetTextureFilter, gDPSetTextureConvert, gDPSetCombineKey, gDPSetColorDither, gDPSetAlphaDither</p>
<p>GroupB: gDPSetAlphaCompare, gDPSetDepthSource, gDPSetRenderMode</p>
<p>Use 'OR' operation to get modeA and modeB.</p>
<p>modeA = G_PM_* | G_CYC_* | G_TP_* | G_TD_* | G_TL_* | G_TT_* | G_TF_* G_TC_* | G_CK_* | G_CD_* | G_AD_*;</p>
<p>modeB = G_AC_* | G_ZS_* | G_RM_* | G_RM_*2; </p>

</div>
</div>
<a id="ad43bb31267b11ea7d8e3c0009fa9e3de" name="ad43bb31267b11ea7d8e3c0009fa9e3de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad43bb31267b11ea7d8e3c0009fa9e3de">&#9670;&#160;</a></span>gDPTextureRectangle</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gDPTextureRectangle</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>xl</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>yl</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>xh</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>yh</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>tile</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>s</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>t</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>dsdx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>dtdy</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">_DW({                                                                       \</div>
<div class="line">    <a class="code hl_union" href="unionGfx.html">Gfx</a> *_g = (<a class="code hl_union" href="unionGfx.html">Gfx</a> *)(pkt);                                                 \</div>
<div class="line">    if (pkt);                                                               \</div>
<div class="line">    _g-&gt;words.w0 = (_SHIFTL(G_TEXRECT, 24,  8) |                            \</div>
<div class="line">                    _SHIFTL(xh,        12, 12) |                            \</div>
<div class="line">                    _SHIFTL(yh,         0, 12));                            \</div>
<div class="line">    _g-&gt;words.w1 = (_SHIFTL(tile, 24,  3) |                                 \</div>
<div class="line">                    _SHIFTL(xl,   12, 12) |                                 \</div>
<div class="line">                    _SHIFTL(yl,    0, 12));                                 \</div>
<div class="line">    _g ++;                                                                  \</div>
<div class="line">    _g-&gt;words.w0 = (_SHIFTL(s, 16, 16) |                                    \</div>
<div class="line">                    _SHIFTL(t,  0, 16));                                    \</div>
<div class="line">    _g-&gt;words.w1 = (_SHIFTL(dsdx, 16, 16) |                                 \</div>
<div class="line">                    _SHIFTL(dtdy,  0, 16));                                 \</div>
<div class="line">})</div>
</div><!-- fragment --><p>Notice that textured rectangles are 128-bit commands, therefore <a class="el" href="#a893dbe684cf887f611ee6f9951913225">gsDPTextureRectangle()</a> should not be used in display lists under normal circumstances (use gsSPTextureRectangle()). That is also why there is no <a class="el" href="#ad43bb31267b11ea7d8e3c0009fa9e3de">gDPTextureRectangle()</a> macros.    </p>

</div>
</div>
<a id="a702a60836e516af74b6af9abb8e5c31f" name="a702a60836e516af74b6af9abb8e5c31f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a702a60836e516af74b6af9abb8e5c31f">&#9670;&#160;</a></span>gImmp0</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gImmp0</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>c</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">_DW({                                   \</div>
<div class="line">    <a class="code hl_union" href="unionGfx.html">Gfx</a> *_g = (<a class="code hl_union" href="unionGfx.html">Gfx</a> *)(pkt);             \</div>
<div class="line">                                        \</div>
<div class="line">    _g-&gt;words.w0 = _SHIFTL((c), 24, 8); \</div>
<div class="line">})</div>
</div><!-- fragment --><p>RSP short command (no DMA required) macros </p>

</div>
</div>
<a id="ac4b353f37138f2917ade03a0ab17e6b3" name="ac4b353f37138f2917ade03a0ab17e6b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4b353f37138f2917ade03a0ab17e6b3">&#9670;&#160;</a></span>gsDPLoadMultiBlock</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsDPLoadMultiBlock</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>timg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>tmem</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>rtile</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>fmt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>siz</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>width</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>height</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pal</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>cms</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>cmt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>masks</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>maskt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>shifts</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>shiftt</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    gsDPSetTextureImage(fmt, siz##_LOAD_BLOCK, 1, timg),                    \</div>
<div class="line">    gsDPSetTile(fmt, siz##_LOAD_BLOCK, 0, tmem, _G_TEXLOADTILE(rtile),      \</div>
<div class="line">        0, cmt, maskt, shiftt, cms, masks, shifts),                         \</div>
<div class="line">    gsDPLoadSyncInTexLoad                                                   \</div>
<div class="line">    gsDPLoadBlock(_G_TEXLOADTILE(rtile), 0, 0,                              \</div>
<div class="line">        (((width) * (height) + siz##_INCR) &gt;&gt; siz##_SHIFT) - 1,             \</div>
<div class="line">        CALC_DXT(width, siz##_BYTES)),                                      \</div>
<div class="line">    gsDPPipeSyncInTexLoad                                                   \</div>
<div class="line">    gsDPSetTile(fmt, siz,                                                   \</div>
<div class="line">        ((((width) * siz##_LINE_BYTES) + 7) &gt;&gt; 3), tmem,                    \</div>
<div class="line">        rtile, pal, cmt, maskt, shiftt, cms, masks, shifts),                \</div>
<div class="line">    gsDPSetTileSize(rtile, 0, 0,                                            \</div>
<div class="line">        ((width)  - 1) &lt;&lt; G_TEXTURE_IMAGE_FRAC,                             \</div>
<div class="line">        ((height) - 1) &lt;&lt; G_TEXTURE_IMAGE_FRAC)</div>
</div><!-- fragment --><p>Allow tmem address and render_tile to be specified, useful when loading mutilple tiles at a time. </p>

</div>
</div>
<a id="aef564fb31542ad5e11322c2a67b0993d" name="aef564fb31542ad5e11322c2a67b0993d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef564fb31542ad5e11322c2a67b0993d">&#9670;&#160;</a></span>gsDPLoadMultiBlock_4b</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsDPLoadMultiBlock_4b</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>timg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>tmem</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>rtile</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>fmt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>width</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>height</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pal</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>cms</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>cmt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>masks</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>maskt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>shifts</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>shiftt</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    gsDPSetTextureImage(fmt, G_IM_SIZ_16b, 1, timg),                        \</div>
<div class="line">    gsDPSetTile(fmt, G_IM_SIZ_16b, 0, tmem, _G_TEXLOADTILE(rtile),          \</div>
<div class="line">        0, cmt, maskt, shiftt, cms, masks, shifts),                         \</div>
<div class="line">    gsDPLoadSyncInTexLoad                                                   \</div>
<div class="line">    gsDPLoadBlock(_G_TEXLOADTILE(rtile), 0, 0,                              \</div>
<div class="line">        (((width) * (height) + 3) &gt;&gt; 2) - 1,                                \</div>
<div class="line">        CALC_DXT_4b(width)),                                                \</div>
<div class="line">    gsDPPipeSyncInTexLoad                                                   \</div>
<div class="line">    gsDPSetTile(fmt, G_IM_SIZ_4b,                                           \</div>
<div class="line">        ((((width) &gt;&gt; 1) + 7) &gt;&gt; 3), tmem,                                  \</div>
<div class="line">        rtile, pal, cmt, maskt, shiftt, cms, masks, shifts),                \</div>
<div class="line">    gsDPSetTileSize(rtile, 0, 0,                                            \</div>
<div class="line">        ((width)-1) &lt;&lt; G_TEXTURE_IMAGE_FRAC,                                \</div>
<div class="line">        ((height)-1) &lt;&lt; G_TEXTURE_IMAGE_FRAC)</div>
</div><!-- fragment --><p>4-bit load block. Allows tmem address and render tile to be specified. Useful when loading multiple tiles. </p>

</div>
</div>
<a id="adeb7d32fee03996d9f47380768468471" name="adeb7d32fee03996d9f47380768468471"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adeb7d32fee03996d9f47380768468471">&#9670;&#160;</a></span>gsDPLoadMultiBlock_4bS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsDPLoadMultiBlock_4bS</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>timg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>tmem</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>rtile</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>fmt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>width</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>height</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pal</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>cms</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>cmt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>masks</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>maskt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>shifts</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>shiftt</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    gsDPSetTextureImage(fmt, G_IM_SIZ_16b, 1, timg),                        \</div>
<div class="line">    gsDPSetTile(fmt, G_IM_SIZ_16b, 0, tmem, _G_TEXLOADTILE(rtile),          \</div>
<div class="line">        0, cmt, maskt, shiftt, cms, masks, shifts),                         \</div>
<div class="line">    gsDPLoadSyncInTexLoad                                                   \</div>
<div class="line">    gsDPLoadBlock(_G_TEXLOADTILE(rtile), 0, 0,                              \</div>
<div class="line">        (((width) * (height) + 3) &gt;&gt; 2) - 1,                                \</div>
<div class="line">        0),                                                                 \</div>
<div class="line">    gsDPPipeSyncInTexLoad                                                   \</div>
<div class="line">    gsDPSetTile(fmt, G_IM_SIZ_4b,                                           \</div>
<div class="line">        ((((width) &gt;&gt; 1) + 7) &gt;&gt; 3), tmem,                                  \</div>
<div class="line">        rtile, pal, cmt, maskt, shiftt, cms, masks, shifts),                \</div>
<div class="line">    gsDPSetTileSize(rtile, 0, 0,                                            \</div>
<div class="line">        ((width)  - 1) &lt;&lt; G_TEXTURE_IMAGE_FRAC,                             \</div>
<div class="line">        ((height) - 1) &lt;&lt; G_TEXTURE_IMAGE_FRAC)</div>
</div><!-- fragment --><p>4-bit load block. Allows tmem address and render tile to be specified. Useful when loading multiple tiles. S means odd lines are already swapped. </p>

</div>
</div>
<a id="a888036b6f303ec918d607e4a9fc4d1e9" name="a888036b6f303ec918d607e4a9fc4d1e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a888036b6f303ec918d607e4a9fc4d1e9">&#9670;&#160;</a></span>gsDPLoadMultiBlockS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsDPLoadMultiBlockS</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>timg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>tmem</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>rtile</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>fmt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>siz</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>width</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>height</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pal</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>cms</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>cmt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>masks</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>maskt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>shifts</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>shiftt</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    gsDPSetTextureImage(fmt, siz##_LOAD_BLOCK, 1, timg),                        \</div>
<div class="line">    gsDPSetTile(fmt, siz##_LOAD_BLOCK, 0, tmem, _G_TEXLOADTILE(rtile),          \</div>
<div class="line">        0, cmt, maskt,shiftt, cms, masks, shifts),                              \</div>
<div class="line">    gsDPLoadSyncInTexLoad                                                       \</div>
<div class="line">    gsDPLoadBlock(_G_TEXLOADTILE(rtile), 0, 0,                                  \</div>
<div class="line">        (((width) * (height) + siz##_INCR) &gt;&gt; siz##_SHIFT) - 1, 0),             \</div>
<div class="line">    gsDPPipeSyncInTexLoad                                                       \</div>
<div class="line">    gsDPSetTile(fmt, siz,                                                       \</div>
<div class="line">        ((((width) * siz##_LINE_BYTES) + 7) &gt;&gt; 3), tmem,                        \</div>
<div class="line">        rtile, pal, cmt, maskt, shiftt, cms, masks, shifts),                    \</div>
<div class="line">    gsDPSetTileSize(rtile, 0, 0,                                                \</div>
<div class="line">        ((width)  - 1) &lt;&lt; G_TEXTURE_IMAGE_FRAC,                                 \</div>
<div class="line">        ((height) - 1) &lt;&lt; G_TEXTURE_IMAGE_FRAC)</div>
</div><!-- fragment --><p>Allows tmem and render tile to be specified. Useful when loading several tiles at a time.</p>
<p>Here is the static form of the pre-swapped texture block loading See gDPLoadTextureBlockS() for reference. Basically, just don't calculate DxT, use 0 </p>

</div>
</div>
<a id="a35998642ab60b52e787cedfd86a4a7b7" name="a35998642ab60b52e787cedfd86a4a7b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35998642ab60b52e787cedfd86a4a7b7">&#9670;&#160;</a></span>gsDPLoadMultiTile</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsDPLoadMultiTile</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>timg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>tmem</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>rtile</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>fmt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>siz</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>width</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>height</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>uls</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>ult</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>lrs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>lrt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pal</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>cms</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>cmt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>masks</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>maskt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>shifts</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>shiftt</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    gsDPSetTextureImage(fmt, siz, width, timg),                            \</div>
<div class="line">    gsDPSetTile(fmt, siz,                                                  \</div>
<div class="line">        (((((lrs) - (uls) + 1) * siz##_TILE_BYTES) + 7) &gt;&gt; 3), tmem,       \</div>
<div class="line">        _G_TEXLOADTILE(rtile), 0, cmt, maskt, shiftt, cms, masks, shifts), \</div>
<div class="line">    gsDPLoadSyncInTexLoad                                                  \</div>
<div class="line">    gsDPLoadTile(_G_TEXLOADTILE(rtile),                                    \</div>
<div class="line">        (uls) &lt;&lt; G_TEXTURE_IMAGE_FRAC,                                     \</div>
<div class="line">        (ult) &lt;&lt; G_TEXTURE_IMAGE_FRAC,                                     \</div>
<div class="line">        (lrs) &lt;&lt; G_TEXTURE_IMAGE_FRAC,                                     \</div>
<div class="line">        (lrt) &lt;&lt; G_TEXTURE_IMAGE_FRAC),                                    \</div>
<div class="line">    gsDPPipeSyncInTexLoad                                                  \</div>
<div class="line">    gsDPSetTile(fmt, siz,                                                  \</div>
<div class="line">        (((((lrs) - (uls) + 1) * siz##_LINE_BYTES) + 7) &gt;&gt; 3),             \</div>
<div class="line">        tmem, rtile, pal, cmt, maskt, shiftt, cms, masks, shifts),         \</div>
<div class="line">    gsDPSetTileSize(rtile,                                                 \</div>
<div class="line">        (uls) &lt;&lt; G_TEXTURE_IMAGE_FRAC,                                     \</div>
<div class="line">        (ult) &lt;&lt; G_TEXTURE_IMAGE_FRAC,                                     \</div>
<div class="line">        (lrs) &lt;&lt; G_TEXTURE_IMAGE_FRAC,                                     \</div>
<div class="line">        (lrt) &lt;&lt; G_TEXTURE_IMAGE_FRAC)</div>
</div><!-- fragment --><p>Load texture tile. Allows tmem address and render tile to be specified. Useful for loading multiple tiles. </p>

</div>
</div>
<a id="a75d25f9ccfc4faf5ae84cb5af682ffbc" name="a75d25f9ccfc4faf5ae84cb5af682ffbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75d25f9ccfc4faf5ae84cb5af682ffbc">&#9670;&#160;</a></span>gsDPLoadMultiTile_4b</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsDPLoadMultiTile_4b</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>timg</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>tmem</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>rtile</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>fmt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>width</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>height</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>uls</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>ult</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>lrs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>lrt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pal</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>cms</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>cmt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>masks</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>maskt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>shifts</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>shiftt</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">                                                                           \</div>
<div class="line">    gsDPSetTextureImage(fmt, G_IM_SIZ_8b, ((width) &gt;&gt; 1), timg),           \</div>
<div class="line">    gsDPSetTile(fmt, G_IM_SIZ_8b,                                          \</div>
<div class="line">        (((((lrs) - (uls) + 1) &gt;&gt; 1) + 7) &gt;&gt; 3), tmem,                     \</div>
<div class="line">        _G_TEXLOADTILE(rtile), 0, cmt, maskt, shiftt, cms, masks, shifts), \</div>
<div class="line">    gsDPLoadSyncInTexLoad                                                  \</div>
<div class="line">    gsDPLoadTile(_G_TEXLOADTILE(rtile),                                    \</div>
<div class="line">        (uls) &lt;&lt; (G_TEXTURE_IMAGE_FRAC - 1),                               \</div>
<div class="line">        (ult) &lt;&lt; (G_TEXTURE_IMAGE_FRAC),                                   \</div>
<div class="line">        (lrs) &lt;&lt; (G_TEXTURE_IMAGE_FRAC - 1),                               \</div>
<div class="line">        (lrt) &lt;&lt; (G_TEXTURE_IMAGE_FRAC)),                                  \</div>
<div class="line">    gsDPPipeSyncInTexLoad                                                  \</div>
<div class="line">    gsDPSetTile(fmt, G_IM_SIZ_4b,                                          \</div>
<div class="line">        (((((lrs) - (uls) + 1) &gt;&gt; 1) + 7) &gt;&gt; 3), tmem,                     \</div>
<div class="line">        rtile, pal, cmt, maskt, shiftt, cms, masks, shifts),               \</div>
<div class="line">    gsDPSetTileSize(rtile,                                                 \</div>
<div class="line">        (uls) &lt;&lt; G_TEXTURE_IMAGE_FRAC,                                     \</div>
<div class="line">        (ult) &lt;&lt; G_TEXTURE_IMAGE_FRAC,                                     \</div>
<div class="line">        (lrs) &lt;&lt; G_TEXTURE_IMAGE_FRAC,                                     \</div>
<div class="line">        (lrt) &lt;&lt; G_TEXTURE_IMAGE_FRAC)</div>
</div><!-- fragment --><p>Load texture tile. Allows tmem address and render tile to be specified. Useful for loading multiple tiles.    </p>

</div>
</div>
<a id="a83adad091ac53dbb5bde5a301916f22c" name="a83adad091ac53dbb5bde5a301916f22c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83adad091ac53dbb5bde5a301916f22c">&#9670;&#160;</a></span>gsDPLoadTLUT_pal16</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsDPLoadTLUT_pal16</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pal</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>dram</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    gsDPSetTextureImage(G_IM_FMT_RGBA, G_IM_SIZ_16b, 1, dram),   \</div>
<div class="line">    gsDPTileSyncInTexLoad                                        \</div>
<div class="line">    gsDPSetTile(0, 0, 0, (256 + (((pal) &amp; 0xF) * 16)),           \</div>
<div class="line">                _G_PALLOADTILE((pal) &amp; 1), 0, 0, 0, 0, 0, 0, 0), \</div>
<div class="line">    gsDPLoadSyncInTexLoad                                        \</div>
<div class="line">    gsDPLoadTLUTCmd(_G_PALLOADTILE((pal) &amp; 1), 15)               \</div>
<div class="line">    gsDPPipeSyncEndOfTexLoad</div>
</div><!-- fragment --><p>Load a 16-entry palette (for 4-bit CI textures) Assumes a 16 entry tlut is being loaded, palette # is 0-15 With NO_SYNCS_IN_TEXTURE_LOADS: assumes that palette 0 is for multitexture texture 0 and palette 1 is for texture 1 (uses load tiles 5 and 4)    </p>

</div>
</div>
<a id="acf7ed39be0e3ca9364cd99f41aeec58b" name="acf7ed39be0e3ca9364cd99f41aeec58b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf7ed39be0e3ca9364cd99f41aeec58b">&#9670;&#160;</a></span>gsDPLoadTLUT_pal256</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsDPLoadTLUT_pal256</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>dram</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    gsDPSetTextureImage(G_IM_FMT_RGBA, G_IM_SIZ_16b, 1, dram),  \</div>
<div class="line">    gsDPTileSyncInTexLoad                                       \</div>
<div class="line">    gsDPSetTile(0, 0, 0, 256,                                   \</div>
<div class="line">                _G_PALLOADTILE(0), 0, 0, 0, 0, 0, 0, 0),        \</div>
<div class="line">    gsDPLoadSyncInTexLoad                                       \</div>
<div class="line">    gsDPLoadTLUTCmd(_G_PALLOADTILE(0), 255)                     \</div>
<div class="line">    gsDPPipeSyncEndOfTexLoad</div>
</div><!-- fragment --><p>Load a 256-entry palette (for 8-bit CI textures) Assumes a 256 entry tlut is being loaded, palette # is not used    </p>

</div>
</div>
<a id="a315bb8e9688de03a28da20c43076603d" name="a315bb8e9688de03a28da20c43076603d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a315bb8e9688de03a28da20c43076603d">&#9670;&#160;</a></span>gsDPPipelineMode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsDPPipelineMode</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>mode</em></span></td><td>)</td>
          <td>&#160;&#160;&#160;    gsSPSetOtherMode(    G_SETOTHERMODE_H, G_MDSFT_PIPELINE, 1, mode)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>RDP setothermode register commands - register shadowed in RSP    </p>

</div>
</div>
<a id="acbb3418065ed5c3bdd077df847345c60" name="acbb3418065ed5c3bdd077df847345c60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbb3418065ed5c3bdd077df847345c60">&#9670;&#160;</a></span>gsDPSetBlendMask</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsDPSetBlendMask</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>mask</em></span></td><td>)</td>
          <td>&#160;&#160;&#160;gsSPNoOp()</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>'blendmask' is not supported anymore. The bits are reserved for future use. Fri May 26 13:45:55 PDT 1995 </p><dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000007">Deprecated</a></b></dt><dd></dd></dl>

</div>
</div>
<a id="a8cd188eb89e7f24c8ab73ceef56ae315" name="a8cd188eb89e7f24c8ab73ceef56ae315"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cd188eb89e7f24c8ab73ceef56ae315">&#9670;&#160;</a></span>gsDPSetCombineMode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsDPSetCombineMode</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>a</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>b</em></span>&#160;)&#160;&#160;&#160;gsDPSetCombineLERP(    a, b)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>SetCombineMode macros are NOT redunant. It allow the C preprocessor to substitute single parameter which includes commas in the token and rescan for higher parameter count macro substitution.</p>
<p>eg. <a class="el" href="#a8cd188eb89e7f24c8ab73ceef56ae315">gsDPSetCombineMode(G_CC_MODULATE, G_CC_MODULATE)</a> turns into gsDPSetCombineLERP(TEXEL0, 0, SHADE, 0, TEXEL0, 0, SHADE, 0,
     TEXEL0, 0, SHADE, 0, TEXEL0, 0, SHADE, 0)    </p>

</div>
</div>
<a id="a9f954026a3a02a28f0aaf5b61b3bec52" name="a9f954026a3a02a28f0aaf5b61b3bec52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f954026a3a02a28f0aaf5b61b3bec52">&#9670;&#160;</a></span>gsDPSetOtherMode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsDPSetOtherMode</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>mode0</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>mode1</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{                                           \</div>
<div class="line">   (_SHIFTL(G_RDPSETOTHERMODE, 24,  8) |    \</div>
<div class="line">    _SHIFTL(mode0,              0, 24)),    \</div>
<div class="line">    (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)(mode1)                   \</div>
<div class="line">}</div>
</div><!-- fragment --><p>gDPSetOtherMode (This is for expert user.)</p>
<p>This command makes all othermode parameters set. Do not use this command in the same DL with another g*SPSetOtherMode DLs.</p>
<p>[Usage] <a class="el" href="#a3264496f9b6d03ea021eec53d41e4e2c">gDPSetOtherMode(pkt, modeA, modeB)</a> </p><pre class="fragment">'modeA' is described all parameters of GroupA GBI command.
'modeB' is also described all parameters of GroupB GBI command.
</pre><p> GroupA: gDPPipelineMode, gDPSetCycleType, gSPSetTexturePersp, gDPSetTextureDetail, gDPSetTextureLOD, gDPSetTextureLUT, gDPSetTextureFilter, gDPSetTextureConvert, gDPSetCombineKey, gDPSetColorDither, gDPSetAlphaDither</p>
<p>GroupB: gDPSetAlphaCompare, gDPSetDepthSource, gDPSetRenderMode</p>
<p>Use 'OR' operation to get modeA and modeB.</p>
<p>modeA = G_PM_* | G_CYC_* | G_TP_* | G_TD_* | G_TL_* | G_TT_* | G_TF_* G_TC_* | G_CK_* | G_CD_* | G_AD_*;</p>
<p>modeB = G_AC_* | G_ZS_* | G_RM_* | G_RM_*2;    </p>

</div>
</div>
<a id="a893dbe684cf887f611ee6f9951913225" name="a893dbe684cf887f611ee6f9951913225"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a893dbe684cf887f611ee6f9951913225">&#9670;&#160;</a></span>gsDPTextureRectangle</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsDPTextureRectangle</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>xl</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>yl</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>xh</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>yh</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>tile</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>s</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>t</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>dsdx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>dtdy</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{                                                                       \</div>
<div class="line">   (_SHIFTL(G_TEXRECT, 24,  8) |                                        \</div>
<div class="line">    _SHIFTL(xh,        12, 12) |                                        \</div>
<div class="line">    _SHIFTL(yh,         0, 12)),                                        \</div>
<div class="line">   (_SHIFTL(tile, 24,  3) |                                             \</div>
<div class="line">    _SHIFTL(xl,   12, 12) |                                             \</div>
<div class="line">    _SHIFTL(yl,    0, 12)),                                             \</div>
<div class="line">},                                                                      \</div>
<div class="line">{                                                                       \</div>
<div class="line">   (_SHIFTL(s, 16, 16) |                                                \</div>
<div class="line">    _SHIFTL(t,  0, 16)),                                                \</div>
<div class="line">   (_SHIFTL(dsdx, 16, 16) |                                             \</div>
<div class="line">    _SHIFTL(dtdy,  0, 16))                                              \</div>
<div class="line">}</div>
</div><!-- fragment --><p>Notice that textured rectangles are 128-bit commands, therefore <a class="el" href="#a893dbe684cf887f611ee6f9951913225">gsDPTextureRectangle()</a> should not be used in display lists under normal circumstances (use gsSPTextureRectangle()). That is also why there is no <a class="el" href="#ad43bb31267b11ea7d8e3c0009fa9e3de">gDPTextureRectangle()</a> macros. </p>

</div>
</div>
<a id="a60c27d98cb1f0e602dbc5d3cd3841eab" name="a60c27d98cb1f0e602dbc5d3cd3841eab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60c27d98cb1f0e602dbc5d3cd3841eab">&#9670;&#160;</a></span>gsImmp0</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsImmp0</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>c</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{                       \</div>
<div class="line">    _SHIFTL((c), 24, 8) \</div>
<div class="line">}</div>
</div><!-- fragment --><p>RSP short command (no DMA required) macros    </p>

</div>
</div>
<a id="a423cc35c28537bd28c2f0cde9c520121" name="a423cc35c28537bd28c2f0cde9c520121"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a423cc35c28537bd28c2f0cde9c520121">&#9670;&#160;</a></span>gSP1Quadrangle</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gSP1Quadrangle</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v0</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v2</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v3</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>flag</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">_DW({                                                               \</div>
<div class="line">    <a class="code hl_union" href="unionGfx.html">Gfx</a> *_g = (<a class="code hl_union" href="unionGfx.html">Gfx</a> *)(pkt);                                         \</div>
<div class="line">    _g-&gt;words.w0 = (_SHIFTL(G_QUAD, 24, 8) |                        \</div>
<div class="line">                    __gsSP1Quadrangle_w1f(v0, v1, v2, v3, flag));   \</div>
<div class="line">    _g-&gt;words.w1 = (__gsSP1Quadrangle_w2f(v0, v1, v2, v3, flag));   \</div>
<div class="line">})</div>
</div><!-- fragment --><p>1 Quadrangle </p>

</div>
</div>
<a id="afe0d779cf45ef43bbffd47bbaea0e390" name="afe0d779cf45ef43bbffd47bbaea0e390"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe0d779cf45ef43bbffd47bbaea0e390">&#9670;&#160;</a></span>gSP1Triangle</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gSP1Triangle</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v0</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v2</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>flag</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">_DW({                                                       \</div>
<div class="line">    <a class="code hl_union" href="unionGfx.html">Gfx</a> *_g = (<a class="code hl_union" href="unionGfx.html">Gfx</a> *)(pkt);                                 \</div>
<div class="line">    _g-&gt;words.w0 = (_SHIFTL(G_TRI1, 24, 8) |                \</div>
<div class="line">                    __gsSP1Triangle_w1f(v0, v1, v2, flag)); \</div>
<div class="line">    _g-&gt;words.w1 = 0;                                       \</div>
<div class="line">})</div>
</div><!-- fragment --><p>1 Triangle </p>

</div>
</div>
<a id="aee80adda08faf28c431e1eff5a1e0506" name="aee80adda08faf28c431e1eff5a1e0506"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee80adda08faf28c431e1eff5a1e0506">&#9670;&#160;</a></span>gSP2Triangles</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gSP2Triangles</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v00</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v01</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v02</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>flag0</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v10</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v11</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v12</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>flag1</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">_DW({                                                                   \</div>
<div class="line">    <a class="code hl_union" href="unionGfx.html">Gfx</a> *_g = (<a class="code hl_union" href="unionGfx.html">Gfx</a> *)(pkt);                                             \</div>
<div class="line">    _g-&gt;words.w0 = (_SHIFTL(G_TRI2, 24, 8) |                            \</div>
<div class="line">                    __gsSP1Triangle_w1f(v00, v01, v02, flag0));         \</div>
<div class="line">    _g-&gt;words.w1 =  __gsSP1Triangle_w1f(v10, v11, v12, flag1);          \</div>
<div class="line">})</div>
</div><!-- fragment --><p>2 Triangles </p>

</div>
</div>
<a id="a546c9fb2c9c29bffe417b65f033e6a43" name="a546c9fb2c9c29bffe417b65f033e6a43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a546c9fb2c9c29bffe417b65f033e6a43">&#9670;&#160;</a></span>gSPAlphaCompareCull</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gSPAlphaCompareCull</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>mode</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>thresh</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    gMoveHalfwd(pkt, G_MW_FX, G_MWO_ALPHA_COMPARE_CULL, \</div>
<div class="line">        (_SHIFTL((mode), 8, 8) | _SHIFTL((thresh), 0, 8)))</div>
</div><!-- fragment --><p>Alpha compare culling. Optimization for cel shading, could also be used for other scenarios where lots of tris are being drawn with alpha compare.</p>
<p>If mode == G_ALPHA_COMPARE_CULL_DISABLE, tris are drawn normally.</p>
<p>Otherwise:</p><ul>
<li>"vertex alpha" means the post-transform alpha value at each vertex being sent to the RDP. This may be the original model vertex alpha, fog, light level (for cel shading), or Fresnel.</li>
<li>Assuming a cel shading context: you have a threshold value thresh, you draw tris once and want to write all pixels where shade alpha &gt;= thresh. Then you change color settings and draw tris again, and want to write all other pixels, i.e. where shade alpha &lt; thresh.</li>
</ul>
<p>For the light pass:</p><ul>
<li>Set blend color alpha to thresh</li>
<li>Set CC alpha cycle 1 (or only cycle) to (shade alpha - 0) * tex alpha + 0</li>
<li>The RDP will draw pixels whenever shade alpha &gt;= thresh (with binary alpha from the texture)</li>
<li>Set mode = G_ALPHA_COMPARE_CULL_BELOW in SPAlphaCompareCull, and thresh</li>
<li>The RSP will cull any tris where all three vertex alpha values (i.e. light level) are &lt; thresh</li>
</ul>
<p>For the dark pass:</p><ul>
<li>Set blend color alpha to 0x100 - thresh (yes, not 0xFF - thresh).</li>
<li>Set CC alpha cycle 1 (or only cycle) to (1 - shade alpha) * tex alpha + 0</li>
<li>The RDP will draw pixels whenever shade alpha &lt; thresh (with binary alpha from the texture)</li>
<li>Set mode = G_ALPHA_COMPARE_CULL_ABOVE in SPAlphaCompareCull, and thresh</li>
<li>The RSP will cull any tris where all three vertex alpha values (i.e. light level) are &gt;= thresh</li>
</ul>
<p>The idea is to cull tris early on the RSP which won't have any of their fragments drawn on the RDP, to save RDP time and memory bandwidth. </p>

</div>
</div>
<a id="a4275ecdac6237c0511c31751a08ed11c" name="a4275ecdac6237c0511c31751a08ed11c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4275ecdac6237c0511c31751a08ed11c">&#9670;&#160;</a></span>gSPAmbient</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gSPAmbient</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>l</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>n</em></span>&#160;)&#160;&#160;&#160;    gDma2p((pkt), G_MOVEMEM, (l), sizeof(Ambient), G_MV_LIGHT, _LIGHT_TO_OFFSET(n))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>l should point to an Ambient struct. n should be an integer 1-10 to load lights 0-9. </p>

</div>
</div>
<a id="a3b7eddef6aa29f88dcb2ac59e6149142" name="a3b7eddef6aa29f88dcb2ac59e6149142"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b7eddef6aa29f88dcb2ac59e6149142">&#9670;&#160;</a></span>gSPAmbOcclusionAmb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gSPAmbOcclusionAmb</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>amb</em></span>&#160;)&#160;&#160;&#160;gMoveHalfwd(pkt, G_MW_FX, G_MWO_AO_AMBIENT, amb)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Ambient occlusion Enabled with the G_AMBOCCLUSION bit in geometry mode. Each of these factors sets how much ambient occlusion affects lights of the given type (ambient, directional, point). They are u16s. You can set each independently or two adjacent values with one moveword. A two-command macro is also provided to set all three values.</p>
<p>When building the model, you must encode the amount of ambient occlusion at each vertex&ndash;effectively the shadow map for the model&ndash;in vertex alpha, where 00 means darkest and FF means lightest. Then, the factors set with the SPAmbOcclusion command determine how much the vertex alpha values affect the light intensity. For example, if the ambient factor is set to 0x8000, this means that in the darkest parts of the model, the ambient light intensity will be reduced by 50%, and in the lightest parts of the model, the ambient light intensity won't be reduced at all.</p>
<p>The default is: amb = 0xFFFF (ambient light fully affected by vertex alpha) dir = 0xA000 (directional lights 62% affected by vertex alpha) point = 0 (point lights not at all affected by vertex alpha)</p>
<p>Two reasons to use ambient occlusion rather than darkening the vertex colors:</p><ul>
<li>With ambient occlusion, the geometry can be fully lit up with point and/or directional lights, depending on your settings here.</li>
<li>Ambient occlusion can be used with cel shading to create areas which are "darker" for the cel shading thresholds, but still have bright / white vertex colors.</li>
</ul>
<p>Two reasons to use these factors to modify ambient occlusion rather than just manually scaling and offsetting all the vertex alpha values:</p><ul>
<li>To allow the behavior to differ between ambient, directional, and point lights</li>
<li>To allow the lighting to be adjusted at the scene level on-the-fly </li>
</ul>

</div>
</div>
<a id="ae78c3409b532904cedadca2d3ddf4a76" name="ae78c3409b532904cedadca2d3ddf4a76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae78c3409b532904cedadca2d3ddf4a76">&#9670;&#160;</a></span>gSPAmbOcclusionDir</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gSPAmbOcclusionDir</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>dir</em></span>&#160;)&#160;&#160;&#160;gMoveHalfwd(pkt, G_MW_FX, G_MWO_AO_DIRECTIONAL, dir)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Ambient occlusion Enabled with the G_AMBOCCLUSION bit in geometry mode. Each of these factors sets how much ambient occlusion affects lights of the given type (ambient, directional, point). They are u16s. You can set each independently or two adjacent values with one moveword. A two-command macro is also provided to set all three values.</p>
<p>When building the model, you must encode the amount of ambient occlusion at each vertex&ndash;effectively the shadow map for the model&ndash;in vertex alpha, where 00 means darkest and FF means lightest. Then, the factors set with the SPAmbOcclusion command determine how much the vertex alpha values affect the light intensity. For example, if the ambient factor is set to 0x8000, this means that in the darkest parts of the model, the ambient light intensity will be reduced by 50%, and in the lightest parts of the model, the ambient light intensity won't be reduced at all.</p>
<p>The default is: amb = 0xFFFF (ambient light fully affected by vertex alpha) dir = 0xA000 (directional lights 62% affected by vertex alpha) point = 0 (point lights not at all affected by vertex alpha)</p>
<p>Two reasons to use ambient occlusion rather than darkening the vertex colors:</p><ul>
<li>With ambient occlusion, the geometry can be fully lit up with point and/or directional lights, depending on your settings here.</li>
<li>Ambient occlusion can be used with cel shading to create areas which are "darker" for the cel shading thresholds, but still have bright / white vertex colors.</li>
</ul>
<p>Two reasons to use these factors to modify ambient occlusion rather than just manually scaling and offsetting all the vertex alpha values:</p><ul>
<li>To allow the behavior to differ between ambient, directional, and point lights</li>
<li>To allow the lighting to be adjusted at the scene level on-the-fly    </li>
</ul>

</div>
</div>
<a id="acea5a8a0f106d51c1cb7dfc11cc16ff2" name="acea5a8a0f106d51c1cb7dfc11cc16ff2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acea5a8a0f106d51c1cb7dfc11cc16ff2">&#9670;&#160;</a></span>gSPAmbOcclusionPoint</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gSPAmbOcclusionPoint</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>point</em></span>&#160;)&#160;&#160;&#160;gMoveHalfwd(pkt, G_MW_FX, G_MWO_AO_POINT, point)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Ambient occlusion Enabled with the G_AMBOCCLUSION bit in geometry mode. Each of these factors sets how much ambient occlusion affects lights of the given type (ambient, directional, point). They are u16s. You can set each independently or two adjacent values with one moveword. A two-command macro is also provided to set all three values.</p>
<p>When building the model, you must encode the amount of ambient occlusion at each vertex&ndash;effectively the shadow map for the model&ndash;in vertex alpha, where 00 means darkest and FF means lightest. Then, the factors set with the SPAmbOcclusion command determine how much the vertex alpha values affect the light intensity. For example, if the ambient factor is set to 0x8000, this means that in the darkest parts of the model, the ambient light intensity will be reduced by 50%, and in the lightest parts of the model, the ambient light intensity won't be reduced at all.</p>
<p>The default is: amb = 0xFFFF (ambient light fully affected by vertex alpha) dir = 0xA000 (directional lights 62% affected by vertex alpha) point = 0 (point lights not at all affected by vertex alpha)</p>
<p>Two reasons to use ambient occlusion rather than darkening the vertex colors:</p><ul>
<li>With ambient occlusion, the geometry can be fully lit up with point and/or directional lights, depending on your settings here.</li>
<li>Ambient occlusion can be used with cel shading to create areas which are "darker" for the cel shading thresholds, but still have bright / white vertex colors.</li>
</ul>
<p>Two reasons to use these factors to modify ambient occlusion rather than just manually scaling and offsetting all the vertex alpha values:</p><ul>
<li>To allow the behavior to differ between ambient, directional, and point lights</li>
<li>To allow the lighting to be adjusted at the scene level on-the-fly    </li>
</ul>

</div>
</div>
<a id="a764fcaed96c474a0aee0ef7d99e9bb84" name="a764fcaed96c474a0aee0ef7d99e9bb84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a764fcaed96c474a0aee0ef7d99e9bb84">&#9670;&#160;</a></span>gSPAttrOffsetST</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gSPAttrOffsetST</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>s</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>t</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    gMoveWd(pkt, G_MW_FX, G_MWO_ATTR_OFFSET_S, \</div>
<div class="line">        (_SHIFTL((s), 16, 16) | _SHIFTL((t), 0, 16)))</div>
</div><!-- fragment --><p>Attribute offsets These are added to ST values after vertices are loaded and transformed. The values are s16s. The addition is after the multiplication for ST scale in SPTexture. Whether it is enabled or disabled at a given time is determined by the G_ATTROFFSET_ST_ENABLE bit in the geometry mode. Normally you would use ST offsets for UV scrolling. </p>

</div>
</div>
<a id="aa471654bbbfc858eb2777314ea91cde2" name="aa471654bbbfc858eb2777314ea91cde2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa471654bbbfc858eb2777314ea91cde2">&#9670;&#160;</a></span>gSPBranchLessZraw</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gSPBranchLessZraw</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>dl</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>vtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>zval</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">_DW({                                               \</div>
<div class="line">    <a class="code hl_union" href="unionGfx.html">Gfx</a> *_g = (<a class="code hl_union" href="unionGfx.html">Gfx</a> *)(pkt);                         \</div>
<div class="line">                                                    \</div>
<div class="line">    _g-&gt;words.w0 = _SHIFTL(G_RDPHALF_1, 24, 8);     \</div>
<div class="line">    _g-&gt;words.w1 = (<span class="keywordtype">unsigned</span> int)(dl);              \</div>
<div class="line">                                                    \</div>
<div class="line">    _g = (<a class="code hl_union" href="unionGfx.html">Gfx</a> *)(pkt);                              \</div>
<div class="line">                                                    \</div>
<div class="line">    _g-&gt;words.w0 = (_SHIFTL(G_BRANCH_Z, 24,  8) |   \</div>
<div class="line">                    _SHIFTL((vtx) * 5,  12, 12) |   \</div>
<div class="line">                    _SHIFTL((vtx) * 2,   0, 12));   \</div>
<div class="line">    _g-&gt;words.w1 = (<span class="keywordtype">unsigned</span> int)(zval);            \</div>
<div class="line">})</div>
</div><!-- fragment --><p>gSPBranchLessZraw Branch DL if (vtx.z) less than or equal (raw zval).</p>
<p>dl = DL branch to vtx = Vertex zval = Raw value of screen depth </p>

</div>
</div>
<a id="ae7283f67fa62b98e7dc6ab51fc78f8f9" name="ae7283f67fa62b98e7dc6ab51fc78f8f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7283f67fa62b98e7dc6ab51fc78f8f9">&#9670;&#160;</a></span>gSPBranchList</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gSPBranchList</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>dl</em></span>&#160;)&#160;&#160;&#160;_gSPBranchListRaw( pkt, dl, 0)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Normal control flow commands; same as <a class="el" href="#ae17e340e3895b6b80326c27f4729ddde">gSPBranchListHint</a> but with hint of 0 </p>

</div>
</div>
<a id="ae17e340e3895b6b80326c27f4729ddde" name="ae17e340e3895b6b80326c27f4729ddde"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae17e340e3895b6b80326c27f4729ddde">&#9670;&#160;</a></span>gSPBranchListHint</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gSPBranchListHint</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>dl</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>count</em></span>&#160;)&#160;&#160;&#160;_gSPBranchListRaw( pkt, dl, _DLHINTVALUE(count))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Optimization for reduced memory traffic. In count, put the estimated number of DL commands in the target DL (the DL being called / jumped to, or the DL being returned to, starting from the next command to be executed) up to and including the next call / jump / return. Normally, for SPDisplayList, this is just the total number of commands in the target DL. The actual on-screen result will not change regardless of the value of count, but the performance will be best if count is correct, and potentially worse than not specifying count if it is wrong. Feature suggested by Kaze Emanuar    </p>

</div>
</div>
<a id="a3e4561c2f7df92599ffddef962a863b5" name="a3e4561c2f7df92599ffddef962a863b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e4561c2f7df92599ffddef962a863b5">&#9670;&#160;</a></span>gSPCameraWorld</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gSPCameraWorld</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>cam</em></span>&#160;)&#160;&#160;&#160;    gDma2p((pkt), G_MOVEMEM, (cam), sizeof(PlainVtx), G_MV_LIGHT, 0)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Camera world position for Fresnel and specular lighting. Set this whenever you set the VP matrix, viewport, etc. cam is the address of a PlainVtx struct. </p>

</div>
</div>
<a id="a4faba958de641c244d3260ba3dda8d1e" name="a4faba958de641c244d3260ba3dda8d1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4faba958de641c244d3260ba3dda8d1e">&#9670;&#160;</a></span>gSPClipRatio</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gSPClipRatio</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>r</em></span>&#160;)&#160;&#160;&#160;gSPNoOp(pkt)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clipping Macros. </p>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000003">Deprecated</a></b></dt><dd>encodes SP no-ops it is not possible to change the clip ratio from 2 in F3DEX3. </dd></dl>

</div>
</div>
<a id="a6c94d605a0bba70cbe65a7279a2715b4" name="a6c94d605a0bba70cbe65a7279a2715b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c94d605a0bba70cbe65a7279a2715b4">&#9670;&#160;</a></span>gSPCullDisplayList</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gSPCullDisplayList</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>vstart</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>vend</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">_DW({                                                   \</div>
<div class="line">    <a class="code hl_union" href="unionGfx.html">Gfx</a> *_g = (<a class="code hl_union" href="unionGfx.html">Gfx</a> *)(pkt);                             \</div>
<div class="line">                                                        \</div>
<div class="line">    _g-&gt;words.w0 = (_SHIFTL(G_CULLDL,     24, 8) |      \</div>
<div class="line">                    _SHIFTL((vstart) * 2,  0, 16));     \</div>
<div class="line">    _g-&gt;words.w1 = _SHIFTL((vend) * 2, 0, 16);          \</div>
<div class="line">})</div>
</div><!-- fragment --><p>Cull the display list based on screen clip flags of range of loaded verts. Executes SPEndDisplayList if the convex hull formed by the specified range of already-loaded vertices is offscreen. </p>

</div>
</div>
<a id="a59f9f765ea9a6d5dda795f6ba7ec119d" name="a59f9f765ea9a6d5dda795f6ba7ec119d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59f9f765ea9a6d5dda795f6ba7ec119d">&#9670;&#160;</a></span>gSPDisplayList</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gSPDisplayList</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>dl</em></span>&#160;)&#160;&#160;&#160;_gSPDisplayListRaw(pkt, dl, 0)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Normal control flow commands; same as <a class="el" href="#ae8ec02cb12125afc48f5af1bb14e717f">gSPDisplayListHint</a> but with hint of 0 </p>

</div>
</div>
<a id="ae8ec02cb12125afc48f5af1bb14e717f" name="ae8ec02cb12125afc48f5af1bb14e717f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8ec02cb12125afc48f5af1bb14e717f">&#9670;&#160;</a></span>gSPDisplayListHint</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gSPDisplayListHint</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>dl</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>count</em></span>&#160;)&#160;&#160;&#160;_gSPDisplayListRaw(pkt, dl, _DLHINTVALUE(count))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Optimization for reduced memory traffic. In count, put the estimated number of DL commands in the target DL (the DL being called / jumped to, or the DL being returned to, starting from the next command to be executed) up to and including the next call / jump / return. Normally, for SPDisplayList, this is just the total number of commands in the target DL. The actual on-screen result will not change regardless of the value of count, but the performance will be best if count is correct, and potentially worse than not specifying count if it is wrong. Feature suggested by Kaze Emanuar </p>

</div>
</div>
<a id="a512ac6346c6efcf144fb60c0101df5b6" name="a512ac6346c6efcf144fb60c0101df5b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a512ac6346c6efcf144fb60c0101df5b6">&#9670;&#160;</a></span>gSPDma_io</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gSPDma_io</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>flag</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>dmem</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>dram</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>size</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">_DW({                                               \</div>
<div class="line">    <a class="code hl_union" href="unionGfx.html">Gfx</a> *_g = (<a class="code hl_union" href="unionGfx.html">Gfx</a> *)(pkt);                         \</div>
<div class="line">                                                    \</div>
<div class="line">    _g-&gt;words.w0 = (_SHIFTL(G_DMA_IO, 24, 8) |      \</div>
<div class="line">                    _SHIFTL((flag), 23, 1) |        \</div>
<div class="line">                    _SHIFTL((dmem) / 8, 13, 10) |   \</div>
<div class="line">                    _SHIFTL((size) - 1, 0, 12));    \</div>
<div class="line">    _g-&gt;words.w1 = (<span class="keywordtype">unsigned</span> int)(dram);            \</div>
<div class="line">})</div>
</div><!-- fragment --><p>gSPDma_io DMA to/from DMEM/IMEM for DEBUG. </p>

</div>
</div>
<a id="a2069e57bde4b09cbbdd1110e10617793" name="a2069e57bde4b09cbbdd1110e10617793"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2069e57bde4b09cbbdd1110e10617793">&#9670;&#160;</a></span>gSPDontSkipTexLoadsAcross</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gSPDontSkipTexLoadsAcross</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span></td><td>)</td>
          <td>&#160;&#160;&#160;    gMoveWd(pkt, G_MW_FX, G_MWO_LAST_MAT_DL_ADDR, 0xFFFFFFFF)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>F3DEX3 has a basic auto-batched rendering system. At a high level, if a material display list being run is the same as the last material, the texture loads are automatically skipped the second time as they should already be in TMEM.</p>
<p>This design generally works, but can break if you call a display list twice but in between change a segment mapping so that a referenced image inside is actually different the two times. In these cases, run the below command between the two calls (e.g. when you change the segment) and the microcode will not skip the second texture loads.</p>
<p>Internally, a material is defined to start with any set image command, and end on any of the following: call, branch, return, vertex, all tri commands, tex/fill rectangles, and successes on cull or branch w/z (which are usually preceded by vertex loads anyway). The physical address of the display list &ndash;not the address of the image&ndash;is stored when a material is started. If a material starts and its physical address is the same as the stored last start address, i.e. we're executing the same material display list as the last material, material cull mode is set. In this mode, load block, load tile, and load TLUT all are skipped. This mode is cleared when the material ends.</p>
<p>This design has the benefit that it works correctly even with complex materials, e.g. with two CI4 textures (four loads), whereas it would be difficult to implement tracking all these loads separately. Furthermore, a design based on tracking the image addresses could break if you loaded different tile sections of the same image in consecutive materials. </p>

</div>
</div>
<a id="a29752b79c2158f4a35de81b69ec1d8c6" name="a29752b79c2158f4a35de81b69ec1d8c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29752b79c2158f4a35de81b69ec1d8c6">&#9670;&#160;</a></span>gSPEndDisplayList</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gSPEndDisplayList</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span></td><td>)</td>
          <td>&#160;&#160;&#160;_gSPEndDisplayListRaw( pkt, 0)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Normal control flow commands; same as <a class="el" href="#adabc7b3482de5371ab883604139c4af8">gSPEndDisplayListHint</a> but with hint of 0 </p>

</div>
</div>
<a id="adabc7b3482de5371ab883604139c4af8" name="adabc7b3482de5371ab883604139c4af8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adabc7b3482de5371ab883604139c4af8">&#9670;&#160;</a></span>gSPEndDisplayListHint</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gSPEndDisplayListHint</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>count</em></span>&#160;)&#160;&#160;&#160;_gSPEndDisplayListRaw( pkt, _DLHINTVALUE(count))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Optimization for reduced memory traffic. In count, put the estimated number of DL commands in the target DL (the DL being called / jumped to, or the DL being returned to, starting from the next command to be executed) up to and including the next call / jump / return. Normally, for SPDisplayList, this is just the total number of commands in the target DL. The actual on-screen result will not change regardless of the value of count, but the performance will be best if count is correct, and potentially worse than not specifying count if it is wrong. Feature suggested by Kaze Emanuar    </p>

</div>
</div>
<a id="a7be3a9b95e9f25cf6a77c357c4237f9d" name="a7be3a9b95e9f25cf6a77c357c4237f9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7be3a9b95e9f25cf6a77c357c4237f9d">&#9670;&#160;</a></span>gSPFogFactor</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gSPFogFactor</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>fm</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>fo</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    gMoveWd(pkt, G_MW_FOG, G_MWO_FOG,               \</div>
<div class="line">       (_SHIFTL(fm, 16, 16) | _SHIFTL(fo, 0, 16)))</div>
</div><!-- fragment --><p>FOG macros fm = z multiplier fo = z offset FOG FORMULA: alpha(fog) = (eyespace z) * fm + fo CLAMPED 0 to 255 note: (eyespace z) ranges -1 to 1</p>
<p>Alternate method of setting fog: min, max: range 0 to 1000: 0=nearplane, 1000=farplane min is where fog begins (usually less than max and often 0) max is where fog is thickest (usually 1000) </p>

</div>
</div>
<a id="a7972da9c60a073b09af13b082b79b3d4" name="a7972da9c60a073b09af13b082b79b3d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7972da9c60a073b09af13b082b79b3d4">&#9670;&#160;</a></span>gSPForceMatrix</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gSPForceMatrix</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>mptr</em></span>&#160;)&#160;&#160;&#160;gSPNoOp(pkt)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load new MVP matrix directly. </p>
<p>This is no longer supported as there is no MVP matrix in F3DEX3. </p><dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000005">Deprecated</a></b></dt><dd></dd></dl>

</div>
</div>
<a id="a30a8bc1f6c37e434a61b36675c7a1a08" name="a30a8bc1f6c37e434a61b36675c7a1a08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30a8bc1f6c37e434a61b36675c7a1a08">&#9670;&#160;</a></span>gSPFresnel</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gSPFresnel</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>scale</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>offset</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    gMoveWd(pkt, G_MW_FX, G_MWO_FRESNEL_SCALE, \</div>
<div class="line">        (_SHIFTL((scale), 16, 16) | _SHIFTL((offset), 0, 16)))</div>
</div><!-- fragment --><p>Fresnel - Feature suggested by thecozies Enabled with the G_FRESNEL bit in geometry mode. The dot product between a vertex normal and the vector from the vertex to the camera is computed. The offset and scale here convert this to a shade alpha value. This is useful for making surfaces fade between transparent when viewed straight-on and opaque when viewed at a large angle, or for applying a fake "outline" around the border of meshes.</p>
<p>If using Fresnel, you need to set the camera world position whenever you set the VP matrix, viewport, etc. See SPCameraWorld.</p>
<p>The RSP does: s16 dotProduct = dot(vertex normal, camera pos - vertex pos); dotProduct = abs(dotProduct); // 0 = points to side, 7FFF = points at or away s32 factor = ((scale * dotProduct) &gt;&gt; 15) + offset; s16 result = clamp(factor &lt;&lt; 8, 0, 7FFF); color_or_alpha = result &gt;&gt; 7;</p>
<p>At dotMax, color_or_alpha = FF, result = 7F80, factor = 7F At dotMin, color_or_alpha = 00, result = 0, factor = 0 7F = ((scale * dotMax) &gt;&gt; 15) + offset 00 = ((scale * dotMin) &gt;&gt; 15) + offset Subtract: 7F = (scale * (dotMax - dotMin)) &gt;&gt; 15 3F8000 = scale * (dotMax - dotMin) scale = 3F8000 / (dotMax - dotMin) &lt;&ndash; offset = -(((3F8000 / (dotMax - dotMin)) * dotMin) &gt;&gt; 15) offset = -((7F * dotMin) / (dotMax - dotMin)) &lt;&ndash;</p>
<p>To convert in the opposite direction: ((7F - offset) &lt;&lt; 15) / scale = dotMax ((00 - offset) &lt;&lt; 15) / scale = dotMin    </p>

</div>
</div>
<a id="ab252f51695c9e0280f405744c267a5cc" name="ab252f51695c9e0280f405744c267a5cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab252f51695c9e0280f405744c267a5cc">&#9670;&#160;</a></span>gSPFresnelOffset</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gSPFresnelOffset</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>offset</em></span>&#160;)&#160;&#160;&#160;    gMoveHalfwd(pkt, G_MW_FX, G_MWO_FRESNEL_OFFSET, offset)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Fresnel - Feature suggested by thecozies Enabled with the G_FRESNEL bit in geometry mode. The dot product between a vertex normal and the vector from the vertex to the camera is computed. The offset and scale here convert this to a shade alpha value. This is useful for making surfaces fade between transparent when viewed straight-on and opaque when viewed at a large angle, or for applying a fake "outline" around the border of meshes.</p>
<p>If using Fresnel, you need to set the camera world position whenever you set the VP matrix, viewport, etc. See SPCameraWorld.</p>
<p>The RSP does: s16 dotProduct = dot(vertex normal, camera pos - vertex pos); dotProduct = abs(dotProduct); // 0 = points to side, 7FFF = points at or away s32 factor = ((scale * dotProduct) &gt;&gt; 15) + offset; s16 result = clamp(factor &lt;&lt; 8, 0, 7FFF); color_or_alpha = result &gt;&gt; 7;</p>
<p>At dotMax, color_or_alpha = FF, result = 7F80, factor = 7F At dotMin, color_or_alpha = 00, result = 0, factor = 0 7F = ((scale * dotMax) &gt;&gt; 15) + offset 00 = ((scale * dotMin) &gt;&gt; 15) + offset Subtract: 7F = (scale * (dotMax - dotMin)) &gt;&gt; 15 3F8000 = scale * (dotMax - dotMin) scale = 3F8000 / (dotMax - dotMin) &lt;&ndash; offset = -(((3F8000 / (dotMax - dotMin)) * dotMin) &gt;&gt; 15) offset = -((7F * dotMin) / (dotMax - dotMin)) &lt;&ndash;</p>
<p>To convert in the opposite direction: ((7F - offset) &lt;&lt; 15) / scale = dotMax ((00 - offset) &lt;&lt; 15) / scale = dotMin    </p>

</div>
</div>
<a id="af4a032c633b09c2a1c16e84ba49c7a69" name="af4a032c633b09c2a1c16e84ba49c7a69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4a032c633b09c2a1c16e84ba49c7a69">&#9670;&#160;</a></span>gSPFresnelScale</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gSPFresnelScale</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>scale</em></span>&#160;)&#160;&#160;&#160;    gMoveHalfwd(pkt, G_MW_FX, G_MWO_FRESNEL_SCALE, scale)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Fresnel - Feature suggested by thecozies Enabled with the G_FRESNEL bit in geometry mode. The dot product between a vertex normal and the vector from the vertex to the camera is computed. The offset and scale here convert this to a shade alpha value. This is useful for making surfaces fade between transparent when viewed straight-on and opaque when viewed at a large angle, or for applying a fake "outline" around the border of meshes.</p>
<p>If using Fresnel, you need to set the camera world position whenever you set the VP matrix, viewport, etc. See SPCameraWorld.</p>
<p>The RSP does: s16 dotProduct = dot(vertex normal, camera pos - vertex pos); dotProduct = abs(dotProduct); // 0 = points to side, 7FFF = points at or away s32 factor = ((scale * dotProduct) &gt;&gt; 15) + offset; s16 result = clamp(factor &lt;&lt; 8, 0, 7FFF); color_or_alpha = result &gt;&gt; 7;</p>
<p>At dotMax, color_or_alpha = FF, result = 7F80, factor = 7F At dotMin, color_or_alpha = 00, result = 0, factor = 0 7F = ((scale * dotMax) &gt;&gt; 15) + offset 00 = ((scale * dotMin) &gt;&gt; 15) + offset Subtract: 7F = (scale * (dotMax - dotMin)) &gt;&gt; 15 3F8000 = scale * (dotMax - dotMin) scale = 3F8000 / (dotMax - dotMin) &lt;&ndash; offset = -(((3F8000 / (dotMax - dotMin)) * dotMin) &gt;&gt; 15) offset = -((7F * dotMin) / (dotMax - dotMin)) &lt;&ndash;</p>
<p>To convert in the opposite direction: ((7F - offset) &lt;&lt; 15) / scale = dotMax ((00 - offset) &lt;&lt; 15) / scale = dotMin </p>

</div>
</div>
<a id="a326b58e27fb82e340cf1a720d50b0dc3" name="a326b58e27fb82e340cf1a720d50b0dc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a326b58e27fb82e340cf1a720d50b0dc3">&#9670;&#160;</a></span>gSPGeometryMode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gSPGeometryMode</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>c</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>s</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">_DW({                                                   \</div>
<div class="line">    <a class="code hl_union" href="unionGfx.html">Gfx</a> *_g = (<a class="code hl_union" href="unionGfx.html">Gfx</a> *)(pkt);                             \</div>
<div class="line">                                                        \</div>
<div class="line">    _g-&gt;words.w0 = (_SHIFTL(G_GEOMETRYMODE, 24,  8) |   \</div>
<div class="line">                    _SHIFTL(~(u32)(c),       0, 24));   \</div>
<div class="line">    _g-&gt;words.w1 = (u32)(s);                            \</div>
<div class="line">})</div>
</div><!-- fragment --><p>One <a class="el" href="#a326b58e27fb82e340cf1a720d50b0dc3">gSPGeometryMode(pkt,c,s)</a> GBI is equal to these two GBIs. </p><pre class="fragment">gSPClearGeometryMode(pkt,c)
gSPSetGeometryMode(pkt,s)
</pre><p> gSPLoadGeometryMode(pkt, word) sets GeometryMode directly. </p>

</div>
</div>
<a id="af9a7a2c04649474b92e1220df5f3ed64" name="af9a7a2c04649474b92e1220df5f3ed64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9a7a2c04649474b92e1220df5f3ed64">&#9670;&#160;</a></span>gSPLight</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gSPLight</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>l</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>n</em></span>&#160;)&#160;&#160;&#160;    gDma2p((pkt), G_MOVEMEM, (l), sizeof(Light), G_MV_LIGHT, _LIGHT_TO_OFFSET(n))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>l should point to a Light struct. n should be an integer 1-9 to load lights 0-8. Can also load Ambient lights to lights 0-8 with this. However, if you have 9 directional / point lights, you must use SPAmbient to load light 9 (LIGHT_10) with an ambient light. (That is, the memory for light 9 (LIGHT_10) is only sizeof(Ambient), so if you load this with SPLight, it will overwrite other DMEM and corrupt unrelated things.) New code should not generally use SPLight, and instead use SPSetLights to set all lights in one memory transaction. </p>

</div>
</div>
<a id="ac1a1cc52419896bfec423f023fba723b" name="ac1a1cc52419896bfec423f023fba723b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1a1cc52419896bfec423f023fba723b">&#9670;&#160;</a></span>gSPLightColor</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gSPLightColor</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>n</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>col</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">_DW({                                               \</div>
<div class="line">    gMoveWd(pkt, G_MW_LIGHTCOL, ((((n) - 1) * 0x10) + 0), ((col) &amp; 0xFFFFFF00));   \</div>
<div class="line">    gMoveWd(pkt, G_MW_LIGHTCOL, ((((n) - 1) * 0x10) + 4), ((col) &amp; 0xFFFFFF00));   \</div>
<div class="line">})</div>
</div><!-- fragment --><p>gSPLightColor changes the color of a directional light without an additional DMA transfer. col is a 32 bit word where (col &gt;&gt; 24) &amp; 0xFF is red, (col &gt;&gt; 16) &amp; 0xFF is green, and (col &gt;&gt; 8) &amp; 0xFF is blue. (col &amp; 0xFF) is ignored and masked to zero. n should be an integer 1-10 to apply to light 0-9. </p>

</div>
</div>
<a id="a3189fad73e9bb56774b91af9795d0b5c" name="a3189fad73e9bb56774b91af9795d0b5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3189fad73e9bb56774b91af9795d0b5c">&#9670;&#160;</a></span>gSPLightToRDP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gSPLightToRDP</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>light</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>alpha</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>word0</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">_DW({                                              \</div>
<div class="line">    <a class="code hl_union" href="unionGfx.html">Gfx</a> *_g = (<a class="code hl_union" href="unionGfx.html">Gfx</a> *)(pkt);                        \</div>
<div class="line">    _g-&gt;words.w0 = (_SHIFTL(G_LIGHTTORDP, 24, 8) | \</div>
<div class="line">                    _SHIFTL(light * 0x10,  8, 8) | \</div>
<div class="line">                    _SHIFTL(alpha,         0, 8)); \</div>
<div class="line">    _g-&gt;words.w1 = (word0);                        \</div>
<div class="line">})</div>
</div><!-- fragment --><p>Send the color of the specified light to one of the RDP's color registers. light is the index of a light in the RSP counting from the end, i.e. 0 is the ambient light, 1 is the last directional / point light, etc. The RGB color of the selected light is combined with the alpha specified in this command as word 1 of a RDP command, and word 0 is specified in this command. Specialized versions are provided below for prim color and fog color, because these are the two versions needed for cel shading, but any RDP color command could be specified this way. </p>

</div>
</div>
<a id="aeb9ef2dc02fce82c00effbffa8444e7b" name="aeb9ef2dc02fce82c00effbffa8444e7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb9ef2dc02fce82c00effbffa8444e7b">&#9670;&#160;</a></span>gSPLoadUcodeEx</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gSPLoadUcodeEx</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>uc_start</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>uc_dstart</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>uc_dsize</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">_DW({                                                       \</div>
<div class="line">    <a class="code hl_union" href="unionGfx.html">Gfx</a> *_g = (<a class="code hl_union" href="unionGfx.html">Gfx</a> *)(pkt);                                 \</div>
<div class="line">                                                            \</div>
<div class="line">    _g-&gt;words.w0 = _SHIFTL(G_RDPHALF_1, 24, 8);             \</div>
<div class="line">    _g-&gt;words.w1 = (<span class="keywordtype">unsigned</span> int)(uc_dstart);               \</div>
<div class="line">                                                            \</div>
<div class="line">    _g = (<a class="code hl_union" href="unionGfx.html">Gfx</a> *)(pkt);                                      \</div>
<div class="line">                                                            \</div>
<div class="line">    _g-&gt;words.w0 = (_SHIFTL(G_LOAD_UCODE,        24,  8) |  \</div>
<div class="line">                    _SHIFTL((<span class="keywordtype">int</span>)(uc_dsize) - 1,  0, 16));  \</div>
<div class="line">    _g-&gt;words.w1 = (<span class="keywordtype">unsigned</span> int)(uc_start);                \</div>
<div class="line">})</div>
</div><!-- fragment --><p>gSPLoadUcode RSP loads specified ucode.</p>
<p>uc_start = ucode text section start uc_dstart = ucode data section start </p>

</div>
</div>
<a id="acb2cda6fbb8588a0b8da4ea66701aae8" name="acb2cda6fbb8588a0b8da4ea66701aae8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb2cda6fbb8588a0b8da4ea66701aae8">&#9670;&#160;</a></span>gSPLookAt</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gSPLookAt</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>la</em></span>&#160;)&#160;&#160;&#160;    gDma2p((pkt), G_MOVEMEM, (la), sizeof(LookAt), G_MV_LIGHT, 8)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reflection/Hiliting Macros. la is the address of a LookAt struct. </p>

</div>
</div>
<a id="a5fe6a790f9e280be6bc5ab75494d062e" name="a5fe6a790f9e280be6bc5ab75494d062e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fe6a790f9e280be6bc5ab75494d062e">&#9670;&#160;</a></span>gSPLookAtX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gSPLookAtX</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>l</em></span>&#160;)&#160;&#160;&#160;<a class="el" href="#acb2cda6fbb8588a0b8da4ea66701aae8">gSPLookAt</a>(pkt, l)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>These versions are deprecated, please use g*SPLookAt. The two directions cannot be set independently anymore as they both fit within one memory word. (They could be set with moveword, but then the values would have to be within the command itself, not at a memory address.) This deprecated version has the X command set both (assuming l is the name / address of a LookAt struct) and has the Y command as a SP no-op. </p><dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000006">Deprecated</a></b></dt><dd></dd></dl>

</div>
</div>
<a id="a1b20ab18252bce4d46225fcc50700845" name="a1b20ab18252bce4d46225fcc50700845"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b20ab18252bce4d46225fcc50700845">&#9670;&#160;</a></span>gSPLookAtY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gSPLookAtY</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>l</em></span>&#160;)&#160;&#160;&#160;gSPNoOp(pkt)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>These versions are deprecated, please use g*SPLookAt. The two directions cannot be set independently anymore as they both fit within one memory word. (They could be set with moveword, but then the values would have to be within the command itself, not at a memory address.) This deprecated version has the X command set both (assuming l is the name / address of a LookAt struct) and has the Y command as a SP no-op. </p><dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000006">Deprecated</a></b></dt><dd></dd></dl>

</div>
</div>
<a id="aa103cc77360e990a7474fb541fd8b225" name="aa103cc77360e990a7474fb541fd8b225"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa103cc77360e990a7474fb541fd8b225">&#9670;&#160;</a></span>gSPMatrix</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gSPMatrix</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>m</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>p</em></span>&#160;)&#160;&#160;&#160;        gDma2p((pkt),G_MTX, (m), sizeof(Mtx), (p) ^ <a class="el" href="#af260746aec061e8a35a297e2a0e90eaa">G_MTX_PUSH</a>, 0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>macro which inserts a matrix operation at the end display list. </p>
<p>It inserts a matrix operation in the display list. The parameters allow you to select which matrix stack to use (projection or model view), where to load or concatenate, and whether or not to push the matrix stack. The following parameters are bit OR'ed together:</p><ul>
<li><a class="el" href="#a158b3a6e36924769f7dff7f188b46b63">G_MTX_PROJECTION</a> <a class="el" href="#a4c9589710f911ec2c38104f51a68a8aa">G_MTX_MODELVIEW</a> -   specifies whether the matrix operation will be performed on the projection or the model view matrix.   </li>
<li><a class="el" href="#a47a812d4ce6705e0dee289707f18f693">G_MTX_MUL</a> -   concatenates the matrix (m) with the top of the matrix stack.   </li>
<li><a class="el" href="#a9fbb8b7e0e1a66c5399ad158d7a219cd">G_MTX_LOAD</a> -   loads the matrix (m) onto the top of the matrix stack.   </li>
<li><a class="el" href="#a063f7fcd1dfe2d7c199dad97eea7cc97">G_MTX_NOPUSH</a> -   specifies do not push the matrix stack prior to matrix operations   </li>
<li><a class="el" href="#af260746aec061e8a35a297e2a0e90eaa">G_MTX_PUSH</a> -   specifies push the matrix stack prior to matrix operations    </li>
</ul>
<h1><a class="anchor" id="autotoc_md0"></a>
Matrix Format</h1>
<p>The format of the fixed-point matrices may seem a little awkward to the application programmer because it is optimized for the RSP geometry engine. This unusual format is hidden in the graphics utility libraries and not usually exposed to the application programmer, but in some cases (static matrix declarations or direct element manipulation) it is necessary to understand the format.</p>
<p>The integer and fractional components of the matrix elements are separated. The first 8 words (16 shorts) hold the 16-bit integer elements, the second 8 words (16 shorts) hold the 16-bit fractional elements. The fact that the Mtx type is declared as a long [4][4] array is slightly misleading. For example, to declare a static identity matrix, use code similar to this: </p><div class="fragment"><div class="line"><span class="preprocessor"> #include &quot;<a class="code" href="gbi_8h.html">gbi.h</a>&quot;</span></div>
<div class="line"><span class="keyword">static</span> Mtx ident =</div>
<div class="line">{</div>
<div class="line"><span class="comment">// integer portion:</span></div>
<div class="line">0x00010000, 0x00000000,</div>
<div class="line">0x00000001, 0x00000000,</div>
<div class="line">0x00000000, 0x00010000,</div>
<div class="line">0x00000000, 0x00000001,</div>
<div class="line"> </div>
<div class="line"><span class="comment">// fractional portion:</span></div>
<div class="line">0x00000000, 0x00000000,</div>
<div class="line">0x00000000, 0x00000000,</div>
<div class="line">0x00000000, 0x00000000,</div>
<div class="line">0x00000000, 0x00000000,</div>
<div class="line">};</div>
<div class="ttc" id="agbi_8h_html"><div class="ttname"><a href="gbi_8h.html">gbi.h</a></div><div class="ttdoc">Modded GBI for use with F3DEX3 custom microcode.</div></div>
</div><!-- fragment --><p> To force the translation elements of a matrix to be (10.5, 20.5, 30.5), use code similar to this: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="gbi_8h.html">gbi.h</a>&quot;</span></div>
<div class="line"> </div>
<div class="line">mat.m[1][2] =</div>
<div class="line">   (10 &lt;&lt; 16) | (20);</div>
<div class="line">mat.m[1][3] =</div>
<div class="line">   (30 &lt;&lt; 16) | (1);</div>
<div class="line"> </div>
<div class="line">mat.m[3][2] =</div>
<div class="line">   (0x8000 &lt;&lt; 16) | (0x8000);</div>
<div class="line">mat.m[3][3] =</div>
<div class="line">   (0x8000 &lt;&lt; 16) | (0);</div>
</div><!-- fragment --> <dl class="section note"><dt>Note</dt><dd>Matrix concatenation in the RSP geometry engine is done using 32-bit integer arithmetic. A 32 x 32 bit multiply results in a 64-bit number. Only the middle 32 bits of this 64-bit result are kept for the new matrix. Therefore, when concatenating matrices, remember about the resulting fixed-point numerical error.</dd></dl>
<p>For example, to retain maximum precision, the number ranges must be similar. Large-scale and translate parameters can decrease the transformation precision. Because rotation and projection matrices require quite a bit of fractional accuracy, these fractions may get tossed out if multiplied against large integer numbers.</p>
<p>Each concatenation results in the rounding of the LSB of each matrix term. This means that each concatenation injects 1/2 LSB of error into the matrix. To keep full precision, concatenate matrices in floating-point on the processor and just load the result into the RSP.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Performance</h1>
<p>Each <a class="el" href="#a4c9589710f911ec2c38104f51a68a8aa">G_MTX_MODELVIEW</a> matrix operation has an implicit matrix multiplication even if you specify <a class="el" href="#a9fbb8b7e0e1a66c5399ad158d7a219cd">G_MTX_LOAD</a>. This is the combined model view (M) and projection (P) matrix that is necessary for the vertex transformation to use a single matrix during transformation.</p>
<p>You can optimize this by concatenating modeling matrices on the CPU and then putting the viewing (V) and projection matrices on the projection stack. By doing this, you only incur the single MxVP matrix concatenation each time you load a modeling matrix. Furthermore, the application has more information on how to do a cheap hack for modeling matrix concatenation. For example, if you want to combine a single axis rotation with a translation, just place the coefficients in the correct entries of the resulting matrix.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td>is the pointer to the 4x4 fixed-point matrix (see note below about format) </td></tr>
    <tr><td class="paramname">p</td><td>are the bit OR'd parameters to the matrix macro (<a class="el" href="#a158b3a6e36924769f7dff7f188b46b63">G_MTX_PROJECTION</a>, <a class="el" href="#a4c9589710f911ec2c38104f51a68a8aa">G_MTX_MODELVIEW</a>, <a class="el" href="#a47a812d4ce6705e0dee289707f18f693">G_MTX_MUL</a>, <a class="el" href="#a9fbb8b7e0e1a66c5399ad158d7a219cd">G_MTX_LOAD</a>, <a class="el" href="#a063f7fcd1dfe2d7c199dad97eea7cc97">G_MTX_NOPUSH</a>) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a48bee06f620e9930c1af1d7e1d7550d4" name="a48bee06f620e9930c1af1d7e1d7550d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48bee06f620e9930c1af1d7e1d7550d4">&#9670;&#160;</a></span>gSPMemset</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gSPMemset</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>dram</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>value</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>size</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">_DW({                                                   \</div>
<div class="line">    gImmp1(pkt, G_RDPHALF_1, ((value) &amp; 0xFFFF));       \</div>
<div class="line">    gDma0p(pkt, G_MEMSET, (dram), ((size) &amp; 0xFFFFF0)); \</div>
<div class="line">})</div>
</div><!-- fragment --><p>Use RSP DMAs to set a region of memory to a repeated 16-bit value. This can clear the color framebuffer or Z-buffer faster than the RDP can in fill mode. SPMemset overwrites the DMEM vertex buffer, so vertices loaded before this command cannot be used after it (though this would not normally be done).</p>
<p>dram: Segmented or physical start address. Must be aligned to 16 bytes. value: 16-bit value to fill the memory with. e.g. 0 for color, 0xFFFC for Z. size: Size in bytes to fill, must be nonzero and a multiple of 16 bytes. </p>

</div>
</div>
<a id="a1ba89786d7632337a9e31f3240d849e4" name="a1ba89786d7632337a9e31f3240d849e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ba89786d7632337a9e31f3240d849e4">&#9670;&#160;</a></span>gSPMITMatrix</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gSPMITMatrix</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>mit</em></span>&#160;)&#160;&#160;&#160;        gDma2p((pkt), G_MOVEMEM, (mit), sizeof(MITMtx), G_MV_MMTX, 0x80)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>See SPNormalsMode. mtx is the address of a MITMtx (M inverse transpose).</p>
<p>The matrix values must be scaled down so that the matrix norm is &lt;= 1, i.e. multiplying this matrix by any vector length &lt;= 1 must produce a vector with length &lt;= 1. Normally, M scales things down substantially, so M inverse transpose natively would scale them up substantially; you need to apply a constant scale to counteract this. One easy way to do this is compute M inverse transpose normally, then scale it so until the maximum absolute value of any element is 0.5. Because of this scaling, you can also skip the part of the inverse computation where you compute the determinant and divide by it, cause you're going to rescale it arbitrarily anyway. </p>

</div>
</div>
<a id="abc12c0642acde2394639e9f9e247dde9" name="abc12c0642acde2394639e9f9e247dde9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc12c0642acde2394639e9f9e247dde9">&#9670;&#160;</a></span>gSPModifyVertex</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gSPModifyVertex</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>vtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>where</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>val</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">_DW({                                               \</div>
<div class="line">    <a class="code hl_union" href="unionGfx.html">Gfx</a> *_g = (<a class="code hl_union" href="unionGfx.html">Gfx</a> *)(pkt);                         \</div>
<div class="line">                                                    \</div>
<div class="line">    _g-&gt;words.w0 = (_SHIFTL(G_MODIFYVTX, 24,  8) |  \</div>
<div class="line">                    _SHIFTL((where),     16,  8) |  \</div>
<div class="line">                    _SHIFTL((vtx) * 2,    0, 16));  \</div>
<div class="line">    _g-&gt;words.w1 = (<span class="keywordtype">unsigned</span> int)(val);             \</div>
<div class="line">})</div>
</div><!-- fragment -->
<p>You can use this macro to modify certain sections of a vertex after it has been sent to the RSP (by the gSPVertex macro). </p>
<p>This is an advanced macro. You need a good understanding of how vertices work in the RSP microcode before you use this macro (refer to gSPVertex).</p>
<p>You can use this macro to modify certain sections of a vertex after it has been sent to the RSP (by the gSPVertex macro). This is useful for vertices that are shared between two or more triangles that must have different properties when associated with one triangle versus the other triangle.</p>
<p>For example, you might have two adjacent triangles that both need smooth-shaded color, but one is smooth-shaded red-to-yellow and the other is smooth-shaded green-to-cyan. In this case, the vertex that is shared by both triangles is sent with red/yellow color by using the gSPVertex macro. The first triangle is drawn. Then, the gSPModifyVertex macro is used to change the color to green/cyan, and the second triangle is drawn.</p>
<p>The primary use of the gSPModifyVertex macro is to modify the texture coordinate of a vertex so that a vertex that is shared by two triangles with different textures and different texture coordinate spaces can contain the texture coordinate for the first texture and then be modified to contain the texture coordinate for the second texture.</p>
<p>It is faster to use the gSPModifyVertex macro than to send a new vertex macro with a different but similar vertex because no transformations or lighting are done to the vertex when you use the gSPModifyVertex macro.</p>
<p>The where argument specifies which part of the vertex is to be modified. It can hold one of the following values:</p><ul>
<li><a class="el" href="#ac8752a0103acc58beebadbd52c5694dc">G_MWO_POINT_RGBA</a> -   changes the color of the vertex. The val parameter is interpreted as 4 bytes: red (high byte), green, blue, and alpha (low byte).   </li>
<li><a class="el" href="#afb84e8da2787a5cf8ca385335a850d5c">G_MWO_POINT_ST</a> -   changes the S and T values (texture coordinates of the vertex). The high 16 bits of val specify the S coordinate, and the low 16 bits specify the T coordinate. Each coordinate is an S10.5 number.   </li>
<li><a class="el" href="#ae6de43c88b8f3a2f32a17c5e3a94ede9">G_MWO_POINT_XYSCREEN</a> -   change the screen coordinates of the vertex. The high 16 bits of val specify the X coordinate and the low 16 bits specify the Y coordinate. Both coordinates are S13.2 numbers with 0,0 being the upper-left of the screen, positive X going right, and positive Y going down.   </li>
<li><a class="el" href="#a39681fea3ef91be9ce5d51b87eb93fbb">G_MWO_POINT_ZSCREEN</a> -   changes the screen Z coordinate of the vertex. The entire 32-bit val is taken as the new screen Z value. It is a 16.16 number in the range 0x00000000 to 0x03ff0000.   </li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Lighting is not performed after a gSPModifyVertex macro, so modifying the color of the vertex with <a class="el" href="#ac8752a0103acc58beebadbd52c5694dc">G_MWO_POINT_RGBA</a> is just that - modifying the actual color that will be output. It is not a modification of normal values. This means it cannot be used to update vertex normals for lighting.</dd></dl>
<p>The S and T coordinates supplied in the gSPModifyVertex macro are never multiplied by the texture scale (from the gSPTexture macro), so you must pre-scale them before sending them. For example, if you want a texture scale of 1/2 (0x8000), make the S and T values sent with the gSPModifyVertex macro half the value of the equivalent values used with the gSPVertex macro.</p>
<h1><a class="anchor" id="autotoc_md3"></a>
Example</h1>
<p>To share a vertex between two triangles with different textures and texture coordinates, use this code: </p><div class="fragment"><div class="line"><span class="comment">// load vertex by gSPVertex</span></div>
<div class="line"><a class="code hl_define" href="#aa10b6a6fa88381b34eb4325034230024">gSPVertex</a>(...);</div>
<div class="line"><span class="comment">// load texture of triangle 1</span></div>
<div class="line">gDPLoadTextureBlock(...);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// draw triangle 1 using vertex #3</span></div>
<div class="line"><a class="code hl_define" href="#afe0d779cf45ef43bbffd47bbaea0e390">gSP1Triangle</a>(glistp++, 1,2,3,0);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// change a value of vertex 3 to S=3.0 and T=2.5</span></div>
<div class="line"><a class="code hl_define" href="#abc12c0642acde2394639e9f9e247dde9">gSPModifyVertex</a>(glistp++, 3, <a class="code hl_define" href="#afb84e8da2787a5cf8ca385335a850d5c">G_MWO_POINT_ST</a>, 0x00600050);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// load texture of triangle 2</span></div>
<div class="line">gDPLoadTextureBlock(...);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// draw triangle 2 using vertex #3</span></div>
<div class="line"><a class="code hl_define" href="#afe0d779cf45ef43bbffd47bbaea0e390">gSP1Triangle</a>(glistp++, 1,2,3,0);</div>
<div class="ttc" id="agbi_8h_html_aa10b6a6fa88381b34eb4325034230024"><div class="ttname"><a href="#aa10b6a6fa88381b34eb4325034230024">gSPVertex</a></div><div class="ttdeci">#define gSPVertex(pkt, v, n, v0)</div><div class="ttdoc">macro which loads an internal vertex buffer in the RSP with points that are used by gSP1Triangle macr...</div><div class="ttdef"><b>Definition</b> gbi.h:2215</div></div>
<div class="ttc" id="agbi_8h_html_abc12c0642acde2394639e9f9e247dde9"><div class="ttname"><a href="#abc12c0642acde2394639e9f9e247dde9">gSPModifyVertex</a></div><div class="ttdeci">#define gSPModifyVertex(pkt, vtx, where, val)</div><div class="ttdoc">You can use this macro to modify certain sections of a vertex after it has been sent to the RSP (by t...</div><div class="ttdef"><b>Definition</b> gbi.h:3085</div></div>
<div class="ttc" id="agbi_8h_html_afb84e8da2787a5cf8ca385335a850d5c"><div class="ttname"><a href="#afb84e8da2787a5cf8ca385335a850d5c">G_MWO_POINT_ST</a></div><div class="ttdeci">#define G_MWO_POINT_ST</div><div class="ttdoc">changes the S and T values (texture coordinates of the vertex). The high 16 bits of val specify the S...</div><div class="ttdef"><b>Definition</b> gbi.h:295</div></div>
<div class="ttc" id="agbi_8h_html_afe0d779cf45ef43bbffd47bbaea0e390"><div class="ttname"><a href="#afe0d779cf45ef43bbffd47bbaea0e390">gSP1Triangle</a></div><div class="ttdeci">#define gSP1Triangle(pkt, v0, v1, v2, flag)</div><div class="ttdef"><b>Definition</b> gbi.h:2554</div></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vtx</td><td>specifies which of the RSP's vertices (0-55) to modify </td></tr>
    <tr><td class="paramname">where</td><td>specifies which part of the vertex to modify (<a class="el" href="#ac8752a0103acc58beebadbd52c5694dc">G_MWO_POINT_RGBA</a>, <a class="el" href="#afb84e8da2787a5cf8ca385335a850d5c">G_MWO_POINT_ST</a>, <a class="el" href="#ae6de43c88b8f3a2f32a17c5e3a94ede9">G_MWO_POINT_XYSCREEN</a> or <a class="el" href="#a39681fea3ef91be9ce5d51b87eb93fbb">G_MWO_POINT_ZSCREEN</a>) </td></tr>
    <tr><td class="paramname">val</td><td>is the new value for the part of the vertex to be modified (a 32 bit integer number) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aed9d00bf80064e72af62c89a895c792d" name="aed9d00bf80064e72af62c89a895c792d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed9d00bf80064e72af62c89a895c792d">&#9670;&#160;</a></span>gSPNormalsMode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gSPNormalsMode</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>mode</em></span>&#160;)&#160;&#160;&#160;    gMoveHalfwd(pkt, G_MW_FX, G_MWO_NORMALS_MODE, (mode) &amp; 0xFF)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Normals mode: How to handle transformation of vertex normals from model to world space for lighting.</p>
<p>If mode = G_NORMALS_MODE_FAST, transforms normals from model space to world space with the M matrix. This is correct if the object's transformation matrix stack only included translations, rotations, and uniform scale (i.e. same scale in X, Y, and Z); otherwise, if the transformation matrix has nonuniform scale or shear, the lighting on the object will be somewhat distorted.</p>
<p>If mode = G_NORMALS_MODE_AUTO, transforms normals from model space to world space with M inverse transpose, which renders lighting correctly for the object regardless of its transformation matrix (nonuniform scale or shear is okay). Whenever vertices are drawn with lighting enabled after M has been changed, computes M inverse transpose from M. This requires swapping to overlay 4 for M inverse transpose and then back to overlay 2 for lighting, which produces roughly 3.5 us of extra DRAM traffic. This performance penalty happens effectively once per matrix, which is once per normal object or separated limb or about twice per flex skeleton limb. So in a scene with lots of complex skeletons, this may have a noticeable performance impact.</p>
<p>If mode = G_NORMALS_MODE_MANUAL, uses M inverse transpose for correct results like G_NORMALS_MODE_AUTO, but it never internally computes M inverse transpose. You have to upload M inverse transpose to the RSP using SPMITMatrix every time you change the M matrix. The DRAM traffic for the extra matrix uploads is much smaller than the overlay swaps, so if you can efficiently compute M inverse transpose on the CPU, this may be faster than G_NORMALS_MODE_AUTO.</p>
<p>Recommended to leave this set to G_NORMALS_MODE_FAST generally, and only set it to G_NORMALS_MODE_AUTO for specific objects at times when they actually have a nonuniform scale. For example, G_NORMALS_MODE_FAST for Mario generally, but G_NORMALS_MODE_AUTO temporarily while he is squashed. </p>

</div>
</div>
<a id="ad8f015c1cc457925f5209025fcd71c0e" name="ad8f015c1cc457925f5209025fcd71c0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8f015c1cc457925f5209025fcd71c0e">&#9670;&#160;</a></span>gSPNumLights</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gSPNumLights</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>n</em></span>&#160;)&#160;&#160;&#160;    gMoveWd(pkt, G_MW_NUMLIGHT, G_MWO_NUMLIGHT, NUML(n))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Number of directional / point lights, in the range 0-9. There is also always one ambient light not counted in this number. </p>

</div>
</div>
<a id="aefd887b7fc9a1b5b44075b090f6cfad9" name="aefd887b7fc9a1b5b44075b090f6cfad9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aefd887b7fc9a1b5b44075b090f6cfad9">&#9670;&#160;</a></span>gSPOcclusionPlane</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gSPOcclusionPlane</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>o</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    gDma2p((pkt), G_MOVEMEM, (o), <span class="keyword">sizeof</span>(OcclusionPlane), G_MV_LIGHT, \</div>
<div class="line">        (G_MAX_LIGHTS * 0x10) + 0x18)</div>
</div><!-- fragment --><p>Set the occlusion plane. This is a quadrilateral in 3D space where all geometry behind it is culled. You should create occlusion plane candidates just behind walls and other large objects, and have your game engine pick the most optimal one every frame to send to the RSP.</p>
<p>Computing the coefficients for the occlusion plane is far too complicated to explain here. The reference implementation <code>guOcclusionPlane</code> is provided separately.</p>
<p>o is the address of an OcclusionPlane struct </p>

</div>
</div>
<a id="ab3ce7d020b9fc77124fc2849ca3c0e9a" name="ab3ce7d020b9fc77124fc2849ca3c0e9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3ce7d020b9fc77124fc2849ca3c0e9a">&#9670;&#160;</a></span>gSPPopMatrix</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gSPPopMatrix</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>n</em></span>&#160;)&#160;&#160;&#160;<a class="el" href="#ae4dab5f2297069e397664e3b62a7a0bb">gSPPopMatrixN</a>((pkt), (n), 1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>macro which pops one of the matrix stacks at the end display list. </p>
<p>It pops one of the matrix stacks. The model view stack can be up to 10 matrices deep. The projection stack is 1 matrix deep, so it cannot be popped.</p>
<dl class="section note"><dt>Note</dt><dd>If the stack is empty, the macro is ignored.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n</td><td>is the flag field that identifies which matrix stack to pop:<ul>
<li><a class="el" href="#a4c9589710f911ec2c38104f51a68a8aa">G_MTX_MODELVIEW</a> pops the modeling/viewing matrix stack</li>
<li><a class="el" href="#a158b3a6e36924769f7dff7f188b46b63">G_MTX_PROJECTION</a> pops the projection matrix stack (NOT IMPLEMENTED) </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae4dab5f2297069e397664e3b62a7a0bb" name="ae4dab5f2297069e397664e3b62a7a0bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4dab5f2297069e397664e3b62a7a0bb">&#9670;&#160;</a></span>gSPPopMatrixN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gSPPopMatrixN</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>n</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>num</em></span>&#160;)&#160;&#160;&#160;gDma2p((pkt), G_POPMTX, (num) * 64, 64, 2, 0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>macro which pops one of the matrix stacks at the end display list. </p>
<p>It pops <code>num</code> of the matrix stacks. The model view stack can be up to 10 matrices deep. The projection stack is 1 matrix deep, so it cannot be popped.</p>
<dl class="section note"><dt>Note</dt><dd>If the stack is empty, the macro is ignored.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n</td><td>is the flag field that identifies which matrix stack to pop:<ul>
<li><a class="el" href="#a4c9589710f911ec2c38104f51a68a8aa">G_MTX_MODELVIEW</a> pops the modeling/viewing matrix stack</li>
<li><a class="el" href="#a158b3a6e36924769f7dff7f188b46b63">G_MTX_PROJECTION</a> pops the projection matrix stack (NOT IMPLEMENTED) </li>
</ul>
</td></tr>
    <tr><td class="paramname">num</td><td>is the number of matrices to pop </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a248672b75808e9e14d617cdf60edbbfa" name="a248672b75808e9e14d617cdf60edbbfa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a248672b75808e9e14d617cdf60edbbfa">&#9670;&#160;</a></span>gSPSetLights</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gSPSetLights</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>n</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>name</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">_DW({ \</div>
<div class="line">    gSPNumLights(pkt, n); \</div>
<div class="line">    gDma2p((pkt),  G_MOVEMEM, &amp;(name), (n) * 0x10 + 8, G_MV_LIGHT, 0x10); \</div>
<div class="line">})</div>
</div><!-- fragment --><p>Set all your scene's lights (directional/point + ambient) with one memory transaction. n is the number of directional / point lights, from 0 to 9. There is also always an ambient light. name should be the NAME of a Lights struct (NOT A POINTER) filled in with all the lighting data. You can use the gdSPDef* macros to fill in the struct or just do it manually. Example: Lights2 myLights; // 2 dir/pos + 1 ambient <code> gSPSetLights(POLY_OPA_DISP++, 2, myLights);</code></p>
<p><code>If you need to use a pointer, e.g. if the number of lights is variable at runtime: Light *lights = memory_allocate((numLights + 1) * sizeof(Light)); lights[0].p.pos = ...; lights[1].l.dir = ...; ... lights[numLights].l.col = ambient_color(); gSPSetLights(POLY_OPA_DISP++, numLights, *lights); // &lt;- NOTE DEREFERENCE</code></p>
<p><code>If you're wondering why this macro takes a name / dereference instead of a pointer, it's for backwards compatibility. </code></p>

</div>
</div>
<a id="a80d19c11fb825f8f1421ddd1bc012ec8" name="a80d19c11fb825f8f1421ddd1bc012ec8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80d19c11fb825f8f1421ddd1bc012ec8">&#9670;&#160;</a></span>gSPTexture</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gSPTexture</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>s</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>t</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>level</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>tile</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>on</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">_DW({                                                           \</div>
<div class="line">    <a class="code hl_union" href="unionGfx.html">Gfx</a> *_g = (<a class="code hl_union" href="unionGfx.html">Gfx</a> *)(pkt);                                     \</div>
<div class="line">                                                                \</div>
<div class="line">    _g-&gt;words.w0 = (_SHIFTL(G_TEXTURE,  24, 8) |                \</div>
<div class="line">                    _SHIFTL((level),    11, 3) |                \</div>
<div class="line">                    _SHIFTL((tile),      8, 3) |                \</div>
<div class="line">                    _SHIFTL((on),        1, 7));                \</div>
<div class="line">    _g-&gt;words.w1 = (_SHIFTL((s), 16, 16) |                      \</div>
<div class="line">                    _SHIFTL((t),  0, 16));                      \</div>
<div class="line">})</div>
</div><!-- fragment --><p>Macros to turn texture on/off </p>

</div>
</div>
<a id="aa3303bc2d4018b14405c1d67a646b796" name="aa3303bc2d4018b14405c1d67a646b796"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3303bc2d4018b14405c1d67a646b796">&#9670;&#160;</a></span>gSPTextureL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gSPTextureL</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>s</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>t</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>level</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>bowtie</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>tile</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>on</em></span>&#160;)&#160;&#160;&#160;    <a class="el" href="#a80d19c11fb825f8f1421ddd1bc012ec8">gSPTexture</a>(pkt, s, t, level, tile, on)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The bowtie value is a workaround for a bug in HW V1, and is not supported by F3DEX2, let alone F3DEX3. </p>

</div>
</div>
<a id="a6425176902ef66d72ec08772309a82e9" name="a6425176902ef66d72ec08772309a82e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6425176902ef66d72ec08772309a82e9">&#9670;&#160;</a></span>gSPTriFan</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gSPTriFan</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v2</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v3</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v4</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v5</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v6</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v7</em></span>&#160;)&#160;&#160;&#160;    _gSP5Triangles(pkt, G_TRIFAN, v1, v2, v3, v4, v5, v6, v7)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>5 Triangles in fan arrangement. Draws the following tris: v1-v2-v3, v1-v3-v4, v1-v4-v5, v1-v5-v6, v1-v6-v7 Otherwise works the same as SPTriStrip, see above. </p>

</div>
</div>
<a id="aabcbc5ce71956855291dc22646dec21f" name="aabcbc5ce71956855291dc22646dec21f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabcbc5ce71956855291dc22646dec21f">&#9670;&#160;</a></span>gSPTriStrip</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gSPTriStrip</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v2</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v3</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v4</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v5</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v6</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v7</em></span>&#160;)&#160;&#160;&#160;    _gSP5Triangles(pkt, G_TRISTRIP, v1, v2, v3, v4, v5, v6, v7)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>5 Triangles in strip arrangement. Draws the following tris: v1-v2-v3, v3-v2-v4, v3-v4-v5, v5-v4-v6, v5-v6-v7 If you want to draw fewer tris, set indices to -1 from the right. e.g. to draw 4 tris, set v7 to -1; to draw 3 tris, set v6 to -1 Note that any set of 3 adjacent tris can be drawn with either SPTriStrip or SPTriFan. For arbitrary sets of 4 adjacent tris, four out of five of them can be drawn with one of SPTriStrip or SPTriFan. The 4-triangle formation which can't be drawn with either command looks like the Triforce. </p>

</div>
</div>
<a id="aa10b6a6fa88381b34eb4325034230024" name="aa10b6a6fa88381b34eb4325034230024"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa10b6a6fa88381b34eb4325034230024">&#9670;&#160;</a></span>gSPVertex</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gSPVertex</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>n</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v0</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">_DW({                                               \</div>
<div class="line">    <a class="code hl_union" href="unionGfx.html">Gfx</a> *_g = (<a class="code hl_union" href="unionGfx.html">Gfx</a> *)(pkt);                         \</div>
<div class="line">                                                    \</div>
<div class="line">    _g-&gt;words.w0 = (_SHIFTL(G_VTX,      24, 8) |    \</div>
<div class="line">                    _SHIFTL((n),        12, 8) |    \</div>
<div class="line">                    _SHIFTL((v0) + (n),  1, 7));    \</div>
<div class="line">    _g-&gt;words.w1 = (<span class="keywordtype">unsigned</span> int)(v);               \</div>
<div class="line">})</div>
</div><!-- fragment -->
<p>macro which loads an internal vertex buffer in the RSP with points that are used by <a class="el" href="#afe0d779cf45ef43bbffd47bbaea0e390">gSP1Triangle</a> macros to generate polygons at the end display list. </p>
<p>It loads an internal vertex buffer in the RSP with points that are used by <a class="el" href="#afe0d779cf45ef43bbffd47bbaea0e390">gSP1Triangle</a> macros to generate polygons. This vertex cache can hold up to 56 vertices, and the vertex loading can begin at any entry (index) within the cache. The vertex coordinates (x,y,z) are encoded in signed 2's complement, 16-bit integers. The texture coordinates (s,t) are encoded in S10.5 format. A vertex either has a color or a normal (for shading). These values are 8-bit values. The colors and alphas are treated as 8-bit unsigned values (0-255), but the normals are treated as 8-bit signed values (-128 to 127). Therefore, the appropriate member of the union to use (.v. or .n.) depends on whether you are using colors or normals.</p>
<p>Normal coordinates range from -1.0 to 1.0. A value of -1.0 is represented as -128, and a value of 1.0 is represented as 128, but because the maximum positive value of a signed byte is 127, a value of 1.0 can't really be represented. Therefore, 0.992 is the maximum representable positive value, which is good enough for this purpose.</p>
<p>The flag value is used for the packed normals feature to store normals with octahedral encoding.</p>
<p>The coordinates (x,y,z) are transformed using the current 4x4 projection and model view matrices, and (s,t) are transformed using the scale defined by gSPTexture.</p>
<h1><a class="anchor" id="autotoc_md2"></a>
Example</h1>
<p>To load vertex cache entry 2,3,4, use this code: </p><div class="fragment"><div class="line"><a class="code hl_define" href="#aa10b6a6fa88381b34eb4325034230024">gSPVertex</a>(glistp++, v, 3, 2);</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>Because the RSP geometry transformation engine uses a vertex list with triangle list architecture, it is quite powerful. A simple one-triangle macro retains least performance compared to <a class="el" href="#aee80adda08faf28c431e1eff5a1e0506">gSP2Triangles</a> or the new 5 tris commands in EX3 (<a class="el" href="#aabcbc5ce71956855291dc22646dec21f">gSPTriStrip</a>, <a class="el" href="#a6425176902ef66d72ec08772309a82e9">gSPTriFan</a>).</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">v</td><td>is the pointer to the vertex list (segment address) </td></tr>
    <tr><td class="paramname">n</td><td>is the number of vertices </td></tr>
    <tr><td class="paramname">v0</td><td>is the load vertex by index vo(0~55) in vertex buffer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a15ad2f9f5460582656c9429927c9b0a8" name="a15ad2f9f5460582656c9429927c9b0a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15ad2f9f5460582656c9429927c9b0a8">&#9670;&#160;</a></span>gsSP1Quadrangle</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsSP1Quadrangle</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v0</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v2</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v3</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>flag</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{                                                   \</div>
<div class="line">   (_SHIFTL(G_QUAD, 24, 8) |                        \</div>
<div class="line">    __gsSP1Quadrangle_w1f(v0, v1, v2, v3, flag)),   \</div>
<div class="line">    __gsSP1Quadrangle_w2f(v0, v1, v2, v3, flag)     \</div>
<div class="line">}</div>
</div><!-- fragment --><p>1 Quadrangle    </p>

</div>
</div>
<a id="afa187a694b91e928b8454cf4720f6898" name="afa187a694b91e928b8454cf4720f6898"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa187a694b91e928b8454cf4720f6898">&#9670;&#160;</a></span>gsSP1Triangle</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsSP1Triangle</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v0</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v2</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>flag</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{                                           \</div>
<div class="line">   (_SHIFTL(G_TRI1, 24, 8) |                \</div>
<div class="line">    __gsSP1Triangle_w1f(v0, v1, v2, flag)), \</div>
<div class="line">    0                                       \</div>
<div class="line">}</div>
</div><!-- fragment --><p>1 Triangle    </p>

</div>
</div>
<a id="a93367f1570c767f0a883b39e87dbdbeb" name="a93367f1570c767f0a883b39e87dbdbeb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93367f1570c767f0a883b39e87dbdbeb">&#9670;&#160;</a></span>gsSP2Triangles</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsSP2Triangles</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v00</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v01</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v02</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>flag0</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v10</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v11</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v12</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>flag1</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{                                                                   \</div>
<div class="line">   (_SHIFTL(G_TRI2, 24, 8) |                                        \</div>
<div class="line">    __gsSP1Triangle_w1f(v00, v01, v02, flag0)),                     \</div>
<div class="line">    __gsSP1Triangle_w1f(v10, v11, v12, flag1)                       \</div>
<div class="line">}</div>
</div><!-- fragment --><p>2 Triangles    </p>

</div>
</div>
<a id="a94e3aeef86ca318217a47514191e8942" name="a94e3aeef86ca318217a47514191e8942"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94e3aeef86ca318217a47514191e8942">&#9670;&#160;</a></span>gsSPAlphaCompareCull</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsSPAlphaCompareCull</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>mode</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>thresh</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    gsMoveHalfwd(G_MW_FX, G_MWO_ALPHA_COMPARE_CULL, \</div>
<div class="line">        (_SHIFTL((mode), 8, 8) | _SHIFTL((thresh), 0, 8)))</div>
</div><!-- fragment --><p>Alpha compare culling. Optimization for cel shading, could also be used for other scenarios where lots of tris are being drawn with alpha compare.</p>
<p>If mode == G_ALPHA_COMPARE_CULL_DISABLE, tris are drawn normally.</p>
<p>Otherwise:</p><ul>
<li>"vertex alpha" means the post-transform alpha value at each vertex being sent to the RDP. This may be the original model vertex alpha, fog, light level (for cel shading), or Fresnel.</li>
<li>Assuming a cel shading context: you have a threshold value thresh, you draw tris once and want to write all pixels where shade alpha &gt;= thresh. Then you change color settings and draw tris again, and want to write all other pixels, i.e. where shade alpha &lt; thresh.</li>
</ul>
<p>For the light pass:</p><ul>
<li>Set blend color alpha to thresh</li>
<li>Set CC alpha cycle 1 (or only cycle) to (shade alpha - 0) * tex alpha + 0</li>
<li>The RDP will draw pixels whenever shade alpha &gt;= thresh (with binary alpha from the texture)</li>
<li>Set mode = G_ALPHA_COMPARE_CULL_BELOW in SPAlphaCompareCull, and thresh</li>
<li>The RSP will cull any tris where all three vertex alpha values (i.e. light level) are &lt; thresh</li>
</ul>
<p>For the dark pass:</p><ul>
<li>Set blend color alpha to 0x100 - thresh (yes, not 0xFF - thresh).</li>
<li>Set CC alpha cycle 1 (or only cycle) to (1 - shade alpha) * tex alpha + 0</li>
<li>The RDP will draw pixels whenever shade alpha &lt; thresh (with binary alpha from the texture)</li>
<li>Set mode = G_ALPHA_COMPARE_CULL_ABOVE in SPAlphaCompareCull, and thresh</li>
<li>The RSP will cull any tris where all three vertex alpha values (i.e. light level) are &gt;= thresh</li>
</ul>
<p>The idea is to cull tris early on the RSP which won't have any of their fragments drawn on the RDP, to save RDP time and memory bandwidth.    </p>

</div>
</div>
<a id="a5db5f35a0d315d9a9fcdc71ebe520d8d" name="a5db5f35a0d315d9a9fcdc71ebe520d8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5db5f35a0d315d9a9fcdc71ebe520d8d">&#9670;&#160;</a></span>gsSPAmbient</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsSPAmbient</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>l</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>n</em></span>&#160;)&#160;&#160;&#160;    gsDma2p(      G_MOVEMEM, (l), sizeof(Ambient), G_MV_LIGHT, _LIGHT_TO_OFFSET(n))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>l should point to an Ambient struct. n should be an integer 1-10 to load lights 0-9.    </p>

</div>
</div>
<a id="a5c0bf85705e10d9e676c5ffe9dc0f1c8" name="a5c0bf85705e10d9e676c5ffe9dc0f1c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c0bf85705e10d9e676c5ffe9dc0f1c8">&#9670;&#160;</a></span>gsSPAmbOcclusionAmb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsSPAmbOcclusionAmb</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>amb</em></span></td><td>)</td>
          <td>&#160;&#160;&#160;gsMoveHalfwd(     G_MW_FX, G_MWO_AO_AMBIENT, amb)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Ambient occlusion Enabled with the G_AMBOCCLUSION bit in geometry mode. Each of these factors sets how much ambient occlusion affects lights of the given type (ambient, directional, point). They are u16s. You can set each independently or two adjacent values with one moveword. A two-command macro is also provided to set all three values.</p>
<p>When building the model, you must encode the amount of ambient occlusion at each vertex&ndash;effectively the shadow map for the model&ndash;in vertex alpha, where 00 means darkest and FF means lightest. Then, the factors set with the SPAmbOcclusion command determine how much the vertex alpha values affect the light intensity. For example, if the ambient factor is set to 0x8000, this means that in the darkest parts of the model, the ambient light intensity will be reduced by 50%, and in the lightest parts of the model, the ambient light intensity won't be reduced at all.</p>
<p>The default is: amb = 0xFFFF (ambient light fully affected by vertex alpha) dir = 0xA000 (directional lights 62% affected by vertex alpha) point = 0 (point lights not at all affected by vertex alpha)</p>
<p>Two reasons to use ambient occlusion rather than darkening the vertex colors:</p><ul>
<li>With ambient occlusion, the geometry can be fully lit up with point and/or directional lights, depending on your settings here.</li>
<li>Ambient occlusion can be used with cel shading to create areas which are "darker" for the cel shading thresholds, but still have bright / white vertex colors.</li>
</ul>
<p>Two reasons to use these factors to modify ambient occlusion rather than just manually scaling and offsetting all the vertex alpha values:</p><ul>
<li>To allow the behavior to differ between ambient, directional, and point lights</li>
<li>To allow the lighting to be adjusted at the scene level on-the-fly    </li>
</ul>

</div>
</div>
<a id="a936b274be861db783d06fce6ef06e69c" name="a936b274be861db783d06fce6ef06e69c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a936b274be861db783d06fce6ef06e69c">&#9670;&#160;</a></span>gsSPAmbOcclusionDir</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsSPAmbOcclusionDir</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>dir</em></span></td><td>)</td>
          <td>&#160;&#160;&#160;gsMoveHalfwd(     G_MW_FX, G_MWO_AO_DIRECTIONAL, dir)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Ambient occlusion Enabled with the G_AMBOCCLUSION bit in geometry mode. Each of these factors sets how much ambient occlusion affects lights of the given type (ambient, directional, point). They are u16s. You can set each independently or two adjacent values with one moveword. A two-command macro is also provided to set all three values.</p>
<p>When building the model, you must encode the amount of ambient occlusion at each vertex&ndash;effectively the shadow map for the model&ndash;in vertex alpha, where 00 means darkest and FF means lightest. Then, the factors set with the SPAmbOcclusion command determine how much the vertex alpha values affect the light intensity. For example, if the ambient factor is set to 0x8000, this means that in the darkest parts of the model, the ambient light intensity will be reduced by 50%, and in the lightest parts of the model, the ambient light intensity won't be reduced at all.</p>
<p>The default is: amb = 0xFFFF (ambient light fully affected by vertex alpha) dir = 0xA000 (directional lights 62% affected by vertex alpha) point = 0 (point lights not at all affected by vertex alpha)</p>
<p>Two reasons to use ambient occlusion rather than darkening the vertex colors:</p><ul>
<li>With ambient occlusion, the geometry can be fully lit up with point and/or directional lights, depending on your settings here.</li>
<li>Ambient occlusion can be used with cel shading to create areas which are "darker" for the cel shading thresholds, but still have bright / white vertex colors.</li>
</ul>
<p>Two reasons to use these factors to modify ambient occlusion rather than just manually scaling and offsetting all the vertex alpha values:</p><ul>
<li>To allow the behavior to differ between ambient, directional, and point lights</li>
<li>To allow the lighting to be adjusted at the scene level on-the-fly    </li>
</ul>

</div>
</div>
<a id="a2ae5e9a1fd55b979d66ea08f905946f0" name="a2ae5e9a1fd55b979d66ea08f905946f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ae5e9a1fd55b979d66ea08f905946f0">&#9670;&#160;</a></span>gsSPAmbOcclusionPoint</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsSPAmbOcclusionPoint</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>point</em></span></td><td>)</td>
          <td>&#160;&#160;&#160;gsMoveHalfwd(     G_MW_FX, G_MWO_AO_POINT, point)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Ambient occlusion Enabled with the G_AMBOCCLUSION bit in geometry mode. Each of these factors sets how much ambient occlusion affects lights of the given type (ambient, directional, point). They are u16s. You can set each independently or two adjacent values with one moveword. A two-command macro is also provided to set all three values.</p>
<p>When building the model, you must encode the amount of ambient occlusion at each vertex&ndash;effectively the shadow map for the model&ndash;in vertex alpha, where 00 means darkest and FF means lightest. Then, the factors set with the SPAmbOcclusion command determine how much the vertex alpha values affect the light intensity. For example, if the ambient factor is set to 0x8000, this means that in the darkest parts of the model, the ambient light intensity will be reduced by 50%, and in the lightest parts of the model, the ambient light intensity won't be reduced at all.</p>
<p>The default is: amb = 0xFFFF (ambient light fully affected by vertex alpha) dir = 0xA000 (directional lights 62% affected by vertex alpha) point = 0 (point lights not at all affected by vertex alpha)</p>
<p>Two reasons to use ambient occlusion rather than darkening the vertex colors:</p><ul>
<li>With ambient occlusion, the geometry can be fully lit up with point and/or directional lights, depending on your settings here.</li>
<li>Ambient occlusion can be used with cel shading to create areas which are "darker" for the cel shading thresholds, but still have bright / white vertex colors.</li>
</ul>
<p>Two reasons to use these factors to modify ambient occlusion rather than just manually scaling and offsetting all the vertex alpha values:</p><ul>
<li>To allow the behavior to differ between ambient, directional, and point lights</li>
<li>To allow the lighting to be adjusted at the scene level on-the-fly    </li>
</ul>

</div>
</div>
<a id="ad168dd48f40b98df4287000df7b106ab" name="ad168dd48f40b98df4287000df7b106ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad168dd48f40b98df4287000df7b106ab">&#9670;&#160;</a></span>gsSPAttrOffsetST</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsSPAttrOffsetST</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>s</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>t</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    gsMoveWd(G_MW_FX, G_MWO_ATTR_OFFSET_S, \</div>
<div class="line">        (_SHIFTL((s), 16, 16) | _SHIFTL((t), 0, 16)))</div>
</div><!-- fragment --><p>Attribute offsets These are added to ST values after vertices are loaded and transformed. The values are s16s. The addition is after the multiplication for ST scale in SPTexture. Whether it is enabled or disabled at a given time is determined by the G_ATTROFFSET_ST_ENABLE bit in the geometry mode. Normally you would use ST offsets for UV scrolling.    </p>

</div>
</div>
<a id="a5191eb7ddaa9cfc364f371fed44d9aea" name="a5191eb7ddaa9cfc364f371fed44d9aea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5191eb7ddaa9cfc364f371fed44d9aea">&#9670;&#160;</a></span>gsSPBranchLessZraw</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsSPBranchLessZraw</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>dl</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>vtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>zval</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{                                           \</div>
<div class="line">    _SHIFTL(G_RDPHALF_1, 24, 8),            \</div>
<div class="line">    (<span class="keywordtype">unsigned</span> int)(dl),                     \</div>
<div class="line">},                                          \</div>
<div class="line">{                                           \</div>
<div class="line">   (_SHIFTL(G_BRANCH_Z, 24,  8) |           \</div>
<div class="line">    _SHIFTL((vtx) * 5,  12, 12) |           \</div>
<div class="line">    _SHIFTL((vtx) * 2,   0, 12)),           \</div>
<div class="line">    (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)(zval),                   \</div>
<div class="line">}</div>
</div><!-- fragment --><p>gSPBranchLessZraw Branch DL if (vtx.z) less than or equal (raw zval).</p>
<p>dl = DL branch to vtx = Vertex zval = Raw value of screen depth    </p>

</div>
</div>
<a id="ab0cb7f1fc1c355cee8b65db2dce06620" name="ab0cb7f1fc1c355cee8b65db2dce06620"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0cb7f1fc1c355cee8b65db2dce06620">&#9670;&#160;</a></span>gsSPBranchList</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsSPBranchList</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>dl</em></span></td><td>)</td>
          <td>&#160;&#160;&#160;_gsSPBranchListRaw(     dl, 0)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Normal control flow commands; same as <a class="el" href="#a3ac7f8e97e2688f578b356531cdf1acd">gsSPBranchListHint</a> but with hint of 0 </p>

</div>
</div>
<a id="a3ac7f8e97e2688f578b356531cdf1acd" name="a3ac7f8e97e2688f578b356531cdf1acd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ac7f8e97e2688f578b356531cdf1acd">&#9670;&#160;</a></span>gsSPBranchListHint</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsSPBranchListHint</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>dl</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>count</em></span>&#160;)&#160;&#160;&#160;_gsSPBranchListRaw(     dl, _DLHINTVALUE(count))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Optimization for reduced memory traffic. In count, put the estimated number of DL commands in the target DL (the DL being called / jumped to, or the DL being returned to, starting from the next command to be executed) up to and including the next call / jump / return. Normally, for SPDisplayList, this is just the total number of commands in the target DL. The actual on-screen result will not change regardless of the value of count, but the performance will be best if count is correct, and potentially worse than not specifying count if it is wrong. Feature suggested by Kaze Emanuar    </p>

</div>
</div>
<a id="a42195dcbbd795d8751531e0eff3beb47" name="a42195dcbbd795d8751531e0eff3beb47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42195dcbbd795d8751531e0eff3beb47">&#9670;&#160;</a></span>gsSPCameraWorld</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsSPCameraWorld</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>cam</em></span></td><td>)</td>
          <td>&#160;&#160;&#160;    gsDma2p(      G_MOVEMEM, (cam), sizeof(PlainVtx), G_MV_LIGHT, 0)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Camera world position for Fresnel and specular lighting. Set this whenever you set the VP matrix, viewport, etc. cam is the address of a PlainVtx struct.    </p>

</div>
</div>
<a id="a9403e754757b97fe80719d6b39b76990" name="a9403e754757b97fe80719d6b39b76990"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9403e754757b97fe80719d6b39b76990">&#9670;&#160;</a></span>gsSPClipRatio</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsSPClipRatio</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>r</em></span></td><td>)</td>
          <td>&#160;&#160;&#160;gsSPNoOp()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clipping Macros.    </p>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000004">Deprecated</a></b></dt><dd></dd></dl>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000003">Deprecated</a></b></dt><dd>encodes SP no-ops it is not possible to change the clip ratio from 2 in F3DEX3. </dd></dl>

</div>
</div>
<a id="a03cc9c604214665956b29bfa636e1da6" name="a03cc9c604214665956b29bfa636e1da6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03cc9c604214665956b29bfa636e1da6">&#9670;&#160;</a></span>gsSPCullDisplayList</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsSPCullDisplayList</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>vstart</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>vend</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{                                           \</div>
<div class="line">   (_SHIFTL(G_CULLDL,     24, 8) |          \</div>
<div class="line">    _SHIFTL((vstart) * 2,  0, 16)),         \</div>
<div class="line">    _SHIFTL((vend) * 2, 0, 16)              \</div>
<div class="line">}</div>
</div><!-- fragment --><p>Cull the display list based on screen clip flags of range of loaded verts. Executes SPEndDisplayList if the convex hull formed by the specified range of already-loaded vertices is offscreen.    </p>

</div>
</div>
<a id="a2eb66004b66df2fa226251e0f8574377" name="a2eb66004b66df2fa226251e0f8574377"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2eb66004b66df2fa226251e0f8574377">&#9670;&#160;</a></span>gsSPDisplayList</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsSPDisplayList</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>dl</em></span></td><td>)</td>
          <td>&#160;&#160;&#160;_gsSPDisplayListRaw(    dl, 0)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Normal control flow commands; same as <a class="el" href="#a226e1d6b5d9506d43a8b8d0d11925ca1">gsSPDisplayListHint</a> but with hint of 0 </p>

</div>
</div>
<a id="a226e1d6b5d9506d43a8b8d0d11925ca1" name="a226e1d6b5d9506d43a8b8d0d11925ca1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a226e1d6b5d9506d43a8b8d0d11925ca1">&#9670;&#160;</a></span>gsSPDisplayListHint</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsSPDisplayListHint</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>dl</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>count</em></span>&#160;)&#160;&#160;&#160;_gsSPDisplayListRaw(    dl, _DLHINTVALUE(count))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Optimization for reduced memory traffic. In count, put the estimated number of DL commands in the target DL (the DL being called / jumped to, or the DL being returned to, starting from the next command to be executed) up to and including the next call / jump / return. Normally, for SPDisplayList, this is just the total number of commands in the target DL. The actual on-screen result will not change regardless of the value of count, but the performance will be best if count is correct, and potentially worse than not specifying count if it is wrong. Feature suggested by Kaze Emanuar    </p>

</div>
</div>
<a id="a8c29df941d85f1b92c20a6a668e39047" name="a8c29df941d85f1b92c20a6a668e39047"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c29df941d85f1b92c20a6a668e39047">&#9670;&#160;</a></span>gsSPDma_io</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsSPDma_io</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>flag</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>dmem</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>dram</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>size</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{                                           \</div>
<div class="line">   (_SHIFTL(G_DMA_IO,   24,  8) |           \</div>
<div class="line">    _SHIFTL((flag),     23,  1) |           \</div>
<div class="line">    _SHIFTL((dmem) / 8, 13, 10) |           \</div>
<div class="line">    _SHIFTL((size) - 1,  0, 12)),           \</div>
<div class="line">    (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)(dram)                    \</div>
<div class="line">}</div>
</div><!-- fragment --><p>gSPDma_io DMA to/from DMEM/IMEM for DEBUG.    </p>

</div>
</div>
<a id="a06ed1458dbefbadfb146e0b296de8961" name="a06ed1458dbefbadfb146e0b296de8961"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06ed1458dbefbadfb146e0b296de8961">&#9670;&#160;</a></span>gsSPDontSkipTexLoadsAcross</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsSPDontSkipTexLoadsAcross</td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td>&#160;&#160;&#160;    gsMoveWd(G_MW_FX, G_MWO_LAST_MAT_DL_ADDR, 0xFFFFFFFF)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>F3DEX3 has a basic auto-batched rendering system. At a high level, if a material display list being run is the same as the last material, the texture loads are automatically skipped the second time as they should already be in TMEM.</p>
<p>This design generally works, but can break if you call a display list twice but in between change a segment mapping so that a referenced image inside is actually different the two times. In these cases, run the below command between the two calls (e.g. when you change the segment) and the microcode will not skip the second texture loads.</p>
<p>Internally, a material is defined to start with any set image command, and end on any of the following: call, branch, return, vertex, all tri commands, tex/fill rectangles, and successes on cull or branch w/z (which are usually preceded by vertex loads anyway). The physical address of the display list &ndash;not the address of the image&ndash;is stored when a material is started. If a material starts and its physical address is the same as the stored last start address, i.e. we're executing the same material display list as the last material, material cull mode is set. In this mode, load block, load tile, and load TLUT all are skipped. This mode is cleared when the material ends.</p>
<p>This design has the benefit that it works correctly even with complex materials, e.g. with two CI4 textures (four loads), whereas it would be difficult to implement tracking all these loads separately. Furthermore, a design based on tracking the image addresses could break if you loaded different tile sections of the same image in consecutive materials.    </p>

</div>
</div>
<a id="a329728753706d9e1b763d6d536ca719d" name="a329728753706d9e1b763d6d536ca719d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a329728753706d9e1b763d6d536ca719d">&#9670;&#160;</a></span>gsSPEndDisplayList</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsSPEndDisplayList</td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td>&#160;&#160;&#160;_gsSPEndDisplayListRaw(     0)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Normal control flow commands; same as <a class="el" href="#a98f27dcc9519a0034c83bffae2f5b858">gsSPEndDisplayListHint</a> but with hint of 0 </p>

</div>
</div>
<a id="a98f27dcc9519a0034c83bffae2f5b858" name="a98f27dcc9519a0034c83bffae2f5b858"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98f27dcc9519a0034c83bffae2f5b858">&#9670;&#160;</a></span>gsSPEndDisplayListHint</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsSPEndDisplayListHint</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>count</em></span></td><td>)</td>
          <td>&#160;&#160;&#160;_gsSPEndDisplayListRaw(     _DLHINTVALUE(count))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Optimization for reduced memory traffic. In count, put the estimated number of DL commands in the target DL (the DL being called / jumped to, or the DL being returned to, starting from the next command to be executed) up to and including the next call / jump / return. Normally, for SPDisplayList, this is just the total number of commands in the target DL. The actual on-screen result will not change regardless of the value of count, but the performance will be best if count is correct, and potentially worse than not specifying count if it is wrong. Feature suggested by Kaze Emanuar    </p>

</div>
</div>
<a id="ad71caddcceec419f1f1f64c65c26619a" name="ad71caddcceec419f1f1f64c65c26619a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad71caddcceec419f1f1f64c65c26619a">&#9670;&#160;</a></span>gsSPFogFactor</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsSPFogFactor</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>fm</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>fo</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    gsMoveWd(G_MW_FOG, G_MWO_FOG,                   \</div>
<div class="line">       (_SHIFTL(fm, 16, 16) | _SHIFTL(fo, 0, 16)))</div>
</div><!-- fragment --><p>FOG macros fm = z multiplier fo = z offset FOG FORMULA: alpha(fog) = (eyespace z) * fm + fo CLAMPED 0 to 255 note: (eyespace z) ranges -1 to 1</p>
<p>Alternate method of setting fog: min, max: range 0 to 1000: 0=nearplane, 1000=farplane min is where fog begins (usually less than max and often 0) max is where fog is thickest (usually 1000)    </p>

</div>
</div>
<a id="ad491d787312f2db8106fbf61c8eac60e" name="ad491d787312f2db8106fbf61c8eac60e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad491d787312f2db8106fbf61c8eac60e">&#9670;&#160;</a></span>gsSPForceMatrix</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsSPForceMatrix</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>mptr</em></span></td><td>)</td>
          <td>&#160;&#160;&#160;gsSPNoOp()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load new MVP matrix directly. </p>
<p>This is no longer supported as there is no MVP matrix in F3DEX3. </p><dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000005">Deprecated</a></b></dt><dd></dd></dl>

</div>
</div>
<a id="a7589a9c64442bf5c3f14fb77031b0721" name="a7589a9c64442bf5c3f14fb77031b0721"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7589a9c64442bf5c3f14fb77031b0721">&#9670;&#160;</a></span>gsSPFresnel</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsSPFresnel</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>scale</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>offset</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    gsMoveWd(G_MW_FX, G_MWO_FRESNEL_SCALE, \</div>
<div class="line">        (_SHIFTL((scale), 16, 16) | _SHIFTL((offset), 0, 16)))</div>
</div><!-- fragment --><p>Fresnel - Feature suggested by thecozies Enabled with the G_FRESNEL bit in geometry mode. The dot product between a vertex normal and the vector from the vertex to the camera is computed. The offset and scale here convert this to a shade alpha value. This is useful for making surfaces fade between transparent when viewed straight-on and opaque when viewed at a large angle, or for applying a fake "outline" around the border of meshes.</p>
<p>If using Fresnel, you need to set the camera world position whenever you set the VP matrix, viewport, etc. See SPCameraWorld.</p>
<p>The RSP does: s16 dotProduct = dot(vertex normal, camera pos - vertex pos); dotProduct = abs(dotProduct); // 0 = points to side, 7FFF = points at or away s32 factor = ((scale * dotProduct) &gt;&gt; 15) + offset; s16 result = clamp(factor &lt;&lt; 8, 0, 7FFF); color_or_alpha = result &gt;&gt; 7;</p>
<p>At dotMax, color_or_alpha = FF, result = 7F80, factor = 7F At dotMin, color_or_alpha = 00, result = 0, factor = 0 7F = ((scale * dotMax) &gt;&gt; 15) + offset 00 = ((scale * dotMin) &gt;&gt; 15) + offset Subtract: 7F = (scale * (dotMax - dotMin)) &gt;&gt; 15 3F8000 = scale * (dotMax - dotMin) scale = 3F8000 / (dotMax - dotMin) &lt;&ndash; offset = -(((3F8000 / (dotMax - dotMin)) * dotMin) &gt;&gt; 15) offset = -((7F * dotMin) / (dotMax - dotMin)) &lt;&ndash;</p>
<p>To convert in the opposite direction: ((7F - offset) &lt;&lt; 15) / scale = dotMax ((00 - offset) &lt;&lt; 15) / scale = dotMin    </p>

</div>
</div>
<a id="a50b9b45b1249d8549bd7bc48ac252698" name="a50b9b45b1249d8549bd7bc48ac252698"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50b9b45b1249d8549bd7bc48ac252698">&#9670;&#160;</a></span>gsSPFresnelOffset</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsSPFresnelOffset</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>offset</em></span></td><td>)</td>
          <td>&#160;&#160;&#160;    gsMoveHalfwd(G_MW_FX, G_MWO_FRESNEL_OFFSET, offset)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Fresnel - Feature suggested by thecozies Enabled with the G_FRESNEL bit in geometry mode. The dot product between a vertex normal and the vector from the vertex to the camera is computed. The offset and scale here convert this to a shade alpha value. This is useful for making surfaces fade between transparent when viewed straight-on and opaque when viewed at a large angle, or for applying a fake "outline" around the border of meshes.</p>
<p>If using Fresnel, you need to set the camera world position whenever you set the VP matrix, viewport, etc. See SPCameraWorld.</p>
<p>The RSP does: s16 dotProduct = dot(vertex normal, camera pos - vertex pos); dotProduct = abs(dotProduct); // 0 = points to side, 7FFF = points at or away s32 factor = ((scale * dotProduct) &gt;&gt; 15) + offset; s16 result = clamp(factor &lt;&lt; 8, 0, 7FFF); color_or_alpha = result &gt;&gt; 7;</p>
<p>At dotMax, color_or_alpha = FF, result = 7F80, factor = 7F At dotMin, color_or_alpha = 00, result = 0, factor = 0 7F = ((scale * dotMax) &gt;&gt; 15) + offset 00 = ((scale * dotMin) &gt;&gt; 15) + offset Subtract: 7F = (scale * (dotMax - dotMin)) &gt;&gt; 15 3F8000 = scale * (dotMax - dotMin) scale = 3F8000 / (dotMax - dotMin) &lt;&ndash; offset = -(((3F8000 / (dotMax - dotMin)) * dotMin) &gt;&gt; 15) offset = -((7F * dotMin) / (dotMax - dotMin)) &lt;&ndash;</p>
<p>To convert in the opposite direction: ((7F - offset) &lt;&lt; 15) / scale = dotMax ((00 - offset) &lt;&lt; 15) / scale = dotMin    </p>

</div>
</div>
<a id="ab6e9df5968dae318157670d875674bbc" name="ab6e9df5968dae318157670d875674bbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6e9df5968dae318157670d875674bbc">&#9670;&#160;</a></span>gsSPFresnelScale</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsSPFresnelScale</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>scale</em></span></td><td>)</td>
          <td>&#160;&#160;&#160;    gsMoveHalfwd(G_MW_FX, G_MWO_FRESNEL_SCALE, scale)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Fresnel - Feature suggested by thecozies Enabled with the G_FRESNEL bit in geometry mode. The dot product between a vertex normal and the vector from the vertex to the camera is computed. The offset and scale here convert this to a shade alpha value. This is useful for making surfaces fade between transparent when viewed straight-on and opaque when viewed at a large angle, or for applying a fake "outline" around the border of meshes.</p>
<p>If using Fresnel, you need to set the camera world position whenever you set the VP matrix, viewport, etc. See SPCameraWorld.</p>
<p>The RSP does: s16 dotProduct = dot(vertex normal, camera pos - vertex pos); dotProduct = abs(dotProduct); // 0 = points to side, 7FFF = points at or away s32 factor = ((scale * dotProduct) &gt;&gt; 15) + offset; s16 result = clamp(factor &lt;&lt; 8, 0, 7FFF); color_or_alpha = result &gt;&gt; 7;</p>
<p>At dotMax, color_or_alpha = FF, result = 7F80, factor = 7F At dotMin, color_or_alpha = 00, result = 0, factor = 0 7F = ((scale * dotMax) &gt;&gt; 15) + offset 00 = ((scale * dotMin) &gt;&gt; 15) + offset Subtract: 7F = (scale * (dotMax - dotMin)) &gt;&gt; 15 3F8000 = scale * (dotMax - dotMin) scale = 3F8000 / (dotMax - dotMin) &lt;&ndash; offset = -(((3F8000 / (dotMax - dotMin)) * dotMin) &gt;&gt; 15) offset = -((7F * dotMin) / (dotMax - dotMin)) &lt;&ndash;</p>
<p>To convert in the opposite direction: ((7F - offset) &lt;&lt; 15) / scale = dotMax ((00 - offset) &lt;&lt; 15) / scale = dotMin    </p>

</div>
</div>
<a id="a917acaef848eb70f3eacaaafbd802ea7" name="a917acaef848eb70f3eacaaafbd802ea7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a917acaef848eb70f3eacaaafbd802ea7">&#9670;&#160;</a></span>gsSPGeometryMode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsSPGeometryMode</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>c</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>s</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{                                       \</div>
<div class="line">   (_SHIFTL(G_GEOMETRYMODE, 24,  8) |   \</div>
<div class="line">    _SHIFTL(~(u32)(c),       0, 24)),   \</div>
<div class="line">    (u32)(s)                            \</div>
<div class="line">}</div>
</div><!-- fragment --><p>One <a class="el" href="#a326b58e27fb82e340cf1a720d50b0dc3">gSPGeometryMode(pkt,c,s)</a> GBI is equal to these two GBIs. </p><pre class="fragment">gSPClearGeometryMode(pkt,c)
gSPSetGeometryMode(pkt,s)
</pre><p> gSPLoadGeometryMode(pkt, word) sets GeometryMode directly.    </p>

</div>
</div>
<a id="adc11222c30b753c7743f9fbcdbca3fdf" name="adc11222c30b753c7743f9fbcdbca3fdf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc11222c30b753c7743f9fbcdbca3fdf">&#9670;&#160;</a></span>gsSPLight</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsSPLight</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>l</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>n</em></span>&#160;)&#160;&#160;&#160;    gsDma2p(      G_MOVEMEM, (l), sizeof(Light), G_MV_LIGHT, _LIGHT_TO_OFFSET(n))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>l should point to a Light struct. n should be an integer 1-9 to load lights 0-8. Can also load Ambient lights to lights 0-8 with this. However, if you have 9 directional / point lights, you must use SPAmbient to load light 9 (LIGHT_10) with an ambient light. (That is, the memory for light 9 (LIGHT_10) is only sizeof(Ambient), so if you load this with SPLight, it will overwrite other DMEM and corrupt unrelated things.) New code should not generally use SPLight, and instead use SPSetLights to set all lights in one memory transaction.    </p>

</div>
</div>
<a id="a0fe448d7217dfca0e567ff69c9a7bf94" name="a0fe448d7217dfca0e567ff69c9a7bf94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fe448d7217dfca0e567ff69c9a7bf94">&#9670;&#160;</a></span>gsSPLightColor</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsSPLightColor</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>n</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>col</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    gsMoveWd(G_MW_LIGHTCOL, ((((n) - 1) * 0x10) + 0), ((col) &amp; 0xFFFFFF00)),       \</div>
<div class="line">    gsMoveWd(G_MW_LIGHTCOL, ((((n) - 1) * 0x10) + 4), ((col) &amp; 0xFFFFFF00))</div>
</div><!-- fragment --><p>gSPLightColor changes the color of a directional light without an additional DMA transfer. col is a 32 bit word where (col &gt;&gt; 24) &amp; 0xFF is red, (col &gt;&gt; 16) &amp; 0xFF is green, and (col &gt;&gt; 8) &amp; 0xFF is blue. (col &amp; 0xFF) is ignored and masked to zero. n should be an integer 1-10 to apply to light 0-9.    </p>

</div>
</div>
<a id="a806b38ea9c786e6028c6b4bffb910105" name="a806b38ea9c786e6028c6b4bffb910105"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a806b38ea9c786e6028c6b4bffb910105">&#9670;&#160;</a></span>gsSPLightToRDP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsSPLightToRDP</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>light</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>alpha</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>word0</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{                                           \</div>
<div class="line">   (_SHIFTL(G_LIGHTTORDP, 24, 8) |          \</div>
<div class="line">    _SHIFTL(light * 0x10,  8, 8) |          \</div>
<div class="line">    _SHIFTL(alpha,         0, 8)),          \</div>
<div class="line">   (word0)                                  \</div>
<div class="line">}</div>
</div><!-- fragment --><p>Send the color of the specified light to one of the RDP's color registers. light is the index of a light in the RSP counting from the end, i.e. 0 is the ambient light, 1 is the last directional / point light, etc. The RGB color of the selected light is combined with the alpha specified in this command as word 1 of a RDP command, and word 0 is specified in this command. Specialized versions are provided below for prim color and fog color, because these are the two versions needed for cel shading, but any RDP color command could be specified this way.    </p>

</div>
</div>
<a id="a05e18436bd68e4a2388544341cc48718" name="a05e18436bd68e4a2388544341cc48718"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05e18436bd68e4a2388544341cc48718">&#9670;&#160;</a></span>gsSPLoadUcodeEx</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsSPLoadUcodeEx</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>uc_start</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>uc_dstart</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>uc_dsize</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{                                                       \</div>
<div class="line">    _SHIFTL(G_RDPHALF_1, 24, 8),                        \</div>
<div class="line">    (<span class="keywordtype">unsigned</span> int)(uc_dstart),                          \</div>
<div class="line">},                                                      \</div>
<div class="line">{                                                       \</div>
<div class="line">   (_SHIFTL(G_LOAD_UCODE,        24,  8) |              \</div>
<div class="line">    _SHIFTL((<span class="keywordtype">int</span>)(uc_dsize) - 1,  0, 16)),              \</div>
<div class="line">    (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)(uc_start),                           \</div>
<div class="line">}</div>
</div><!-- fragment --><p>gSPLoadUcode RSP loads specified ucode.</p>
<p>uc_start = ucode text section start uc_dstart = ucode data section start    </p>

</div>
</div>
<a id="ad2c36fed7b56ce97723c56f3dc763d83" name="ad2c36fed7b56ce97723c56f3dc763d83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2c36fed7b56ce97723c56f3dc763d83">&#9670;&#160;</a></span>gsSPLookAt</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsSPLookAt</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>la</em></span></td><td>)</td>
          <td>&#160;&#160;&#160;    gsDma2p(      G_MOVEMEM, (la), sizeof(LookAt), G_MV_LIGHT, 8)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reflection/Hiliting Macros. la is the address of a LookAt struct.    </p>

</div>
</div>
<a id="a50d2a6fb30a49e45e3ae5b96ec5972df" name="a50d2a6fb30a49e45e3ae5b96ec5972df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50d2a6fb30a49e45e3ae5b96ec5972df">&#9670;&#160;</a></span>gsSPLookAtX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsSPLookAtX</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>l</em></span></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="#ad2c36fed7b56ce97723c56f3dc763d83">gsSPLookAt</a>(l)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>These versions are deprecated, please use g*SPLookAt. The two directions cannot be set independently anymore as they both fit within one memory word. (They could be set with moveword, but then the values would have to be within the command itself, not at a memory address.) This deprecated version has the X command set both (assuming l is the name / address of a LookAt struct) and has the Y command as a SP no-op. </p><dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000006">Deprecated</a></b></dt><dd></dd></dl>

</div>
</div>
<a id="a7340785bc6142704ca8fa39fa5e1e680" name="a7340785bc6142704ca8fa39fa5e1e680"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7340785bc6142704ca8fa39fa5e1e680">&#9670;&#160;</a></span>gsSPLookAtY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsSPLookAtY</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>l</em></span></td><td>)</td>
          <td>&#160;&#160;&#160;gsSPNoOp()</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>These versions are deprecated, please use g*SPLookAt. The two directions cannot be set independently anymore as they both fit within one memory word. (They could be set with moveword, but then the values would have to be within the command itself, not at a memory address.) This deprecated version has the X command set both (assuming l is the name / address of a LookAt struct) and has the Y command as a SP no-op. </p><dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000006">Deprecated</a></b></dt><dd></dd></dl>

</div>
</div>
<a id="aee3588cfbd5b017041757eed414c5a40" name="aee3588cfbd5b017041757eed414c5a40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee3588cfbd5b017041757eed414c5a40">&#9670;&#160;</a></span>gsSPMatrix</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsSPMatrix</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>m</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>p</em></span>&#160;)&#160;&#160;&#160;        gsDma2p(     G_MTX, (m), sizeof(Mtx), (p) ^ <a class="el" href="#af260746aec061e8a35a297e2a0e90eaa">G_MTX_PUSH</a>, 0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>macro which inserts a matrix operation in a static display list. </p>
<p>It inserts a matrix operation in the display list. The parameters allow you to select which matrix stack to use (projection or model view), where to load or concatenate, and whether or not to push the matrix stack. The following parameters are bit OR'ed together:</p><ul>
<li><a class="el" href="#a158b3a6e36924769f7dff7f188b46b63">G_MTX_PROJECTION</a> <a class="el" href="#a4c9589710f911ec2c38104f51a68a8aa">G_MTX_MODELVIEW</a> -   specifies whether the matrix operation will be performed on the projection or the model view matrix.   </li>
<li><a class="el" href="#a47a812d4ce6705e0dee289707f18f693">G_MTX_MUL</a> -   concatenates the matrix (m) with the top of the matrix stack.   </li>
<li><a class="el" href="#a9fbb8b7e0e1a66c5399ad158d7a219cd">G_MTX_LOAD</a> -   loads the matrix (m) onto the top of the matrix stack.   </li>
<li><a class="el" href="#a063f7fcd1dfe2d7c199dad97eea7cc97">G_MTX_NOPUSH</a> -   specifies do not push the matrix stack prior to matrix operations   </li>
<li><a class="el" href="#af260746aec061e8a35a297e2a0e90eaa">G_MTX_PUSH</a> -   specifies push the matrix stack prior to matrix operations    </li>
</ul>
<h1><a class="anchor" id="autotoc_md0"></a>
Matrix Format</h1>
<p>The format of the fixed-point matrices may seem a little awkward to the application programmer because it is optimized for the RSP geometry engine. This unusual format is hidden in the graphics utility libraries and not usually exposed to the application programmer, but in some cases (static matrix declarations or direct element manipulation) it is necessary to understand the format.</p>
<p>The integer and fractional components of the matrix elements are separated. The first 8 words (16 shorts) hold the 16-bit integer elements, the second 8 words (16 shorts) hold the 16-bit fractional elements. The fact that the Mtx type is declared as a long [4][4] array is slightly misleading. For example, to declare a static identity matrix, use code similar to this: </p><div class="fragment"><div class="line"><span class="preprocessor"> #include &quot;<a class="code" href="gbi_8h.html">gbi.h</a>&quot;</span></div>
<div class="line"><span class="keyword">static</span> Mtx ident =</div>
<div class="line">{</div>
<div class="line"><span class="comment">// integer portion:</span></div>
<div class="line">0x00010000, 0x00000000,</div>
<div class="line">0x00000001, 0x00000000,</div>
<div class="line">0x00000000, 0x00010000,</div>
<div class="line">0x00000000, 0x00000001,</div>
<div class="line"> </div>
<div class="line"><span class="comment">// fractional portion:</span></div>
<div class="line">0x00000000, 0x00000000,</div>
<div class="line">0x00000000, 0x00000000,</div>
<div class="line">0x00000000, 0x00000000,</div>
<div class="line">0x00000000, 0x00000000,</div>
<div class="line">};</div>
</div><!-- fragment --><p> To force the translation elements of a matrix to be (10.5, 20.5, 30.5), use code similar to this: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="gbi_8h.html">gbi.h</a>&quot;</span></div>
<div class="line"> </div>
<div class="line">mat.m[1][2] =</div>
<div class="line">   (10 &lt;&lt; 16) | (20);</div>
<div class="line">mat.m[1][3] =</div>
<div class="line">   (30 &lt;&lt; 16) | (1);</div>
<div class="line"> </div>
<div class="line">mat.m[3][2] =</div>
<div class="line">   (0x8000 &lt;&lt; 16) | (0x8000);</div>
<div class="line">mat.m[3][3] =</div>
<div class="line">   (0x8000 &lt;&lt; 16) | (0);</div>
</div><!-- fragment --> <dl class="section note"><dt>Note</dt><dd>Matrix concatenation in the RSP geometry engine is done using 32-bit integer arithmetic. A 32 x 32 bit multiply results in a 64-bit number. Only the middle 32 bits of this 64-bit result are kept for the new matrix. Therefore, when concatenating matrices, remember about the resulting fixed-point numerical error.</dd></dl>
<p>For example, to retain maximum precision, the number ranges must be similar. Large-scale and translate parameters can decrease the transformation precision. Because rotation and projection matrices require quite a bit of fractional accuracy, these fractions may get tossed out if multiplied against large integer numbers.</p>
<p>Each concatenation results in the rounding of the LSB of each matrix term. This means that each concatenation injects 1/2 LSB of error into the matrix. To keep full precision, concatenate matrices in floating-point on the processor and just load the result into the RSP.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Performance</h1>
<p>Each <a class="el" href="#a4c9589710f911ec2c38104f51a68a8aa">G_MTX_MODELVIEW</a> matrix operation has an implicit matrix multiplication even if you specify <a class="el" href="#a9fbb8b7e0e1a66c5399ad158d7a219cd">G_MTX_LOAD</a>. This is the combined model view (M) and projection (P) matrix that is necessary for the vertex transformation to use a single matrix during transformation.</p>
<p>You can optimize this by concatenating modeling matrices on the CPU and then putting the viewing (V) and projection matrices on the projection stack. By doing this, you only incur the single MxVP matrix concatenation each time you load a modeling matrix. Furthermore, the application has more information on how to do a cheap hack for modeling matrix concatenation. For example, if you want to combine a single axis rotation with a translation, just place the coefficients in the correct entries of the resulting matrix.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td>is the pointer to the 4x4 fixed-point matrix (see note below about format) </td></tr>
    <tr><td class="paramname">p</td><td>are the bit OR'd parameters to the matrix macro (<a class="el" href="#a158b3a6e36924769f7dff7f188b46b63">G_MTX_PROJECTION</a>, <a class="el" href="#a4c9589710f911ec2c38104f51a68a8aa">G_MTX_MODELVIEW</a>, <a class="el" href="#a47a812d4ce6705e0dee289707f18f693">G_MTX_MUL</a>, <a class="el" href="#a9fbb8b7e0e1a66c5399ad158d7a219cd">G_MTX_LOAD</a>, <a class="el" href="#a063f7fcd1dfe2d7c199dad97eea7cc97">G_MTX_NOPUSH</a>)    </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a100dc628b1b8952e0f3bb2e4e9ddd7e4" name="a100dc628b1b8952e0f3bb2e4e9ddd7e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a100dc628b1b8952e0f3bb2e4e9ddd7e4">&#9670;&#160;</a></span>gsSPMemset</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsSPMemset</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>pkt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>dram</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>value</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>size</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    gsImmp1(G_RDPHALF_1, ((value) &amp; 0xFFFF)), \</div>
<div class="line">    gsDma0p(G_MEMSET, (dram), ((size) &amp; 0xFFFFF0))</div>
</div><!-- fragment --><p>Use RSP DMAs to set a region of memory to a repeated 16-bit value. This can clear the color framebuffer or Z-buffer faster than the RDP can in fill mode. SPMemset overwrites the DMEM vertex buffer, so vertices loaded before this command cannot be used after it (though this would not normally be done).</p>
<p>dram: Segmented or physical start address. Must be aligned to 16 bytes. value: 16-bit value to fill the memory with. e.g. 0 for color, 0xFFFC for Z. size: Size in bytes to fill, must be nonzero and a multiple of 16 bytes.    </p>

</div>
</div>
<a id="ae2ae0e0fe29b05d0f62ff6b14a94c1cd" name="ae2ae0e0fe29b05d0f62ff6b14a94c1cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2ae0e0fe29b05d0f62ff6b14a94c1cd">&#9670;&#160;</a></span>gsSPMITMatrix</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsSPMITMatrix</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>mtx</em></span></td><td>)</td>
          <td>&#160;&#160;&#160;        gsDma2p(      G_MOVEMEM, (mit), sizeof(MITMtx), G_MV_MMTX, 0x80)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>See SPNormalsMode. mtx is the address of a MITMtx (M inverse transpose).</p>
<p>The matrix values must be scaled down so that the matrix norm is &lt;= 1, i.e. multiplying this matrix by any vector length &lt;= 1 must produce a vector with length &lt;= 1. Normally, M scales things down substantially, so M inverse transpose natively would scale them up substantially; you need to apply a constant scale to counteract this. One easy way to do this is compute M inverse transpose normally, then scale it so until the maximum absolute value of any element is 0.5. Because of this scaling, you can also skip the part of the inverse computation where you compute the determinant and divide by it, cause you're going to rescale it arbitrarily anyway.    </p>

</div>
</div>
<a id="afa7f692f104a3fca8d37ab59708148bc" name="afa7f692f104a3fca8d37ab59708148bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa7f692f104a3fca8d37ab59708148bc">&#9670;&#160;</a></span>gsSPModifyVertex</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsSPModifyVertex</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>vtx</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>where</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>val</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{                                           \</div>
<div class="line">   (_SHIFTL(G_MODIFYVTX, 24,  8) |          \</div>
<div class="line">    _SHIFTL((where),     16,  8) |          \</div>
<div class="line">    _SHIFTL((vtx) * 2,    0, 16)),          \</div>
<div class="line">    (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)(val)                     \</div>
<div class="line">}</div>
</div><!-- fragment -->
<p>You can use this macro to modify certain sections of a vertex after it has been sent to the RSP (by the gSPVertex macro). </p>
<p>This is an advanced macro. You need a good understanding of how vertices work in the RSP microcode before you use this macro (refer to gSPVertex).</p>
<p>You can use this macro to modify certain sections of a vertex after it has been sent to the RSP (by the gSPVertex macro). This is useful for vertices that are shared between two or more triangles that must have different properties when associated with one triangle versus the other triangle.</p>
<p>For example, you might have two adjacent triangles that both need smooth-shaded color, but one is smooth-shaded red-to-yellow and the other is smooth-shaded green-to-cyan. In this case, the vertex that is shared by both triangles is sent with red/yellow color by using the gSPVertex macro. The first triangle is drawn. Then, the gSPModifyVertex macro is used to change the color to green/cyan, and the second triangle is drawn.</p>
<p>The primary use of the gSPModifyVertex macro is to modify the texture coordinate of a vertex so that a vertex that is shared by two triangles with different textures and different texture coordinate spaces can contain the texture coordinate for the first texture and then be modified to contain the texture coordinate for the second texture.</p>
<p>It is faster to use the gSPModifyVertex macro than to send a new vertex macro with a different but similar vertex because no transformations or lighting are done to the vertex when you use the gSPModifyVertex macro.</p>
<p>The where argument specifies which part of the vertex is to be modified. It can hold one of the following values:</p><ul>
<li><a class="el" href="#ac8752a0103acc58beebadbd52c5694dc">G_MWO_POINT_RGBA</a> -   changes the color of the vertex. The val parameter is interpreted as 4 bytes: red (high byte), green, blue, and alpha (low byte).   </li>
<li><a class="el" href="#afb84e8da2787a5cf8ca385335a850d5c">G_MWO_POINT_ST</a> -   changes the S and T values (texture coordinates of the vertex). The high 16 bits of val specify the S coordinate, and the low 16 bits specify the T coordinate. Each coordinate is an S10.5 number.   </li>
<li><a class="el" href="#ae6de43c88b8f3a2f32a17c5e3a94ede9">G_MWO_POINT_XYSCREEN</a> -   change the screen coordinates of the vertex. The high 16 bits of val specify the X coordinate and the low 16 bits specify the Y coordinate. Both coordinates are S13.2 numbers with 0,0 being the upper-left of the screen, positive X going right, and positive Y going down.   </li>
<li><a class="el" href="#a39681fea3ef91be9ce5d51b87eb93fbb">G_MWO_POINT_ZSCREEN</a> -   changes the screen Z coordinate of the vertex. The entire 32-bit val is taken as the new screen Z value. It is a 16.16 number in the range 0x00000000 to 0x03ff0000.   </li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Lighting is not performed after a gSPModifyVertex macro, so modifying the color of the vertex with <a class="el" href="#ac8752a0103acc58beebadbd52c5694dc">G_MWO_POINT_RGBA</a> is just that - modifying the actual color that will be output. It is not a modification of normal values. This means it cannot be used to update vertex normals for lighting.</dd></dl>
<p>The S and T coordinates supplied in the gSPModifyVertex macro are never multiplied by the texture scale (from the gSPTexture macro), so you must pre-scale them before sending them. For example, if you want a texture scale of 1/2 (0x8000), make the S and T values sent with the gSPModifyVertex macro half the value of the equivalent values used with the gSPVertex macro.</p>
<h1><a class="anchor" id="autotoc_md3"></a>
Example</h1>
<p>To share a vertex between two triangles with different textures and texture coordinates, use this code: </p><div class="fragment"><div class="line"><span class="comment">// load vertex by gSPVertex</span></div>
<div class="line"><a class="code hl_define" href="#aa10b6a6fa88381b34eb4325034230024">gSPVertex</a>(...);</div>
<div class="line"><span class="comment">// load texture of triangle 1</span></div>
<div class="line">gDPLoadTextureBlock(...);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// draw triangle 1 using vertex #3</span></div>
<div class="line"><a class="code hl_define" href="#afe0d779cf45ef43bbffd47bbaea0e390">gSP1Triangle</a>(glistp++, 1,2,3,0);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// change a value of vertex 3 to S=3.0 and T=2.5</span></div>
<div class="line"><a class="code hl_define" href="#abc12c0642acde2394639e9f9e247dde9">gSPModifyVertex</a>(glistp++, 3, <a class="code hl_define" href="#afb84e8da2787a5cf8ca385335a850d5c">G_MWO_POINT_ST</a>, 0x00600050);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// load texture of triangle 2</span></div>
<div class="line">gDPLoadTextureBlock(...);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// draw triangle 2 using vertex #3</span></div>
<div class="line"><a class="code hl_define" href="#afe0d779cf45ef43bbffd47bbaea0e390">gSP1Triangle</a>(glistp++, 1,2,3,0);</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vtx</td><td>specifies which of the RSP's vertices (0-55) to modify </td></tr>
    <tr><td class="paramname">where</td><td>specifies which part of the vertex to modify (<a class="el" href="#ac8752a0103acc58beebadbd52c5694dc">G_MWO_POINT_RGBA</a>, <a class="el" href="#afb84e8da2787a5cf8ca385335a850d5c">G_MWO_POINT_ST</a>, <a class="el" href="#ae6de43c88b8f3a2f32a17c5e3a94ede9">G_MWO_POINT_XYSCREEN</a> or <a class="el" href="#a39681fea3ef91be9ce5d51b87eb93fbb">G_MWO_POINT_ZSCREEN</a>) </td></tr>
    <tr><td class="paramname">val</td><td>is the new value for the part of the vertex to be modified (a 32 bit integer number)    </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7f28956eea7abd6c804d228e2ab2da8d" name="a7f28956eea7abd6c804d228e2ab2da8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f28956eea7abd6c804d228e2ab2da8d">&#9670;&#160;</a></span>gsSPNormalsMode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsSPNormalsMode</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>mode</em></span></td><td>)</td>
          <td>&#160;&#160;&#160;    gsMoveHalfwd(G_MW_FX, G_MWO_NORMALS_MODE, (mode) &amp; 0xFF)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Normals mode: How to handle transformation of vertex normals from model to world space for lighting.</p>
<p>If mode = G_NORMALS_MODE_FAST, transforms normals from model space to world space with the M matrix. This is correct if the object's transformation matrix stack only included translations, rotations, and uniform scale (i.e. same scale in X, Y, and Z); otherwise, if the transformation matrix has nonuniform scale or shear, the lighting on the object will be somewhat distorted.</p>
<p>If mode = G_NORMALS_MODE_AUTO, transforms normals from model space to world space with M inverse transpose, which renders lighting correctly for the object regardless of its transformation matrix (nonuniform scale or shear is okay). Whenever vertices are drawn with lighting enabled after M has been changed, computes M inverse transpose from M. This requires swapping to overlay 4 for M inverse transpose and then back to overlay 2 for lighting, which produces roughly 3.5 us of extra DRAM traffic. This performance penalty happens effectively once per matrix, which is once per normal object or separated limb or about twice per flex skeleton limb. So in a scene with lots of complex skeletons, this may have a noticeable performance impact.</p>
<p>If mode = G_NORMALS_MODE_MANUAL, uses M inverse transpose for correct results like G_NORMALS_MODE_AUTO, but it never internally computes M inverse transpose. You have to upload M inverse transpose to the RSP using SPMITMatrix every time you change the M matrix. The DRAM traffic for the extra matrix uploads is much smaller than the overlay swaps, so if you can efficiently compute M inverse transpose on the CPU, this may be faster than G_NORMALS_MODE_AUTO.</p>
<p>Recommended to leave this set to G_NORMALS_MODE_FAST generally, and only set it to G_NORMALS_MODE_AUTO for specific objects at times when they actually have a nonuniform scale. For example, G_NORMALS_MODE_FAST for Mario generally, but G_NORMALS_MODE_AUTO temporarily while he is squashed.    </p>

</div>
</div>
<a id="a05cbbc5a54641419bc1258390f3d6710" name="a05cbbc5a54641419bc1258390f3d6710"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05cbbc5a54641419bc1258390f3d6710">&#9670;&#160;</a></span>gsSPNumLights</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsSPNumLights</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>n</em></span></td><td>)</td>
          <td>&#160;&#160;&#160;    gsMoveWd(    G_MW_NUMLIGHT, G_MWO_NUMLIGHT, NUML(n))</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Number of directional / point lights, in the range 0-9. There is also always one ambient light not counted in this number.    </p>

</div>
</div>
<a id="a8213489140603f848ee4e9535e31c63e" name="a8213489140603f848ee4e9535e31c63e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8213489140603f848ee4e9535e31c63e">&#9670;&#160;</a></span>gsSPOcclusionPlane</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsSPOcclusionPlane</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>o</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    gsDma2p(      G_MOVEMEM, (o), <span class="keyword">sizeof</span>(OcclusionPlane), G_MV_LIGHT, \</div>
<div class="line">        (G_MAX_LIGHTS * 0x10) + 0x18)</div>
</div><!-- fragment --><p>Set the occlusion plane. This is a quadrilateral in 3D space where all geometry behind it is culled. You should create occlusion plane candidates just behind walls and other large objects, and have your game engine pick the most optimal one every frame to send to the RSP.</p>
<p>Computing the coefficients for the occlusion plane is far too complicated to explain here. The reference implementation <code>guOcclusionPlane</code> is provided separately.</p>
<p>o is the address of an OcclusionPlane struct    </p>

</div>
</div>
<a id="a339832407a1bdb6c873761c61d5caa33" name="a339832407a1bdb6c873761c61d5caa33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a339832407a1bdb6c873761c61d5caa33">&#9670;&#160;</a></span>gsSPPopMatrix</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsSPPopMatrix</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>n</em></span></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="#a53728a24461a0b5181c5805aaaff3680">gsSPPopMatrixN</a>(      (n), 1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>macro which pops one of the matrix stacks in a static display list. </p>
<p>It pops one of the matrix stacks. The model view stack can be up to 10 matrices deep. The projection stack is 1 matrix deep, so it cannot be popped.</p>
<dl class="section note"><dt>Note</dt><dd>If the stack is empty, the macro is ignored.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n</td><td>is the flag field that identifies which matrix stack to pop:<ul>
<li><a class="el" href="#a4c9589710f911ec2c38104f51a68a8aa">G_MTX_MODELVIEW</a> pops the modeling/viewing matrix stack</li>
<li><a class="el" href="#a158b3a6e36924769f7dff7f188b46b63">G_MTX_PROJECTION</a> pops the projection matrix stack (NOT IMPLEMENTED)    </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a53728a24461a0b5181c5805aaaff3680" name="a53728a24461a0b5181c5805aaaff3680"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53728a24461a0b5181c5805aaaff3680">&#9670;&#160;</a></span>gsSPPopMatrixN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsSPPopMatrixN</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>n</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>num</em></span>&#160;)&#160;&#160;&#160;gsDma2p(      G_POPMTX, (num) * 64, 64, 2, 0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>macro which pops one of the matrix stacks in a static display list. </p>
<p>It pops <code>num</code> of the matrix stacks. The model view stack can be up to 10 matrices deep. The projection stack is 1 matrix deep, so it cannot be popped.</p>
<dl class="section note"><dt>Note</dt><dd>If the stack is empty, the macro is ignored.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n</td><td>is the flag field that identifies which matrix stack to pop:<ul>
<li><a class="el" href="#a4c9589710f911ec2c38104f51a68a8aa">G_MTX_MODELVIEW</a> pops the modeling/viewing matrix stack</li>
<li><a class="el" href="#a158b3a6e36924769f7dff7f188b46b63">G_MTX_PROJECTION</a> pops the projection matrix stack (NOT IMPLEMENTED) </li>
</ul>
</td></tr>
    <tr><td class="paramname">num</td><td>is the number of matrices to pop    </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aaf15e5e8939a99813136386c513b13da" name="aaf15e5e8939a99813136386c513b13da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf15e5e8939a99813136386c513b13da">&#9670;&#160;</a></span>gsSPSetLights</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsSPSetLights</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>n</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>name</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <a class="code hl_define" href="#a05cbbc5a54641419bc1258390f3d6710">gsSPNumLights</a>(n), \</div>
<div class="line">    gsDma2p(G_MOVEMEM, &amp;(name), (n) * 0x10 + 8, G_MV_LIGHT, 0x10)</div>
<div class="ttc" id="agbi_8h_html_a05cbbc5a54641419bc1258390f3d6710"><div class="ttname"><a href="#a05cbbc5a54641419bc1258390f3d6710">gsSPNumLights</a></div><div class="ttdeci">#define gsSPNumLights(n)</div><div class="ttdef"><b>Definition</b> gbi.h:3265</div></div>
</div><!-- fragment --><p>Set all your scene's lights (directional/point + ambient) with one memory transaction. n is the number of directional / point lights, from 0 to 9. There is also always an ambient light. name should be the NAME of a Lights struct (NOT A POINTER) filled in with all the lighting data. You can use the gdSPDef* macros to fill in the struct or just do it manually. Example: Lights2 myLights; // 2 dir/pos + 1 ambient <code> gSPSetLights(POLY_OPA_DISP++, 2, myLights);</code></p>
<p><code>If you need to use a pointer, e.g. if the number of lights is variable at runtime: Light *lights = memory_allocate((numLights + 1) * sizeof(Light)); lights[0].p.pos = ...; lights[1].l.dir = ...; ... lights[numLights].l.col = ambient_color(); gSPSetLights(POLY_OPA_DISP++, numLights, *lights); // &lt;- NOTE DEREFERENCE</code></p>
<p><code>If you're wondering why this macro takes a name / dereference instead of a pointer, it's for backwards compatibility.    </code></p>

</div>
</div>
<a id="a85bff29e95fbcd0bae09f90af66dbfee" name="a85bff29e95fbcd0bae09f90af66dbfee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85bff29e95fbcd0bae09f90af66dbfee">&#9670;&#160;</a></span>gsSPTexture</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsSPTexture</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>s</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>t</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>level</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>tile</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>on</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{                                           \</div>
<div class="line">   (_SHIFTL(G_TEXTURE,  24, 8) |            \</div>
<div class="line">    _SHIFTL((level),    11, 3) |            \</div>
<div class="line">    _SHIFTL((tile),      8, 3) |            \</div>
<div class="line">    _SHIFTL((on),        1, 7)),            \</div>
<div class="line">   (_SHIFTL((s), 16, 16) |                  \</div>
<div class="line">    _SHIFTL((t),  0, 16))                   \</div>
<div class="line">}</div>
</div><!-- fragment --><p>Macros to turn texture on/off    </p>

</div>
</div>
<a id="a57d574019d54e8ea4f1e409ab9a65d31" name="a57d574019d54e8ea4f1e409ab9a65d31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57d574019d54e8ea4f1e409ab9a65d31">&#9670;&#160;</a></span>gsSPTextureL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsSPTextureL</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>s</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>t</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>level</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>bowtie</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>tile</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>on</em></span>&#160;)&#160;&#160;&#160;    <a class="el" href="#a85bff29e95fbcd0bae09f90af66dbfee">gsSPTexture</a>(s, t, level, tile, on)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The bowtie value is a workaround for a bug in HW V1, and is not supported by F3DEX2, let alone F3DEX3.    </p>

</div>
</div>
<a id="ac103f222729a278441c02d4ab3fdbcf6" name="ac103f222729a278441c02d4ab3fdbcf6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac103f222729a278441c02d4ab3fdbcf6">&#9670;&#160;</a></span>gsSPTriFan</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsSPTriFan</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v2</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v3</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v4</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v5</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v6</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v7</em></span>&#160;)&#160;&#160;&#160;    _gsSP5Triangles(G_TRIFAN, v1, v2, v3, v4, v5, v6, v7)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>5 Triangles in fan arrangement. Draws the following tris: v1-v2-v3, v1-v3-v4, v1-v4-v5, v1-v5-v6, v1-v6-v7 Otherwise works the same as SPTriStrip, see above.    </p>

</div>
</div>
<a id="a4ce5938563a7b529ef58fc2719c1a019" name="a4ce5938563a7b529ef58fc2719c1a019"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ce5938563a7b529ef58fc2719c1a019">&#9670;&#160;</a></span>gsSPTriStrip</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsSPTriStrip</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v2</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v3</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v4</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v5</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v6</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v7</em></span>&#160;)&#160;&#160;&#160;    _gsSP5Triangles(G_TRISTRIP, v1, v2, v3, v4, v5, v6, v7)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>5 Triangles in strip arrangement. Draws the following tris: v1-v2-v3, v3-v2-v4, v3-v4-v5, v5-v4-v6, v5-v6-v7 If you want to draw fewer tris, set indices to -1 from the right. e.g. to draw 4 tris, set v7 to -1; to draw 3 tris, set v6 to -1 Note that any set of 3 adjacent tris can be drawn with either SPTriStrip or SPTriFan. For arbitrary sets of 4 adjacent tris, four out of five of them can be drawn with one of SPTriStrip or SPTriFan. The 4-triangle formation which can't be drawn with either command looks like the Triforce.    </p>

</div>
</div>
<a id="a57debef2e9c1dfcd0c711f8d6bb0c0e5" name="a57debef2e9c1dfcd0c711f8d6bb0c0e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57debef2e9c1dfcd0c711f8d6bb0c0e5">&#9670;&#160;</a></span>gsSPVertex</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gsSPVertex</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>n</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>v0</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{                                   \</div>
<div class="line">   (_SHIFTL(G_VTX,      24, 8) |    \</div>
<div class="line">    _SHIFTL((n),        12, 8) |    \</div>
<div class="line">    _SHIFTL((v0) + (n),  1, 7)),    \</div>
<div class="line">    (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)(v)               \</div>
<div class="line">}</div>
</div><!-- fragment -->
<p>macro which loads an internal vertex buffer in the RSP with points that are used by gSP1Triangle macros to generate polygons in a static display list. </p>
<p>It loads an internal vertex buffer in the RSP with points that are used by <a class="el" href="#afe0d779cf45ef43bbffd47bbaea0e390">gSP1Triangle</a> macros to generate polygons. This vertex cache can hold up to 56 vertices, and the vertex loading can begin at any entry (index) within the cache. The vertex coordinates (x,y,z) are encoded in signed 2's complement, 16-bit integers. The texture coordinates (s,t) are encoded in S10.5 format. A vertex either has a color or a normal (for shading). These values are 8-bit values. The colors and alphas are treated as 8-bit unsigned values (0-255), but the normals are treated as 8-bit signed values (-128 to 127). Therefore, the appropriate member of the union to use (.v. or .n.) depends on whether you are using colors or normals.</p>
<p>Normal coordinates range from -1.0 to 1.0. A value of -1.0 is represented as -128, and a value of 1.0 is represented as 128, but because the maximum positive value of a signed byte is 127, a value of 1.0 can't really be represented. Therefore, 0.992 is the maximum representable positive value, which is good enough for this purpose.</p>
<p>The flag value is used for the packed normals feature to store normals with octahedral encoding.</p>
<p>The coordinates (x,y,z) are transformed using the current 4x4 projection and model view matrices, and (s,t) are transformed using the scale defined by gSPTexture.</p>
<h1><a class="anchor" id="autotoc_md2"></a>
Example</h1>
<p>To load vertex cache entry 2,3,4, use this code: </p><div class="fragment"><div class="line"><a class="code hl_define" href="#aa10b6a6fa88381b34eb4325034230024">gSPVertex</a>(glistp++, v, 3, 2);</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>Because the RSP geometry transformation engine uses a vertex list with triangle list architecture, it is quite powerful. A simple one-triangle macro retains least performance compared to <a class="el" href="#aee80adda08faf28c431e1eff5a1e0506">gSP2Triangles</a> or the new 5 tris commands in EX3 (<a class="el" href="#aabcbc5ce71956855291dc22646dec21f">gSPTriStrip</a>, <a class="el" href="#a6425176902ef66d72ec08772309a82e9">gSPTriFan</a>).</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">v</td><td>is the pointer to the vertex list (segment address) </td></tr>
    <tr><td class="paramname">n</td><td>is the number of vertices </td></tr>
    <tr><td class="paramname">v0</td><td>is the load vertex by index vo(0~55) in vertex buffer    </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a337d3271dded333fc80aa798bf36efe3" name="a337d3271dded333fc80aa798bf36efe3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a337d3271dded333fc80aa798bf36efe3">&#9670;&#160;</a></span>Mtx_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef long int Mtx_t[4][4]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>4x4 matrix, fixed point s15.16 format. First 8 words are integer portion of the 4x4 matrix Last 8 words are the fraction portion of the 4x4 matrix </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="gbi_8h.html">gbi.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0 </li>
  </ul>
</div>
</body>
</html>
